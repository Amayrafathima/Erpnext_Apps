import{e as m,f as t,ay as s}from"./index-a4ebe9d4.js";const o=e=>e.map(a=>(a.leave_dates=n(a),a.doctype="Leave Application",a)),n=e=>e.from_date==e.to_date?s(e.from_date).format("D MMM"):`${s(e.from_date).format("D MMM")} - ${s(e.to_date).format("D MMM")}`,_=m({url:"hrms.api.get_leave_applications",params:{employee:t.data.name,limit:5},auto:!0,cache:"hrms:my_leaves",transform(e){return o(e)},onSuccess(){p.reload()}}),u=m({url:"hrms.api.get_leave_applications",params:{employee:t.data.name,approver_id:t.data.user_id,for_approval:1,limit:5},auto:!0,cache:"hrms:team_leaves",transform(e){return o(e)}}),p=m({url:"hrms.api.get_leave_balance_map",params:{employee:t.data.name},auto:!0,cache:"hrms:leave_balance",transform:e=>Object.fromEntries(Object.entries(e).map(([a,r])=>(r.balance_percentage=r.balance_leaves/r.allocated_leaves*100,[a,r])))});export{n as g,p as l,_ as m,u as t};
