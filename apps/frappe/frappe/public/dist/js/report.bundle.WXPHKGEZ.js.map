{
  "version": 3,
  "sources": ["../../../../../apps/frappe/node_modules/sortablejs/Sortable.min.js", "../../../../../apps/frappe/node_modules/frappe-datatable/dist/frappe-datatable.cjs.js", "../../../../../apps/frappe/frappe/public/js/frappe/views/reports/report_factory.js", "../../../../../apps/frappe/frappe/public/js/frappe/views/reports/report_view.js", "../../../../../apps/frappe/frappe/public/js/frappe/views/reports/query_report.js", "frappe-html:/home/amreen/erp/frappe-bench/apps/frappe/frappe/public/js/frappe/views/reports/print_grid.html", "frappe-html:/home/amreen/erp/frappe-bench/apps/frappe/frappe/public/js/frappe/views/reports/print_tree.html", "frappe-html:/home/amreen/erp/frappe-bench/apps/frappe/frappe/public/js/frappe/ui/group_by/group_by.html", "../../../../../apps/frappe/frappe/public/js/frappe/ui/group_by/group_by.js", "../../../../../apps/frappe/frappe/public/js/frappe/views/reports/report_utils.js"],
  "sourcesContent": ["/*! Sortable 1.15.0 - MIT | git://github.com/SortableJS/Sortable.git */\n!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=t||self).Sortable=e()}(this,function(){\"use strict\";function e(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function M(o){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?e(Object(i),!0).forEach(function(t){var e,n;e=o,t=i[n=t],n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(i,t))})}return o}function o(t){return(o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,o=arguments[e];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t}).apply(this,arguments)}function i(t,e){if(null==t)return{};var n,o=function(t,e){if(null==t)return{};for(var n,o={},i=Object.keys(t),r=0;r<i.length;r++)n=i[r],0<=e.indexOf(n)||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(t),r=0;r<i.length;r++)n=i[r],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n]);return o}function r(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||function(t,e){if(t){if(\"string\"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Map\"===(n=\"Object\"===n&&t.constructor?t.constructor.name:n)||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function t(t){if(\"undefined\"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var y=t(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i),w=t(/Edge/i),s=t(/firefox/i),u=t(/safari/i)&&!t(/chrome/i)&&!t(/android/i),n=t(/iP(ad|od|hone)/i),c=t(/chrome/i)&&t(/android/i),d={capture:!1,passive:!1};function h(t,e,n){t.addEventListener(e,n,!y&&d)}function f(t,e,n){t.removeEventListener(e,n,!y&&d)}function p(t,e){if(e&&(\">\"===e[0]&&(e=e.substring(1)),t))try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return}}function N(t,e,n,o){if(t){n=n||document;do{if(null!=e&&(\">\"!==e[0]||t.parentNode===n)&&p(t,e)||o&&t===n)return t}while(t!==n&&(t=(i=t).host&&i!==document&&i.host.nodeType?i.host:i.parentNode))}var i;return null}var g,m=/\\s+/g;function I(t,e,n){var o;t&&e&&(t.classList?t.classList[n?\"add\":\"remove\"](e):(o=(\" \"+t.className+\" \").replace(m,\" \").replace(\" \"+e+\" \",\" \"),t.className=(o+(n?\" \"+e:\"\")).replace(m,\" \")))}function P(t,e,n){var o=t&&t.style;if(o){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,\"\"):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];o[e=!(e in o||-1!==e.indexOf(\"webkit\"))?\"-webkit-\"+e:e]=n+(\"string\"==typeof n?\"\":\"px\")}}function v(t,e){var n=\"\";if(\"string\"==typeof t)n=t;else do{var o=P(t,\"transform\")}while(o&&\"none\"!==o&&(n=o+\" \"+n),!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function b(t,e,n){if(t){var o=t.getElementsByTagName(e),i=0,r=o.length;if(n)for(;i<r;i++)n(o[i],i);return o}return[]}function O(){var t=document.scrollingElement;return t||document.documentElement}function k(t,e,n,o,i){if(t.getBoundingClientRect||t===window){var r,a,l,s,c,u,d=t!==window&&t.parentNode&&t!==O()?(a=(r=t.getBoundingClientRect()).top,l=r.left,s=r.bottom,c=r.right,u=r.height,r.width):(l=a=0,s=window.innerHeight,c=window.innerWidth,u=window.innerHeight,window.innerWidth);if((e||n)&&t!==window&&(i=i||t.parentNode,!y))do{if(i&&i.getBoundingClientRect&&(\"none\"!==P(i,\"transform\")||n&&\"static\"!==P(i,\"position\"))){var h=i.getBoundingClientRect();a-=h.top+parseInt(P(i,\"border-top-width\")),l-=h.left+parseInt(P(i,\"border-left-width\")),s=a+r.height,c=l+r.width;break}}while(i=i.parentNode);return o&&t!==window&&(o=(e=v(i||t))&&e.a,t=e&&e.d,e&&(s=(a/=t)+(u/=t),c=(l/=o)+(d/=o))),{top:a,left:l,bottom:s,right:c,width:d,height:u}}}function R(t,e,n){for(var o=A(t,!0),i=k(t)[e];o;){var r=k(o)[n];if(!(\"top\"===n||\"left\"===n?r<=i:i<=r))return o;if(o===O())break;o=A(o,!1)}return!1}function X(t,e,n,o){for(var i=0,r=0,a=t.children;r<a.length;){if(\"none\"!==a[r].style.display&&a[r]!==Bt.ghost&&(o||a[r]!==Bt.dragged)&&N(a[r],n.draggable,t,!1)){if(i===e)return a[r];i++}r++}return null}function Y(t,e){for(var n=t.lastElementChild;n&&(n===Bt.ghost||\"none\"===P(n,\"display\")||e&&!p(n,e));)n=n.previousElementSibling;return n||null}function B(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)\"TEMPLATE\"===t.nodeName.toUpperCase()||t===Bt.clone||e&&!p(t,e)||n++;return n}function E(t){var e=0,n=0,o=O();if(t)do{var i=v(t),r=i.a,i=i.d}while(e+=t.scrollLeft*r,n+=t.scrollTop*i,t!==o&&(t=t.parentNode));return[e,n]}function A(t,e){if(!t||!t.getBoundingClientRect)return O();var n=t,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=P(n);if(n.clientWidth<n.scrollWidth&&(\"auto\"==i.overflowX||\"scroll\"==i.overflowX)||n.clientHeight<n.scrollHeight&&(\"auto\"==i.overflowY||\"scroll\"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return O();if(o||e)return n;o=!0}}}while(n=n.parentNode);return O()}function D(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function S(e,n){return function(){var t;g||(1===(t=arguments).length?e.call(this,t[0]):e.apply(this,t),g=setTimeout(function(){g=void 0},n))}}function F(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function _(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function C(t,e){P(t,\"position\",\"absolute\"),P(t,\"top\",e.top),P(t,\"left\",e.left),P(t,\"width\",e.width),P(t,\"height\",e.height)}function T(t){P(t,\"position\",\"\"),P(t,\"top\",\"\"),P(t,\"left\",\"\"),P(t,\"width\",\"\"),P(t,\"height\",\"\")}var j=\"Sortable\"+(new Date).getTime();function x(){var e,o=[];return{captureAnimationState:function(){o=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(t){var e,n;\"none\"!==P(t,\"display\")&&t!==Bt.ghost&&(o.push({target:t,rect:k(t)}),e=M({},o[o.length-1].rect),!t.thisAnimationDuration||(n=v(t,!0))&&(e.top-=n.f,e.left-=n.e),t.fromRect=e)})},addAnimationState:function(t){o.push(t)},removeAnimationState:function(t){o.splice(function(t,e){for(var n in t)if(t.hasOwnProperty(n))for(var o in e)if(e.hasOwnProperty(o)&&e[o]===t[n][o])return Number(n);return-1}(o,{target:t}),1)},animateAll:function(t){var c=this;if(!this.options.animation)return clearTimeout(e),void(\"function\"==typeof t&&t());var u=!1,d=0;o.forEach(function(t){var e=0,n=t.target,o=n.fromRect,i=k(n),r=n.prevFromRect,a=n.prevToRect,l=t.rect,s=v(n,!0);s&&(i.top-=s.f,i.left-=s.e),n.toRect=i,n.thisAnimationDuration&&D(r,i)&&!D(o,i)&&(l.top-i.top)/(l.left-i.left)==(o.top-i.top)/(o.left-i.left)&&(t=l,s=r,r=a,a=c.options,e=Math.sqrt(Math.pow(s.top-t.top,2)+Math.pow(s.left-t.left,2))/Math.sqrt(Math.pow(s.top-r.top,2)+Math.pow(s.left-r.left,2))*a.animation),D(i,o)||(n.prevFromRect=o,n.prevToRect=i,e=e||c.options.animation,c.animate(n,l,i,e)),e&&(u=!0,d=Math.max(d,e),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout(function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null},e),n.thisAnimationDuration=e)}),clearTimeout(e),u?e=setTimeout(function(){\"function\"==typeof t&&t()},d):\"function\"==typeof t&&t(),o=[]},animate:function(t,e,n,o){var i,r;o&&(P(t,\"transition\",\"\"),P(t,\"transform\",\"\"),i=(r=v(this.el))&&r.a,r=r&&r.d,i=(e.left-n.left)/(i||1),r=(e.top-n.top)/(r||1),t.animatingX=!!i,t.animatingY=!!r,P(t,\"transform\",\"translate3d(\"+i+\"px,\"+r+\"px,0)\"),this.forRepaintDummy=t.offsetWidth,P(t,\"transition\",\"transform \"+o+\"ms\"+(this.options.easing?\" \"+this.options.easing:\"\")),P(t,\"transform\",\"translate3d(0,0,0)\"),\"number\"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout(function(){P(t,\"transition\",\"\"),P(t,\"transform\",\"\"),t.animated=!1,t.animatingX=!1,t.animatingY=!1},o))}}}var H=[],L={initializeByDefault:!0},K={mount:function(e){for(var t in L)!L.hasOwnProperty(t)||t in e||(e[t]=L[t]);H.forEach(function(t){if(t.pluginName===e.pluginName)throw\"Sortable: Cannot mount plugin \".concat(e.pluginName,\" more than once\")}),H.push(e)},pluginEvent:function(e,n,o){var t=this;this.eventCanceled=!1,o.cancel=function(){t.eventCanceled=!0};var i=e+\"Global\";H.forEach(function(t){n[t.pluginName]&&(n[t.pluginName][i]&&n[t.pluginName][i](M({sortable:n},o)),n.options[t.pluginName]&&n[t.pluginName][e]&&n[t.pluginName][e](M({sortable:n},o)))})},initializePlugins:function(n,o,i,t){for(var e in H.forEach(function(t){var e=t.pluginName;(n.options[e]||t.initializeByDefault)&&((t=new t(n,o,n.options)).sortable=n,t.options=n.options,n[e]=t,a(i,t.defaults))}),n.options){var r;n.options.hasOwnProperty(e)&&(void 0!==(r=this.modifyOption(n,e,n.options[e]))&&(n.options[e]=r))}},getEventProperties:function(e,n){var o={};return H.forEach(function(t){\"function\"==typeof t.eventProperties&&a(o,t.eventProperties.call(n[t.pluginName],e))}),o},modifyOption:function(e,n,o){var i;return H.forEach(function(t){e[t.pluginName]&&t.optionListeners&&\"function\"==typeof t.optionListeners[n]&&(i=t.optionListeners[n].call(e[t.pluginName],o))}),i}};function W(t){var e=t.sortable,n=t.rootEl,o=t.name,i=t.targetEl,r=t.cloneEl,a=t.toEl,l=t.fromEl,s=t.oldIndex,c=t.newIndex,u=t.oldDraggableIndex,d=t.newDraggableIndex,h=t.originalEvent,f=t.putSortable,p=t.extraEventProperties;if(e=e||n&&n[j]){var g,m=e.options,t=\"on\"+o.charAt(0).toUpperCase()+o.substr(1);!window.CustomEvent||y||w?(g=document.createEvent(\"Event\")).initEvent(o,!0,!0):g=new CustomEvent(o,{bubbles:!0,cancelable:!0}),g.to=a||n,g.from=l||n,g.item=i||n,g.clone=r,g.oldIndex=s,g.newIndex=c,g.oldDraggableIndex=u,g.newDraggableIndex=d,g.originalEvent=h,g.pullMode=f?f.lastPutMode:void 0;var v,b=M(M({},p),K.getEventProperties(o,e));for(v in b)g[v]=b[v];n&&n.dispatchEvent(g),m[t]&&m[t].call(e,g)}}function z(t,e){var n=(o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).evt,o=i(o,G);K.pluginEvent.bind(Bt)(t,e,M({dragEl:q,parentEl:V,ghostEl:Z,rootEl:$,nextEl:Q,lastDownEl:J,cloneEl:tt,cloneHidden:et,dragStarted:pt,putSortable:lt,activeSortable:Bt.active,originalEvent:n,oldIndex:nt,oldDraggableIndex:it,newIndex:ot,newDraggableIndex:rt,hideGhostForTarget:kt,unhideGhostForTarget:Rt,cloneNowHidden:function(){et=!0},cloneNowShown:function(){et=!1},dispatchSortableEvent:function(t){U({sortable:e,name:t,originalEvent:n})}},o))}var G=[\"evt\"];function U(t){W(M({putSortable:lt,cloneEl:tt,targetEl:q,rootEl:$,oldIndex:nt,oldDraggableIndex:it,newIndex:ot,newDraggableIndex:rt},t))}var q,V,Z,$,Q,J,tt,et,nt,ot,it,rt,at,lt,st,ct,ut,dt,ht,ft,pt,gt,mt,vt,bt,yt=!1,wt=!1,Et=[],Dt=!1,St=!1,_t=[],Ct=!1,Tt=[],xt=\"undefined\"!=typeof document,Ot=n,At=w||y?\"cssFloat\":\"float\",Mt=xt&&!c&&!n&&\"draggable\"in document.createElement(\"div\"),Nt=function(){if(xt){if(y)return!1;var t=document.createElement(\"x\");return t.style.cssText=\"pointer-events:auto\",\"auto\"===t.style.pointerEvents}}(),It=function(t,e){var n=P(t),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=X(t,0,e),r=X(t,1,e),a=i&&P(i),l=r&&P(r),s=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+k(i).width,t=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+k(r).width;if(\"flex\"===n.display)return\"column\"===n.flexDirection||\"column-reverse\"===n.flexDirection?\"vertical\":\"horizontal\";if(\"grid\"===n.display)return n.gridTemplateColumns.split(\" \").length<=1?\"vertical\":\"horizontal\";if(i&&a.float&&\"none\"!==a.float){e=\"left\"===a.float?\"left\":\"right\";return!r||\"both\"!==l.clear&&l.clear!==e?\"horizontal\":\"vertical\"}return i&&(\"block\"===a.display||\"flex\"===a.display||\"table\"===a.display||\"grid\"===a.display||o<=s&&\"none\"===n[At]||r&&\"none\"===n[At]&&o<s+t)?\"vertical\":\"horizontal\"},Pt=function(t){function l(r,a){return function(t,e,n,o){var i=t.options.group.name&&e.options.group.name&&t.options.group.name===e.options.group.name;if(null==r&&(a||i))return!0;if(null==r||!1===r)return!1;if(a&&\"clone\"===r)return r;if(\"function\"==typeof r)return l(r(t,e,n,o),a)(t,e,n,o);e=(a?t:e).options.group.name;return!0===r||\"string\"==typeof r&&r===e||r.join&&-1<r.indexOf(e)}}var e={},n=t.group;n&&\"object\"==o(n)||(n={name:n}),e.name=n.name,e.checkPull=l(n.pull,!0),e.checkPut=l(n.put),e.revertClone=n.revertClone,t.group=e},kt=function(){!Nt&&Z&&P(Z,\"display\",\"none\")},Rt=function(){!Nt&&Z&&P(Z,\"display\",\"\")};xt&&!c&&document.addEventListener(\"click\",function(t){if(wt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),wt=!1},!0);function Xt(t){if(q){t=t.touches?t.touches[0]:t;var e=(i=t.clientX,r=t.clientY,Et.some(function(t){var e=t[j].options.emptyInsertThreshold;if(e&&!Y(t)){var n=k(t),o=i>=n.left-e&&i<=n.right+e,e=r>=n.top-e&&r<=n.bottom+e;return o&&e?a=t:void 0}}),a);if(e){var n,o={};for(n in t)t.hasOwnProperty(n)&&(o[n]=t[n]);o.target=o.rootEl=e,o.preventDefault=void 0,o.stopPropagation=void 0,e[j]._onDragOver(o)}}var i,r,a}function Yt(t){q&&q.parentNode[j]._isOutsideThisEl(t.target)}function Bt(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw\"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(t));this.el=t,this.options=e=a({},e),t[j]=this;var n,o,i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?\">li\":\">*\",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return It(t,this.options)},ghostClass:\"sortable-ghost\",chosenClass:\"sortable-chosen\",dragClass:\"sortable-drag\",ignore:\"a, img\",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData(\"Text\",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:\"data-id\",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:\"sortable-fallback\",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Bt.supportPointer&&\"PointerEvent\"in window&&!u,emptyInsertThreshold:5};for(n in K.initializePlugins(this,t,i),i)n in e||(e[n]=i[n]);for(o in Pt(e),this)\"_\"===o.charAt(0)&&\"function\"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!e.forceFallback&&Mt,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?h(t,\"pointerdown\",this._onTapStart):(h(t,\"mousedown\",this._onTapStart),h(t,\"touchstart\",this._onTapStart)),this.nativeDraggable&&(h(t,\"dragover\",this),h(t,\"dragenter\",this)),Et.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),a(this,x())}function Ft(t,e,n,o,i,r,a,l){var s,c,u=t[j],d=u.options.onMove;return!window.CustomEvent||y||w?(s=document.createEvent(\"Event\")).initEvent(\"move\",!0,!0):s=new CustomEvent(\"move\",{bubbles:!0,cancelable:!0}),s.to=e,s.from=t,s.dragged=n,s.draggedRect=o,s.related=i||e,s.relatedRect=r||k(e),s.willInsertAfter=l,s.originalEvent=a,t.dispatchEvent(s),c=d?d.call(u,s,a):c}function jt(t){t.draggable=!1}function Ht(){Ct=!1}function Lt(t){return setTimeout(t,0)}function Kt(t){return clearTimeout(t)}Bt.prototype={constructor:Bt,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(gt=null)},_getDirection:function(t,e){return\"function\"==typeof this.options.direction?this.options.direction.call(this,t,e,q):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,o=this.el,t=this.options,i=t.preventOnFilter,r=e.type,a=e.touches&&e.touches[0]||e.pointerType&&\"touch\"===e.pointerType&&e,l=(a||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=t.filter;if(!function(t){Tt.length=0;var e=t.getElementsByTagName(\"input\"),n=e.length;for(;n--;){var o=e[n];o.checked&&Tt.push(o)}}(o),!q&&!(/mousedown|pointerdown/.test(r)&&0!==e.button||t.disabled)&&!s.isContentEditable&&(this.nativeDraggable||!u||!l||\"SELECT\"!==l.tagName.toUpperCase())&&!((l=N(l,t.draggable,o,!1))&&l.animated||J===l)){if(nt=B(l),it=B(l,t.draggable),\"function\"==typeof c){if(c.call(this,e,l,this))return U({sortable:n,rootEl:s,name:\"filter\",targetEl:l,toEl:o,fromEl:o}),z(\"filter\",n,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(c=c&&c.split(\",\").some(function(t){if(t=N(s,t.trim(),o,!1))return U({sortable:n,rootEl:t,name:\"filter\",targetEl:l,fromEl:o,toEl:o}),z(\"filter\",n,{evt:e}),!0}))return void(i&&e.cancelable&&e.preventDefault());t.handle&&!N(s,t.handle,o,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(t,e,n){var o,i=this,r=i.el,a=i.options,l=r.ownerDocument;n&&!q&&n.parentNode===r&&(o=k(n),$=r,V=(q=n).parentNode,Q=q.nextSibling,J=n,at=a.group,st={target:Bt.dragged=q,clientX:(e||t).clientX,clientY:(e||t).clientY},ht=st.clientX-o.left,ft=st.clientY-o.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,q.style[\"will-change\"]=\"all\",o=function(){z(\"delayEnded\",i,{evt:t}),Bt.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!s&&i.nativeDraggable&&(q.draggable=!0),i._triggerDragStart(t,e),U({sortable:i,name:\"choose\",originalEvent:t}),I(q,a.chosenClass,!0))},a.ignore.split(\",\").forEach(function(t){b(q,t.trim(),jt)}),h(l,\"dragover\",Xt),h(l,\"mousemove\",Xt),h(l,\"touchmove\",Xt),h(l,\"mouseup\",i._onDrop),h(l,\"touchend\",i._onDrop),h(l,\"touchcancel\",i._onDrop),s&&this.nativeDraggable&&(this.options.touchStartThreshold=4,q.draggable=!0),z(\"delayStart\",this,{evt:t}),!a.delay||a.delayOnTouchOnly&&!e||this.nativeDraggable&&(w||y)?o():Bt.eventCanceled?this._onDrop():(h(l,\"mouseup\",i._disableDelayedDrag),h(l,\"touchend\",i._disableDelayedDrag),h(l,\"touchcancel\",i._disableDelayedDrag),h(l,\"mousemove\",i._delayedDragTouchMoveHandler),h(l,\"touchmove\",i._delayedDragTouchMoveHandler),a.supportPointer&&h(l,\"pointermove\",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(o,a.delay)))},_delayedDragTouchMoveHandler:function(t){t=t.touches?t.touches[0]:t;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){q&&jt(q),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;f(t,\"mouseup\",this._disableDelayedDrag),f(t,\"touchend\",this._disableDelayedDrag),f(t,\"touchcancel\",this._disableDelayedDrag),f(t,\"mousemove\",this._delayedDragTouchMoveHandler),f(t,\"touchmove\",this._delayedDragTouchMoveHandler),f(t,\"pointermove\",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||\"touch\"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?h(document,\"pointermove\",this._onTouchMove):h(document,e?\"touchmove\":\"mousemove\",this._onTouchMove):(h(q,\"dragend\",this),h($,\"dragstart\",this._onDragStart));try{document.selection?Lt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){var n;yt=!1,$&&q?(z(\"dragStarted\",this,{evt:e}),this.nativeDraggable&&h(document,\"dragover\",Yt),n=this.options,t||I(q,n.dragClass,!1),I(q,n.ghostClass,!0),Bt.active=this,t&&this._appendGhost(),U({sortable:this,name:\"start\",originalEvent:e})):this._nulling()},_emulateDragOver:function(){if(ct){this._lastX=ct.clientX,this._lastY=ct.clientY,kt();for(var t=document.elementFromPoint(ct.clientX,ct.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(ct.clientX,ct.clientY))!==e;)e=t;if(q.parentNode[j]._isOutsideThisEl(t),e)do{if(e[j])if(e[j]._onDragOver({clientX:ct.clientX,clientY:ct.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break}while(e=(t=e).parentNode);Rt()}},_onTouchMove:function(t){if(st){var e=this.options,n=e.fallbackTolerance,o=e.fallbackOffset,i=t.touches?t.touches[0]:t,r=Z&&v(Z,!0),a=Z&&r&&r.a,l=Z&&r&&r.d,e=Ot&&bt&&E(bt),a=(i.clientX-st.clientX+o.x)/(a||1)+(e?e[0]-_t[0]:0)/(a||1),l=(i.clientY-st.clientY+o.y)/(l||1)+(e?e[1]-_t[1]:0)/(l||1);if(!Bt.active&&!yt){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}Z&&(r?(r.e+=a-(ut||0),r.f+=l-(dt||0)):r={a:1,b:0,c:0,d:1,e:a,f:l},r=\"matrix(\".concat(r.a,\",\").concat(r.b,\",\").concat(r.c,\",\").concat(r.d,\",\").concat(r.e,\",\").concat(r.f,\")\"),P(Z,\"webkitTransform\",r),P(Z,\"mozTransform\",r),P(Z,\"msTransform\",r),P(Z,\"transform\",r),ut=a,dt=l,ct=i),t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Z){var t=this.options.fallbackOnBody?document.body:$,e=k(q,!0,Ot,!0,t),n=this.options;if(Ot){for(bt=t;\"static\"===P(bt,\"position\")&&\"none\"===P(bt,\"transform\")&&bt!==document;)bt=bt.parentNode;bt!==document.body&&bt!==document.documentElement?(bt===document&&(bt=O()),e.top+=bt.scrollTop,e.left+=bt.scrollLeft):bt=O(),_t=E(bt)}I(Z=q.cloneNode(!0),n.ghostClass,!1),I(Z,n.fallbackClass,!0),I(Z,n.dragClass,!0),P(Z,\"transition\",\"\"),P(Z,\"transform\",\"\"),P(Z,\"box-sizing\",\"border-box\"),P(Z,\"margin\",0),P(Z,\"top\",e.top),P(Z,\"left\",e.left),P(Z,\"width\",e.width),P(Z,\"height\",e.height),P(Z,\"opacity\",\"0.8\"),P(Z,\"position\",Ot?\"absolute\":\"fixed\"),P(Z,\"zIndex\",\"100000\"),P(Z,\"pointerEvents\",\"none\"),Bt.ghost=Z,t.appendChild(Z),P(Z,\"transform-origin\",ht/parseInt(Z.style.width)*100+\"% \"+ft/parseInt(Z.style.height)*100+\"%\")}},_onDragStart:function(t,e){var n=this,o=t.dataTransfer,i=n.options;z(\"dragStart\",this,{evt:t}),Bt.eventCanceled?this._onDrop():(z(\"setupClone\",this),Bt.eventCanceled||((tt=_(q)).removeAttribute(\"id\"),tt.draggable=!1,tt.style[\"will-change\"]=\"\",this._hideClone(),I(tt,this.options.chosenClass,!1),Bt.clone=tt),n.cloneId=Lt(function(){z(\"clone\",n),Bt.eventCanceled||(n.options.removeCloneOnHide||$.insertBefore(tt,q),n._hideClone(),U({sortable:n,name:\"clone\"}))}),e||I(q,i.dragClass,!0),e?(wt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(f(document,\"mouseup\",n._onDrop),f(document,\"touchend\",n._onDrop),f(document,\"touchcancel\",n._onDrop),o&&(o.effectAllowed=\"move\",i.setData&&i.setData.call(n,o,q)),h(document,\"drop\",n),P(q,\"transform\",\"translateZ(0)\")),yt=!0,n._dragStartId=Lt(n._dragStarted.bind(n,e,t)),h(document,\"selectstart\",n),pt=!0,u&&P(document.body,\"user-select\",\"none\"))},_onDragOver:function(n){var o,i,r,t,a=this.el,l=n.target,e=this.options,s=e.group,c=Bt.active,u=at===s,d=e.sort,h=lt||c,f=this,p=!1;if(!Ct){if(void 0!==n.preventDefault&&n.cancelable&&n.preventDefault(),l=N(l,e.draggable,a,!0),T(\"dragOver\"),Bt.eventCanceled)return p;if(q.contains(n.target)||l.animated&&l.animatingX&&l.animatingY||f._ignoreWhileAnimating===l)return O(!1);if(wt=!1,c&&!e.disabled&&(u?d||(i=V!==$):lt===this||(this.lastPutMode=at.checkPull(this,c,q,n))&&s.checkPut(this,c,q,n))){if(r=\"vertical\"===this._getDirection(n,l),o=k(q),T(\"dragOverValid\"),Bt.eventCanceled)return p;if(i)return V=$,x(),this._hideClone(),T(\"revert\"),Bt.eventCanceled||(Q?$.insertBefore(q,Q):$.appendChild(q)),O(!0);var g=Y(a,e.draggable);if(!g||function(t,e,n){n=k(Y(n.el,n.options.draggable));return e?t.clientX>n.right+10||t.clientX<=n.right&&t.clientY>n.bottom&&t.clientX>=n.left:t.clientX>n.right&&t.clientY>n.top||t.clientX<=n.right&&t.clientY>n.bottom+10}(n,r,this)&&!g.animated){if(g===q)return O(!1);if((l=g&&a===n.target?g:l)&&(w=k(l)),!1!==Ft($,a,q,o,l,w,n,!!l))return x(),g&&g.nextSibling?a.insertBefore(q,g.nextSibling):a.appendChild(q),V=a,A(),O(!0)}else if(g&&function(t,e,n){n=k(X(n.el,0,n.options,!0));return e?t.clientX<n.left-10||t.clientY<n.top&&t.clientX<n.right:t.clientY<n.top-10||t.clientY<n.bottom&&t.clientX<n.left}(n,r,this)){var m=X(a,0,e,!0);if(m===q)return O(!1);if(w=k(l=m),!1!==Ft($,a,q,o,l,w,n,!1))return x(),a.insertBefore(q,m),V=a,A(),O(!0)}else if(l.parentNode===a){var v,b,y,w=k(l),E=q.parentNode!==a,D=(D=q.animated&&q.toRect||o,C=l.animated&&l.toRect||w,S=(t=r)?D.left:D.top,s=t?D.right:D.bottom,g=t?D.width:D.height,m=t?C.left:C.top,D=t?C.right:C.bottom,C=t?C.width:C.height,!(S===m||s===D||S+g/2===m+C/2)),S=r?\"top\":\"left\",g=R(l,\"top\",\"top\")||R(q,\"top\",\"top\"),m=g?g.scrollTop:void 0;if(gt!==l&&(b=w[S],Dt=!1,St=!D&&e.invertSwap||E),0!==(v=function(t,e,n,o,i,r,a,l){var s=o?t.clientY:t.clientX,c=o?n.height:n.width,t=o?n.top:n.left,o=o?n.bottom:n.right,n=!1;if(!a)if(l&&vt<c*i){if(Dt=!Dt&&(1===mt?t+c*r/2<s:s<o-c*r/2)?!0:Dt)n=!0;else if(1===mt?s<t+vt:o-vt<s)return-mt}else if(t+c*(1-i)/2<s&&s<o-c*(1-i)/2)return function(t){return B(q)<B(t)?1:-1}(e);if((n=n||a)&&(s<t+c*r/2||o-c*r/2<s))return t+c/2<s?1:-1;return 0}(n,l,w,r,D?1:e.swapThreshold,null==e.invertedSwapThreshold?e.swapThreshold:e.invertedSwapThreshold,St,gt===l)))for(var _=B(q);(y=V.children[_-=v])&&(\"none\"===P(y,\"display\")||y===Z););if(0===v||y===l)return O(!1);mt=v;var C=(gt=l).nextElementSibling,E=!1,D=Ft($,a,q,o,l,w,n,E=1===v);if(!1!==D)return 1!==D&&-1!==D||(E=1===D),Ct=!0,setTimeout(Ht,30),x(),E&&!C?a.appendChild(q):l.parentNode.insertBefore(q,E?C:l),g&&F(g,0,m-g.scrollTop),V=q.parentNode,void 0===b||St||(vt=Math.abs(b-k(l)[S])),A(),O(!0)}if(a.contains(q))return O(!1)}return!1}function T(t,e){z(t,f,M({evt:n,isOwner:u,axis:r?\"vertical\":\"horizontal\",revert:i,dragRect:o,targetRect:w,canSort:d,fromSortable:h,target:l,completed:O,onMove:function(t,e){return Ft($,a,q,o,t,k(t),n,e)},changed:A},e))}function x(){T(\"dragOverAnimationCapture\"),f.captureAnimationState(),f!==h&&h.captureAnimationState()}function O(t){return T(\"dragOverCompleted\",{insertion:t}),t&&(u?c._hideClone():c._showClone(f),f!==h&&(I(q,(lt||c).options.ghostClass,!1),I(q,e.ghostClass,!0)),lt!==f&&f!==Bt.active?lt=f:f===Bt.active&&lt&&(lt=null),h===f&&(f._ignoreWhileAnimating=l),f.animateAll(function(){T(\"dragOverAnimationComplete\"),f._ignoreWhileAnimating=null}),f!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(l===q&&!q.animated||l===a&&!l.animated)&&(gt=null),e.dragoverBubble||n.rootEl||l===document||(q.parentNode[j]._isOutsideThisEl(n.target),t||Xt(n)),!e.dragoverBubble&&n.stopPropagation&&n.stopPropagation(),p=!0}function A(){ot=B(q),rt=B(q,e.draggable),U({sortable:f,name:\"change\",toEl:a,newIndex:ot,newDraggableIndex:rt,originalEvent:n})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){f(document,\"mousemove\",this._onTouchMove),f(document,\"touchmove\",this._onTouchMove),f(document,\"pointermove\",this._onTouchMove),f(document,\"dragover\",Xt),f(document,\"mousemove\",Xt),f(document,\"touchmove\",Xt)},_offUpEvents:function(){var t=this.el.ownerDocument;f(t,\"mouseup\",this._onDrop),f(t,\"touchend\",this._onDrop),f(t,\"pointerup\",this._onDrop),f(t,\"touchcancel\",this._onDrop),f(document,\"selectstart\",this)},_onDrop:function(t){var e=this.el,n=this.options;ot=B(q),rt=B(q,n.draggable),z(\"drop\",this,{evt:t}),V=q&&q.parentNode,ot=B(q),rt=B(q,n.draggable),Bt.eventCanceled||(Dt=St=yt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Kt(this.cloneId),Kt(this._dragStartId),this.nativeDraggable&&(f(document,\"drop\",this),f(e,\"dragstart\",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),u&&P(document.body,\"user-select\",\"\"),P(q,\"transform\",\"\"),t&&(pt&&(t.cancelable&&t.preventDefault(),n.dropBubble||t.stopPropagation()),Z&&Z.parentNode&&Z.parentNode.removeChild(Z),($===V||lt&&\"clone\"!==lt.lastPutMode)&&tt&&tt.parentNode&&tt.parentNode.removeChild(tt),q&&(this.nativeDraggable&&f(q,\"dragend\",this),jt(q),q.style[\"will-change\"]=\"\",pt&&!yt&&I(q,(lt||this).options.ghostClass,!1),I(q,this.options.chosenClass,!1),U({sortable:this,name:\"unchoose\",toEl:V,newIndex:null,newDraggableIndex:null,originalEvent:t}),$!==V?(0<=ot&&(U({rootEl:V,name:\"add\",toEl:V,fromEl:$,originalEvent:t}),U({sortable:this,name:\"remove\",toEl:V,originalEvent:t}),U({rootEl:V,name:\"sort\",toEl:V,fromEl:$,originalEvent:t}),U({sortable:this,name:\"sort\",toEl:V,originalEvent:t})),lt&&lt.save()):ot!==nt&&0<=ot&&(U({sortable:this,name:\"update\",toEl:V,originalEvent:t}),U({sortable:this,name:\"sort\",toEl:V,originalEvent:t})),Bt.active&&(null!=ot&&-1!==ot||(ot=nt,rt=it),U({sortable:this,name:\"end\",toEl:V,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){z(\"nulling\",this),$=q=V=Z=Q=tt=J=et=st=ct=pt=ot=rt=nt=it=gt=mt=lt=at=Bt.dragged=Bt.ghost=Bt.clone=Bt.active=null,Tt.forEach(function(t){t.checked=!0}),Tt.length=ut=dt=0},handleEvent:function(t){switch(t.type){case\"drop\":case\"dragend\":this._onDrop(t);break;case\"dragenter\":case\"dragover\":q&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect=\"move\");t.cancelable&&t.preventDefault()}(t));break;case\"selectstart\":t.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,o=0,i=n.length,r=this.options;o<i;o++)N(t=n[o],r.draggable,this.el,!1)&&e.push(t.getAttribute(r.dataIdAttr)||function(t){var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,o=0;for(;n--;)o+=e.charCodeAt(n);return o.toString(36)}(t));return e},sort:function(t,e){var n={},o=this.el;this.toArray().forEach(function(t,e){e=o.children[e];N(e,this.options.draggable,o,!1)&&(n[t]=e)},this),e&&this.captureAnimationState(),t.forEach(function(t){n[t]&&(o.removeChild(n[t]),o.appendChild(n[t]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return N(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var o=K.modifyOption(this,t,e);n[t]=void 0!==o?o:e,\"group\"===t&&Pt(n)},destroy:function(){z(\"destroy\",this);var t=this.el;t[j]=null,f(t,\"mousedown\",this._onTapStart),f(t,\"touchstart\",this._onTapStart),f(t,\"pointerdown\",this._onTapStart),this.nativeDraggable&&(f(t,\"dragover\",this),f(t,\"dragenter\",this)),Array.prototype.forEach.call(t.querySelectorAll(\"[draggable]\"),function(t){t.removeAttribute(\"draggable\")}),this._onDrop(),this._disableDelayedDragEvents(),Et.splice(Et.indexOf(this.el),1),this.el=t=null},_hideClone:function(){et||(z(\"hideClone\",this),Bt.eventCanceled||(P(tt,\"display\",\"none\"),this.options.removeCloneOnHide&&tt.parentNode&&tt.parentNode.removeChild(tt),et=!0))},_showClone:function(t){\"clone\"===t.lastPutMode?et&&(z(\"showClone\",this),Bt.eventCanceled||(q.parentNode!=$||this.options.group.revertClone?Q?$.insertBefore(tt,Q):$.appendChild(tt):$.insertBefore(tt,q),this.options.group.revertClone&&this.animate(q,tt),P(tt,\"display\",\"\"),et=!1)):this._hideClone()}},xt&&h(document,\"touchmove\",function(t){(Bt.active||yt)&&t.cancelable&&t.preventDefault()}),Bt.utils={on:h,off:f,css:P,find:b,is:function(t,e){return!!N(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},throttle:S,closest:N,toggleClass:I,clone:_,index:B,nextTick:Lt,cancelNextTick:Kt,detectDirection:It,getChild:X},Bt.get=function(t){return t[j]},Bt.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];(e=e[0].constructor===Array?e[0]:e).forEach(function(t){if(!t.prototype||!t.prototype.constructor)throw\"Sortable: Mounted plugin must be a constructor function, not \".concat({}.toString.call(t));t.utils&&(Bt.utils=M(M({},Bt.utils),t.utils)),K.mount(t)})},Bt.create=function(t,e){return new Bt(t,e)};var Wt,zt,Gt,Ut,qt,Vt,Zt=[],$t=!(Bt.version=\"1.15.0\");function Qt(){Zt.forEach(function(t){clearInterval(t.pid)}),Zt=[]}function Jt(){clearInterval(Vt)}var te,ee=S(function(n,t,e,o){if(t.scroll){var i,r=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,l=t.scrollSensitivity,s=t.scrollSpeed,c=O(),u=!1;zt!==e&&(zt=e,Qt(),Wt=t.scroll,i=t.scrollFn,!0===Wt&&(Wt=A(e,!0)));var d=0,h=Wt;do{var f=h,p=k(f),g=p.top,m=p.bottom,v=p.left,b=p.right,y=p.width,w=p.height,E=void 0,D=void 0,S=f.scrollWidth,_=f.scrollHeight,C=P(f),T=f.scrollLeft,p=f.scrollTop,D=f===c?(E=y<S&&(\"auto\"===C.overflowX||\"scroll\"===C.overflowX||\"visible\"===C.overflowX),w<_&&(\"auto\"===C.overflowY||\"scroll\"===C.overflowY||\"visible\"===C.overflowY)):(E=y<S&&(\"auto\"===C.overflowX||\"scroll\"===C.overflowX),w<_&&(\"auto\"===C.overflowY||\"scroll\"===C.overflowY)),T=E&&(Math.abs(b-r)<=l&&T+y<S)-(Math.abs(v-r)<=l&&!!T),p=D&&(Math.abs(m-a)<=l&&p+w<_)-(Math.abs(g-a)<=l&&!!p);if(!Zt[d])for(var x=0;x<=d;x++)Zt[x]||(Zt[x]={});Zt[d].vx==T&&Zt[d].vy==p&&Zt[d].el===f||(Zt[d].el=f,Zt[d].vx=T,Zt[d].vy=p,clearInterval(Zt[d].pid),0==T&&0==p||(u=!0,Zt[d].pid=setInterval(function(){o&&0===this.layer&&Bt.active._onTouchMove(qt);var t=Zt[this.layer].vy?Zt[this.layer].vy*s:0,e=Zt[this.layer].vx?Zt[this.layer].vx*s:0;\"function\"==typeof i&&\"continue\"!==i.call(Bt.dragged.parentNode[j],e,t,n,qt,Zt[this.layer].el)||F(Zt[this.layer].el,e,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&h!==c&&(h=A(h,!1)));$t=u}},30),c=function(t){var e=t.originalEvent,n=t.putSortable,o=t.dragEl,i=t.activeSortable,r=t.dispatchSortableEvent,a=t.hideGhostForTarget,t=t.unhideGhostForTarget;e&&(i=n||i,a(),e=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,e=document.elementFromPoint(e.clientX,e.clientY),t(),i&&!i.el.contains(e)&&(r(\"spill\"),this.onSpill({dragEl:o,putSortable:n})))};function ne(){}function oe(){}ne.prototype={startIndex:null,dragStart:function(t){t=t.oldDraggableIndex;this.startIndex=t},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();t=X(this.sortable.el,this.startIndex,this.options);t?this.sortable.el.insertBefore(e,t):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:c},a(ne,{pluginName:\"revertOnSpill\"}),oe.prototype={onSpill:function(t){var e=t.dragEl,t=t.putSortable||this.sortable;t.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),t.animateAll()},drop:c},a(oe,{pluginName:\"removeOnSpill\"});var ie,re,ae,le,se,ce=[],ue=[],de=!1,he=!1,fe=!1;function pe(n,o){ue.forEach(function(t,e){e=o.children[t.sortableIndex+(n?Number(e):0)];e?o.insertBefore(t,e):o.appendChild(t)})}function ge(){ce.forEach(function(t){t!==ae&&t.parentNode&&t.parentNode.removeChild(t)})}return Bt.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)\"_\"===t.charAt(0)&&\"function\"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){t=t.originalEvent;this.sortable.nativeDraggable?h(document,\"dragover\",this._handleAutoScroll):this.options.supportPointer?h(document,\"pointermove\",this._handleFallbackAutoScroll):t.touches?h(document,\"touchmove\",this._handleFallbackAutoScroll):h(document,\"mousemove\",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){t=t.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?f(document,\"dragover\",this._handleAutoScroll):(f(document,\"pointermove\",this._handleFallbackAutoScroll),f(document,\"touchmove\",this._handleFallbackAutoScroll),f(document,\"mousemove\",this._handleFallbackAutoScroll)),Jt(),Qt(),clearTimeout(g),g=void 0},nulling:function(){qt=zt=Wt=$t=Vt=Gt=Ut=null,Zt.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(e,n){var o,i=this,r=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,t=document.elementFromPoint(r,a);qt=e,n||this.options.forceAutoScrollFallback||w||y||u?(ee(e,this.options,t,n),o=A(t,!0),!$t||Vt&&r===Gt&&a===Ut||(Vt&&Jt(),Vt=setInterval(function(){var t=A(document.elementFromPoint(r,a),!0);t!==o&&(o=t,Qt()),ee(e,i.options,t,n)},10),Gt=r,Ut=a)):this.options.bubbleScroll&&A(t,!0)!==O()?ee(e,this.options,A(t,!1),!1):Qt()}},a(t,{pluginName:\"scroll\",initializeByDefault:!0})}),Bt.mount(oe,ne),Bt.mount(new function(){function t(){this.defaults={swapClass:\"sortable-swap-highlight\"}}return t.prototype={dragStart:function(t){t=t.dragEl;te=t},dragOverValid:function(t){var e=t.completed,n=t.target,o=t.onMove,i=t.activeSortable,r=t.changed,a=t.cancel;i.options.swap&&(t=this.sortable.el,i=this.options,n&&n!==t&&(t=te,te=!1!==o(n)?(I(n,i.swapClass,!0),n):null,t&&t!==te&&I(t,i.swapClass,!1)),r(),e(!0),a())},drop:function(t){var e,n,o=t.activeSortable,i=t.putSortable,r=t.dragEl,a=i||this.sortable,l=this.options;te&&I(te,l.swapClass,!1),te&&(l.swap||i&&i.options.swap)&&r!==te&&(a.captureAnimationState(),a!==o&&o.captureAnimationState(),n=te,t=(e=r).parentNode,l=n.parentNode,t&&l&&!t.isEqualNode(n)&&!l.isEqualNode(e)&&(i=B(e),r=B(n),t.isEqualNode(l)&&i<r&&r++,t.insertBefore(n,t.children[i]),l.insertBefore(e,l.children[r])),a.animateAll(),a!==o&&o.animateAll())},nulling:function(){te=null}},a(t,{pluginName:\"swap\",eventProperties:function(){return{swapItem:te}}})}),Bt.mount(new function(){function t(o){for(var t in this)\"_\"===t.charAt(0)&&\"function\"==typeof this[t]&&(this[t]=this[t].bind(this));o.options.avoidImplicitDeselect||(o.options.supportPointer?h(document,\"pointerup\",this._deselectMultiDrag):(h(document,\"mouseup\",this._deselectMultiDrag),h(document,\"touchend\",this._deselectMultiDrag))),h(document,\"keydown\",this._checkKeyDown),h(document,\"keyup\",this._checkKeyUp),this.defaults={selectedClass:\"sortable-selected\",multiDragKey:null,avoidImplicitDeselect:!1,setData:function(t,e){var n=\"\";ce.length&&re===o?ce.forEach(function(t,e){n+=(e?\", \":\"\")+t.textContent}):n=e.textContent,t.setData(\"Text\",n)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){t=t.dragEl;ae=t},delayEnded:function(){this.isMultiDrag=~ce.indexOf(ae)},setupClone:function(t){var e=t.sortable,t=t.cancel;if(this.isMultiDrag){for(var n=0;n<ce.length;n++)ue.push(_(ce[n])),ue[n].sortableIndex=ce[n].sortableIndex,ue[n].draggable=!1,ue[n].style[\"will-change\"]=\"\",I(ue[n],this.options.selectedClass,!1),ce[n]===ae&&I(ue[n],this.options.chosenClass,!1);e._hideClone(),t()}},clone:function(t){var e=t.sortable,n=t.rootEl,o=t.dispatchSortableEvent,t=t.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||ce.length&&re===e&&(pe(!0,n),o(\"clone\"),t()))},showClone:function(t){var e=t.cloneNowShown,n=t.rootEl,t=t.cancel;this.isMultiDrag&&(pe(!1,n),ue.forEach(function(t){P(t,\"display\",\"\")}),e(),se=!1,t())},hideClone:function(t){var e=this,n=(t.sortable,t.cloneNowHidden),t=t.cancel;this.isMultiDrag&&(ue.forEach(function(t){P(t,\"display\",\"none\"),e.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t)}),n(),se=!0,t())},dragStartGlobal:function(t){t.sortable;!this.isMultiDrag&&re&&re.multiDrag._deselectMultiDrag(),ce.forEach(function(t){t.sortableIndex=B(t)}),ce=ce.sort(function(t,e){return t.sortableIndex-e.sortableIndex}),fe=!0},dragStarted:function(t){var e,n=this,t=t.sortable;this.isMultiDrag&&(this.options.sort&&(t.captureAnimationState(),this.options.animation&&(ce.forEach(function(t){t!==ae&&P(t,\"position\",\"absolute\")}),e=k(ae,!1,!0,!0),ce.forEach(function(t){t!==ae&&C(t,e)}),de=he=!0)),t.animateAll(function(){de=he=!1,n.options.animation&&ce.forEach(function(t){T(t)}),n.options.sort&&ge()}))},dragOver:function(t){var e=t.target,n=t.completed,t=t.cancel;he&&~ce.indexOf(e)&&(n(!1),t())},revert:function(t){var n,o,e=t.fromSortable,i=t.rootEl,r=t.sortable,a=t.dragRect;1<ce.length&&(ce.forEach(function(t){r.addAnimationState({target:t,rect:he?k(t):a}),T(t),t.fromRect=a,e.removeAnimationState(t)}),he=!1,n=!this.options.removeCloneOnHide,o=i,ce.forEach(function(t,e){e=o.children[t.sortableIndex+(n?Number(e):0)];e?o.insertBefore(t,e):o.appendChild(t)}))},dragOverCompleted:function(t){var e,n=t.sortable,o=t.isOwner,i=t.insertion,r=t.activeSortable,a=t.parentEl,l=t.putSortable,t=this.options;i&&(o&&r._hideClone(),de=!1,t.animation&&1<ce.length&&(he||!o&&!r.options.sort&&!l)&&(e=k(ae,!1,!0,!0),ce.forEach(function(t){t!==ae&&(C(t,e),a.appendChild(t))}),he=!0),o||(he||ge(),1<ce.length?(o=se,r._showClone(n),r.options.animation&&!se&&o&&ue.forEach(function(t){r.addAnimationState({target:t,rect:le}),t.fromRect=le,t.thisAnimationDuration=null})):r._showClone(n)))},dragOverAnimationCapture:function(t){var e=t.dragRect,n=t.isOwner,t=t.activeSortable;ce.forEach(function(t){t.thisAnimationDuration=null}),t.options.animation&&!n&&t.multiDrag.isMultiDrag&&(le=a({},e),e=v(ae,!0),le.top-=e.f,le.left-=e.e)},dragOverAnimationComplete:function(){he&&(he=!1,ge())},drop:function(t){var e=t.originalEvent,n=t.rootEl,o=t.parentEl,i=t.sortable,r=t.dispatchSortableEvent,a=t.oldIndex,l=t.putSortable,s=l||this.sortable;if(e){var c,u,d,h=this.options,f=o.children;if(!fe)if(h.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),I(ae,h.selectedClass,!~ce.indexOf(ae)),~ce.indexOf(ae))ce.splice(ce.indexOf(ae),1),ie=null,W({sortable:i,rootEl:n,name:\"deselect\",targetEl:ae,originalEvent:e});else{if(ce.push(ae),W({sortable:i,rootEl:n,name:\"select\",targetEl:ae,originalEvent:e}),e.shiftKey&&ie&&i.el.contains(ie)){var p=B(ie),t=B(ae);if(~p&&~t&&p!==t)for(var g,m=p<t?(g=p,t):(g=t,p+1);g<m;g++)~ce.indexOf(f[g])||(I(f[g],h.selectedClass,!0),ce.push(f[g]),W({sortable:i,rootEl:n,name:\"select\",targetEl:f[g],originalEvent:e}))}else ie=ae;re=s}fe&&this.isMultiDrag&&(he=!1,(o[j].options.sort||o!==n)&&1<ce.length&&(c=k(ae),u=B(ae,\":not(.\"+this.options.selectedClass+\")\"),!de&&h.animation&&(ae.thisAnimationDuration=null),s.captureAnimationState(),de||(h.animation&&(ae.fromRect=c,ce.forEach(function(t){var e;t.thisAnimationDuration=null,t!==ae&&(e=he?k(t):c,t.fromRect=e,s.addAnimationState({target:t,rect:e}))})),ge(),ce.forEach(function(t){f[u]?o.insertBefore(t,f[u]):o.appendChild(t),u++}),a===B(ae)&&(d=!1,ce.forEach(function(t){t.sortableIndex!==B(t)&&(d=!0)}),d&&r(\"update\"))),ce.forEach(function(t){T(t)}),s.animateAll()),re=s),(n===o||l&&\"clone\"!==l.lastPutMode)&&ue.forEach(function(t){t.parentNode&&t.parentNode.removeChild(t)})}},nullingGlobal:function(){this.isMultiDrag=fe=!1,ue.length=0},destroyGlobal:function(){this._deselectMultiDrag(),f(document,\"pointerup\",this._deselectMultiDrag),f(document,\"mouseup\",this._deselectMultiDrag),f(document,\"touchend\",this._deselectMultiDrag),f(document,\"keydown\",this._checkKeyDown),f(document,\"keyup\",this._checkKeyUp)},_deselectMultiDrag:function(t){if(!(void 0!==fe&&fe||re!==this.sortable||t&&N(t.target,this.options.draggable,this.sortable.el,!1)||t&&0!==t.button))for(;ce.length;){var e=ce[0];I(e,this.options.selectedClass,!1),ce.shift(),W({sortable:this.sortable,rootEl:this.sortable.el,name:\"deselect\",targetEl:e,originalEvent:t})}},_checkKeyDown:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},a(t,{pluginName:\"multiDrag\",utils:{select:function(t){var e=t.parentNode[j];e&&e.options.multiDrag&&!~ce.indexOf(t)&&(re&&re!==e&&(re.multiDrag._deselectMultiDrag(),re=e),I(t,e.options.selectedClass,!0),ce.push(t))},deselect:function(t){var e=t.parentNode[j],n=ce.indexOf(t);e&&e.options.multiDrag&&~n&&(I(t,e.options.selectedClass,!1),ce.splice(n,1))}},eventProperties:function(){var n=this,o=[],i=[];return ce.forEach(function(t){var e;o.push({multiDragElement:t,index:t.sortableIndex}),e=he&&t!==ae?-1:he?B(t,\":not(.\"+n.options.selectedClass+\")\"):B(t),i.push({multiDragElement:t,index:e})}),{items:r(ce),clones:[].concat(ue),oldIndicies:o,newIndicies:i}},optionListeners:{multiDragKey:function(t){return\"ctrl\"===(t=t.toLowerCase())?t=\"Control\":1<t.length&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})}),Bt});", "'use strict';\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar Sortable = _interopDefault(require('sortablejs'));\n\nfunction $(expr, con) {\n    return typeof expr === 'string' ?\n        (con || document).querySelector(expr) :\n        expr || null;\n}\n\n$.each = (expr, con) => {\n    return typeof expr === 'string' ?\n        Array.from((con || document).querySelectorAll(expr)) :\n        expr || null;\n};\n\n$.create = (tag, o) => {\n    let element = document.createElement(tag);\n\n    for (let i in o) {\n        let val = o[i];\n\n        if (i === 'inside') {\n            $(val).appendChild(element);\n        } else\n        if (i === 'around') {\n            let ref = $(val);\n            ref.parentNode.insertBefore(element, ref);\n            element.appendChild(ref);\n        } else\n        if (i === 'styles') {\n            if (typeof val === 'object') {\n                Object.keys(val).map(prop => {\n                    element.style[prop] = val[prop];\n                });\n            }\n        } else\n        if (i in element) {\n            element[i] = val;\n        } else {\n            element.setAttribute(i, val);\n        }\n    }\n\n    return element;\n};\n\n$.on = (element, event, selector, callback) => {\n    if (!callback) {\n        callback = selector;\n        $.bind(element, event, callback);\n    } else {\n        $.delegate(element, event, selector, callback);\n    }\n};\n\n$.off = (element, event, handler) => {\n    element.removeEventListener(event, handler);\n};\n\n$.bind = (element, event, callback) => {\n    event.split(/\\s+/).forEach(function (event) {\n        element.addEventListener(event, callback);\n    });\n};\n\n$.delegate = (element, event, selector, callback) => {\n    element.addEventListener(event, function (e) {\n        const delegatedTarget = e.target.closest(selector);\n        if (delegatedTarget) {\n            e.delegatedTarget = delegatedTarget;\n            callback.call(this, e, delegatedTarget);\n        }\n    });\n};\n\n$.unbind = (element, o) => {\n    if (element) {\n        for (let event in o) {\n            let callback = o[event];\n\n            event.split(/\\s+/).forEach(function (event) {\n                element.removeEventListener(event, callback);\n            });\n        }\n    }\n};\n\n$.fire = (target, type, properties) => {\n    let evt = document.createEvent('HTMLEvents');\n\n    evt.initEvent(type, true, true);\n\n    for (let j in properties) {\n        evt[j] = properties[j];\n    }\n\n    return target.dispatchEvent(evt);\n};\n\n$.data = (element, attrs) => { // eslint-disable-line\n    if (!attrs) {\n        return element.dataset;\n    }\n\n    for (const attr in attrs) {\n        element.dataset[attr] = attrs[attr];\n    }\n};\n\n$.style = (elements, styleMap) => { // eslint-disable-line\n\n    if (typeof styleMap === 'string') {\n        return $.getStyle(elements, styleMap);\n    }\n\n    if (!Array.isArray(elements)) {\n        elements = [elements];\n    }\n\n    elements.map(element => {\n        for (const prop in styleMap) {\n            element.style[prop] = styleMap[prop];\n        }\n    });\n};\n\n$.removeStyle = (elements, styleProps) => {\n    if (!Array.isArray(elements)) {\n        elements = [elements];\n    }\n\n    if (!Array.isArray(styleProps)) {\n        styleProps = [styleProps];\n    }\n\n    elements.map(element => {\n        for (const prop of styleProps) {\n            element.style[prop] = '';\n        }\n    });\n};\n\n$.getStyle = (element, prop) => {\n    if (!prop) {\n        return getComputedStyle(element);\n    }\n\n    let val = getComputedStyle(element)[prop];\n\n    if (['width', 'height'].includes(prop)) {\n        val = parseFloat(val);\n    }\n\n    return val;\n};\n\n$.closest = (selector, element) => {\n    if (!element) return null;\n\n    if (element.matches(selector)) {\n        return element;\n    }\n\n    return $.closest(selector, element.parentNode);\n};\n\n$.inViewport = (el, parentEl) => {\n    const {\n        top,\n        left,\n        bottom,\n        right\n    } = el.getBoundingClientRect();\n    const {\n        top: pTop,\n        left: pLeft,\n        bottom: pBottom,\n        right: pRight\n    } = parentEl.getBoundingClientRect();\n\n    return top >= pTop && left >= pLeft && bottom <= pBottom && right <= pRight;\n};\n\n$.scrollTop = function scrollTop(element, pixels) {\n    requestAnimationFrame(() => {\n        element.scrollTop = pixels;\n    });\n};\n\n$.scrollbarSize = function scrollbarSize() {\n    if (!$.scrollBarSizeValue) {\n        $.scrollBarSizeValue = getScrollBarSize();\n    }\n    return $.scrollBarSizeValue;\n};\n\nfunction getScrollBarSize() {\n    // assume scrollbar width and height would be the same\n\n    // Create the measurement node\n    const scrollDiv = document.createElement('div');\n    $.style(scrollDiv, {\n        width: '100px',\n        height: '100px',\n        overflow: 'scroll',\n        position: 'absolute',\n        top: '-9999px'\n    });\n    document.body.appendChild(scrollDiv);\n\n    // Get the scrollbar width\n    const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n\n    // Delete the DIV\n    document.body.removeChild(scrollDiv);\n\n    return scrollbarWidth;\n}\n\n$.hasVerticalOverflow = function (element) {\n    return element.scrollHeight > element.offsetHeight + 10;\n};\n\n$.hasHorizontalOverflow = function (element) {\n    return element.scrollWidth > element.offsetWidth + 10;\n};\n\n$.measureTextWidth = function (text) {\n    const div = document.createElement('div');\n    div.style.position = 'absolute';\n    div.style.visibility = 'hidden';\n    div.style.height = 'auto';\n    div.style.width = 'auto';\n    div.style.whiteSpace = 'nowrap';\n    div.innerText = text;\n    document.body.appendChild(div);\n    return div.clientWidth + 1;\n};\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nvar isObject_1 = isObject;\n\nvar commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction commonjsRequire () {\n\tthrow new Error('Dynamic requires are not currently supported by rollup-plugin-commonjs');\n}\n\nfunction unwrapExports (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\n\nvar _freeGlobal = freeGlobal;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = _freeGlobal || freeSelf || Function('return this')();\n\nvar _root = root;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return _root.Date.now();\n};\n\nvar now_1 = now;\n\n/** Built-in value references. */\nvar Symbol = _root.Symbol;\n\nvar _Symbol = Symbol;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = _Symbol ? _Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nvar _getRawTag = getRawTag;\n\n/** Used for built-in method references. */\nvar objectProto$1 = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString$1 = objectProto$1.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString$1.call(value);\n}\n\nvar _objectToString = objectToString;\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag$1 = _Symbol ? _Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag$1 && symToStringTag$1 in Object(value))\n    ? _getRawTag(value)\n    : _objectToString(value);\n}\n\nvar _baseGetTag = baseGetTag;\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nvar isObjectLike_1 = isObjectLike;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike_1(value) && _baseGetTag(value) == symbolTag);\n}\n\nvar isSymbol_1 = isSymbol;\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol_1(value)) {\n    return NAN;\n  }\n  if (isObject_1(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject_1(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nvar toNumber_1 = toNumber;\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber_1(wait) || 0;\n  if (isObject_1(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber_1(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now_1();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now_1());\n  }\n\n  function debounced() {\n    var time = now_1(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nvar debounce_1 = debounce;\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT$1 = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT$1);\n  }\n  if (isObject_1(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce_1(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nvar throttle_1 = throttle;\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject_1(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = _baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nvar isFunction_1 = isFunction;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = _root['__core-js_shared__'];\n\nvar _coreJsData = coreJsData;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(_coreJsData && _coreJsData.keys && _coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nvar _isMasked = isMasked;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nvar _toSource = toSource;\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto$1 = Function.prototype,\n    objectProto$2 = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString$1 = funcProto$1.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$1 = objectProto$2.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString$1.call(hasOwnProperty$1).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject_1(value) || _isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction_1(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(_toSource(value));\n}\n\nvar _baseIsNative = baseIsNative;\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nvar _getValue = getValue;\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = _getValue(object, key);\n  return _baseIsNative(value) ? value : undefined;\n}\n\nvar _getNative = getNative;\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = _getNative(Object, 'create');\n\nvar _nativeCreate = nativeCreate;\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = _nativeCreate ? _nativeCreate(null) : {};\n  this.size = 0;\n}\n\nvar _hashClear = hashClear;\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nvar _hashDelete = hashDelete;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto$3 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$2 = objectProto$3.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (_nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty$2.call(data, key) ? data[key] : undefined;\n}\n\nvar _hashGet = hashGet;\n\n/** Used for built-in method references. */\nvar objectProto$4 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$3 = objectProto$4.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return _nativeCreate ? (data[key] !== undefined) : hasOwnProperty$3.call(data, key);\n}\n\nvar _hashHas = hashHas;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED$1 = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (_nativeCreate && value === undefined) ? HASH_UNDEFINED$1 : value;\n  return this;\n}\n\nvar _hashSet = hashSet;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = _hashClear;\nHash.prototype['delete'] = _hashDelete;\nHash.prototype.get = _hashGet;\nHash.prototype.has = _hashHas;\nHash.prototype.set = _hashSet;\n\nvar _Hash = Hash;\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nvar _listCacheClear = listCacheClear;\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nvar eq_1 = eq;\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq_1(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nvar _assocIndexOf = assocIndexOf;\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = _assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nvar _listCacheDelete = listCacheDelete;\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = _assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nvar _listCacheGet = listCacheGet;\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return _assocIndexOf(this.__data__, key) > -1;\n}\n\nvar _listCacheHas = listCacheHas;\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = _assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nvar _listCacheSet = listCacheSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = _listCacheClear;\nListCache.prototype['delete'] = _listCacheDelete;\nListCache.prototype.get = _listCacheGet;\nListCache.prototype.has = _listCacheHas;\nListCache.prototype.set = _listCacheSet;\n\nvar _ListCache = ListCache;\n\n/* Built-in method references that are verified to be native. */\nvar Map = _getNative(_root, 'Map');\n\nvar _Map = Map;\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new _Hash,\n    'map': new (_Map || _ListCache),\n    'string': new _Hash\n  };\n}\n\nvar _mapCacheClear = mapCacheClear;\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nvar _isKeyable = isKeyable;\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return _isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nvar _getMapData = getMapData;\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = _getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nvar _mapCacheDelete = mapCacheDelete;\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return _getMapData(this, key).get(key);\n}\n\nvar _mapCacheGet = mapCacheGet;\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return _getMapData(this, key).has(key);\n}\n\nvar _mapCacheHas = mapCacheHas;\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = _getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nvar _mapCacheSet = mapCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = _mapCacheClear;\nMapCache.prototype['delete'] = _mapCacheDelete;\nMapCache.prototype.get = _mapCacheGet;\nMapCache.prototype.has = _mapCacheHas;\nMapCache.prototype.set = _mapCacheSet;\n\nvar _MapCache = MapCache;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED$2 = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED$2);\n  return this;\n}\n\nvar _setCacheAdd = setCacheAdd;\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nvar _setCacheHas = setCacheHas;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new _MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = _setCacheAdd;\nSetCache.prototype.has = _setCacheHas;\n\nvar _SetCache = SetCache;\n\n/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nvar _baseFindIndex = baseFindIndex;\n\n/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nvar _baseIsNaN = baseIsNaN;\n\n/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nvar _strictIndexOf = strictIndexOf;\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? _strictIndexOf(array, value, fromIndex)\n    : _baseFindIndex(array, _baseIsNaN, fromIndex);\n}\n\nvar _baseIndexOf = baseIndexOf;\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && _baseIndexOf(array, value, 0) > -1;\n}\n\nvar _arrayIncludes = arrayIncludes;\n\n/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nvar _arrayIncludesWith = arrayIncludesWith;\n\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nvar _cacheHas = cacheHas;\n\n/* Built-in method references that are verified to be native. */\nvar Set = _getNative(_root, 'Set');\n\nvar _Set = Set;\n\n/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nvar noop_1 = noop;\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nvar _setToArray = setToArray;\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(_Set && (1 / _setToArray(new _Set([,-0]))[1]) == INFINITY) ? noop_1 : function(values) {\n  return new _Set(values);\n};\n\nvar _createSet = createSet;\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = _arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = _arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : _createSet(array);\n    if (set) {\n      return _setToArray(set);\n    }\n    isCommon = false;\n    includes = _cacheHas;\n    seen = new _SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nvar _baseUniq = baseUniq;\n\n/**\n * Creates a duplicate-free version of an array, using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons, in which only the first occurrence of each element\n * is kept. The order of result values is determined by the order they occur\n * in the array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniq([2, 1, 2]);\n * // => [2, 1]\n */\nfunction uniq(array) {\n  return (array && array.length) ? _baseUniq(array) : [];\n}\n\nvar uniq_1 = uniq;\n\nfunction camelCaseToDash(str) {\n    return str.replace(/([A-Z])/g, (g) => `-${g[0].toLowerCase()}`);\n}\n\nfunction makeDataAttributeString(props) {\n    const keys = Object.keys(props);\n\n    return keys\n        .map((key) => {\n            const _key = camelCaseToDash(key);\n            const val = props[key];\n\n            if (val === undefined) return '';\n            return `data-${_key}=\"${val}\" `;\n        })\n        .join('')\n        .trim();\n}\n\nfunction copyTextToClipboard(text) {\n    // https://stackoverflow.com/a/30810322/5353542\n    var textArea = document.createElement('textarea');\n\n    //\n    // *** This styling is an extra step which is likely not required. ***\n    //\n    // Why is it here? To ensure:\n    // 1. the element is able to have focus and selection.\n    // 2. if element was to flash render it has minimal visual impact.\n    // 3. less flakyness with selection and copying which **might** occur if\n    //    the textarea element is not visible.\n    //\n    // The likelihood is the element won't even render, not even a flash,\n    // so some of these are just precautions. However in IE the element\n    // is visible whilst the popup box asking the user for permission for\n    // the web page to copy to the clipboard.\n    //\n\n    // Place in top-left corner of screen regardless of scroll position.\n    textArea.style.position = 'fixed';\n    textArea.style.top = 0;\n    textArea.style.left = 0;\n\n    // Ensure it has a small width and height. Setting to 1px / 1em\n    // doesn't work as this gives a negative w/h on some browsers.\n    textArea.style.width = '2em';\n    textArea.style.height = '2em';\n\n    // We don't need padding, reducing the size if it does flash render.\n    textArea.style.padding = 0;\n\n    // Clean up any borders.\n    textArea.style.border = 'none';\n    textArea.style.outline = 'none';\n    textArea.style.boxShadow = 'none';\n\n    // Avoid flash of white box if rendered for any reason.\n    textArea.style.background = 'transparent';\n\n    textArea.value = text;\n\n    document.body.appendChild(textArea);\n\n    textArea.select();\n\n    try {\n        document.execCommand('copy');\n    } catch (err) {\n        console.log('Oops, unable to copy');\n    }\n\n    document.body.removeChild(textArea);\n}\n\nfunction isNumeric(val) {\n    return !isNaN(val);\n}\n\nlet throttle$1 = throttle_1;\n\nlet debounce$1 = debounce_1;\n\nfunction nextTick(fn, context = null) {\n    return (...args) => {\n        return new Promise(resolve => {\n            const execute = () => {\n                const out = fn.apply(context, args);\n                resolve(out);\n            };\n            setTimeout(execute);\n        });\n    };\n}\nfunction linkProperties(target, source, properties) {\n    const props = properties.reduce((acc, prop) => {\n        acc[prop] = {\n            get() {\n                return source[prop];\n            }\n        };\n        return acc;\n    }, {});\n    Object.defineProperties(target, props);\n}\nfunction isSet(val) {\n    return val !== undefined || val !== null;\n}\n\nfunction notSet(val) {\n    return !isSet(val);\n}\n\nfunction isNumber(val) {\n    return !isNaN(val);\n}\n\nfunction ensureArray(val) {\n    if (!Array.isArray(val)) {\n        return [val];\n    }\n    return val;\n}\n\nfunction uniq$1(arr) {\n    return uniq_1(arr);\n}\n\nfunction numberSortAsc(a, b) {\n    return a - b;\n}\nfunction stripHTML(html) {\n    return html.replace(/<[^>]*>/g, '');\n}\nfunction format(str, args) {\n    if (!str) return str;\n\n    Object.keys(args).forEach(arg => {\n        let regex = new RegExp(`{(${arg})}`, 'g');\n        str = str.replace(regex, args[arg]);\n    });\n\n    return str;\n}\nfunction escapeHTML(txt) {\n    if (!txt) return '';\n    let escapeHtmlMapping = {\n        '&': '&amp;',\n        '<': '&lt;',\n        '>': '&gt;',\n        '\"': '&quot;',\n        \"'\": '&#39;',\n        '/': '&#x2F;',\n        '`': '&#x60;',\n        '=': '&#x3D;',\n    };\n\n    return String(txt).replace(/[&<>\"'`=/]/g, (char) => escapeHtmlMapping[char] || char);\n}\n\nclass DataManager {\n    constructor(options) {\n        this.options = options;\n        this.sortRows = nextTick(this.sortRows, this);\n        this.switchColumn = nextTick(this.switchColumn, this);\n        this.removeColumn = nextTick(this.removeColumn, this);\n        this.options.filterRows = nextTick(this.options.filterRows, this);\n    }\n\n    init(data, columns) {\n        if (!data) {\n            data = this.options.data;\n        }\n        if (columns) {\n            this.options.columns = columns;\n        }\n\n        this.data = data;\n\n        this.rowCount = 0;\n        this.columns = [];\n        this.rows = [];\n\n        this.prepareColumns();\n        this.validateData(this.data);\n        this.rows = this.prepareRows(this.data);\n        this.prepareTreeRows();\n        this.prepareRowView();\n        this.prepareNumericColumns();\n    }\n\n    // computed property\n    get currentSort() {\n        const col = this.columns.find(col => col.sortOrder !== 'none');\n        return col || {\n            colIndex: -1,\n            sortOrder: 'none'\n        };\n    }\n\n    prepareColumns() {\n        this.columns = [];\n        this.validateColumns();\n        this.prepareDefaultColumns();\n        this.prepareHeader();\n    }\n\n    prepareDefaultColumns() {\n        if (this.options.checkboxColumn && !this.hasColumnById('_checkbox')) {\n            const cell = {\n                id: '_checkbox',\n                content: this.getCheckboxHTML(),\n                editable: false,\n                resizable: false,\n                sortable: false,\n                focusable: false,\n                dropdown: false,\n                width: 32\n            };\n            this.columns.push(cell);\n        }\n\n        if (this.options.serialNoColumn && !this.hasColumnById('_rowIndex')) {\n            let cell = {\n                id: '_rowIndex',\n                content: '',\n                align: 'center',\n                editable: false,\n                resizable: false,\n                focusable: false,\n                dropdown: false\n            };\n\n            this.columns.push(cell);\n        }\n    }\n\n    prepareHeader() {\n        let columns = this.columns.concat(this.options.columns);\n        const baseCell = {\n            isHeader: 1,\n            editable: true,\n            sortable: true,\n            resizable: true,\n            focusable: true,\n            dropdown: true,\n            width: null,\n            format: (value) => {\n                if (value === null || value === undefined) {\n                    return '';\n                }\n                return value + '';\n            }\n        };\n\n        this.columns = columns\n            .map((cell, i) => this.prepareCell(cell, i))\n            .map(col => Object.assign({}, baseCell, col))\n            .map(col => {\n                col.content = col.content || col.name || '';\n                col.id = col.id || col.content;\n                return col;\n            });\n    }\n\n    prepareCell(content, i) {\n        const cell = {\n            content: '',\n            sortOrder: 'none',\n            colIndex: i,\n            column: this.columns[i]\n        };\n\n        if (content !== null && typeof content === 'object') {\n            // passed as column/header\n            Object.assign(cell, content);\n        } else {\n            cell.content = content;\n        }\n\n        return cell;\n    }\n\n    prepareNumericColumns() {\n        const row0 = this.getRow(0);\n        if (!row0) return;\n        this.columns = this.columns.map((column, i) => {\n\n            const cellValue = row0[i].content;\n            if (!column.align && isNumeric(cellValue)) {\n                column.align = 'right';\n            }\n\n            return column;\n        });\n    }\n\n    prepareRows(data) {\n        return data.map((d, i) => {\n            const index = this._getNextRowCount();\n\n            let row = [];\n            let meta = {\n                rowIndex: index\n            };\n\n            if (Array.isArray(d)) {\n                // row is an array\n                if (this.options.checkboxColumn) {\n                    row.push(this.getCheckboxHTML());\n                }\n                if (this.options.serialNoColumn) {\n                    row.push((index + 1) + '');\n                }\n                row = row.concat(d);\n\n                while (row.length < this.columns.length) {\n                    row.push('');\n                }\n\n            } else {\n                // row is an object\n                for (let col of this.columns) {\n                    if (col.id === '_checkbox') {\n                        row.push(this.getCheckboxHTML());\n                    } else if (col.id === '_rowIndex') {\n                        row.push((index + 1) + '');\n                    } else {\n                        row.push(d[col.id]);\n                    }\n                }\n\n                meta.indent = d.indent || 0;\n            }\n\n            return this.prepareRow(row, meta);\n        });\n    }\n\n    prepareTreeRows() {\n        this.rows.forEach((row, i) => {\n            if (isNumber(row.meta.indent)) {\n                // if (i === 36) debugger;\n                const nextRow = this.getRow(i + 1);\n                row.meta.isLeaf = !nextRow ||\n                    notSet(nextRow.meta.indent) ||\n                    nextRow.meta.indent <= row.meta.indent;\n                row.meta.isTreeNodeClose = false;\n            }\n        });\n    }\n\n    prepareRowView() {\n        // This is order in which rows will be rendered in the table.\n        // When sorting happens, only this.rowViewOrder will change\n        // and not the original this.rows\n        this.rowViewOrder = this.rows.map(row => row.meta.rowIndex);\n    }\n\n    prepareRow(row, meta) {\n        const baseRowCell = {\n            rowIndex: meta.rowIndex,\n            indent: meta.indent\n        };\n\n        row = row\n            .map((cell, i) => this.prepareCell(cell, i))\n            .map(cell => Object.assign({}, baseRowCell, cell));\n\n        // monkey patched in array object\n        row.meta = meta;\n        return row;\n    }\n\n    validateColumns() {\n        const columns = this.options.columns;\n        if (!Array.isArray(columns)) {\n            throw new DataError('`columns` must be an array');\n        }\n\n        columns.forEach((column, i) => {\n            if (typeof column !== 'string' && typeof column !== 'object') {\n                throw new DataError(`column \"${i}\" must be a string or an object`);\n            }\n        });\n    }\n\n    validateData(data) {\n        if (Array.isArray(data) &&\n            (data.length === 0 || Array.isArray(data[0]) || typeof data[0] === 'object')) {\n            return true;\n        }\n        throw new DataError('`data` must be an array of arrays or objects');\n    }\n\n    appendRows(rows) {\n        this.validateData(rows);\n        this.rows = this.rows.concat(this.prepareRows(rows));\n        this.prepareTreeRows();\n        this.prepareRowView();\n    }\n\n    sortRows(colIndex, sortOrder = 'none') {\n        colIndex = +colIndex;\n\n        // reset sortOrder and update for colIndex\n        this.getColumns()\n            .map(col => {\n                if (col.colIndex === colIndex) {\n                    col.sortOrder = sortOrder;\n                } else {\n                    col.sortOrder = 'none';\n                }\n            });\n\n        this._sortRows(colIndex, sortOrder);\n    }\n\n    _sortRows(colIndex, sortOrder) {\n\n        if (this.currentSort.colIndex === colIndex) {\n            // reverse the array if only sortOrder changed\n            if (\n                (this.currentSort.sortOrder === 'asc' && sortOrder === 'desc') ||\n                (this.currentSort.sortOrder === 'desc' && sortOrder === 'asc')\n            ) {\n                this.reverseArray(this.rowViewOrder);\n                this.currentSort.sortOrder = sortOrder;\n                return;\n            }\n        }\n\n        this.rowViewOrder.sort((a, b) => {\n            const aIndex = a;\n            const bIndex = b;\n\n            let aContent = this.getCell(colIndex, a).content;\n            let bContent = this.getCell(colIndex, b).content;\n            aContent = aContent == null ? '' : aContent;\n            bContent = bContent == null ? '' : bContent;\n\n            if (sortOrder === 'none') {\n                return aIndex - bIndex;\n            } else if (sortOrder === 'asc') {\n                if (aContent < bContent) return -1;\n                if (aContent > bContent) return 1;\n                if (aContent === bContent) return 0;\n            } else if (sortOrder === 'desc') {\n                if (aContent < bContent) return 1;\n                if (aContent > bContent) return -1;\n                if (aContent === bContent) return 0;\n            }\n            return 0;\n        });\n\n        if (this.hasColumnById('_rowIndex')) {\n            // update row index\n            const srNoColIndex = this.getColumnIndexById('_rowIndex');\n            this.rows.forEach((row, index) => {\n                const viewIndex = this.rowViewOrder.indexOf(index);\n                const cell = row[srNoColIndex];\n                cell.content = (viewIndex + 1) + '';\n            });\n        }\n    }\n\n    reverseArray(array) {\n        let left = null;\n        let right = null;\n        let length = array.length;\n\n        for (left = 0, right = length - 1; left < right; left += 1, right -= 1) {\n            const temporary = array[left];\n\n            array[left] = array[right];\n            array[right] = temporary;\n        }\n    }\n\n    switchColumn(index1, index2) {\n        // update columns\n        const temp = this.columns[index1];\n        this.columns[index1] = this.columns[index2];\n        this.columns[index2] = temp;\n\n        this.columns[index1].colIndex = index1;\n        this.columns[index2].colIndex = index2;\n\n        // update rows\n        this.rows.forEach(row => {\n            const newCell1 = Object.assign({}, row[index1], {\n                colIndex: index2\n            });\n            const newCell2 = Object.assign({}, row[index2], {\n                colIndex: index1\n            });\n\n            row[index2] = newCell1;\n            row[index1] = newCell2;\n        });\n    }\n\n    removeColumn(index) {\n        index = +index;\n        const filter = cell => cell.colIndex !== index;\n        const map = (cell, i) => Object.assign({}, cell, {\n            colIndex: i\n        });\n        // update columns\n        this.columns = this.columns\n            .filter(filter)\n            .map(map);\n\n        // update rows\n        this.rows.forEach(row => {\n            // remove cell\n            row.splice(index, 1);\n            // update colIndex\n            row.forEach((cell, i) => {\n                cell.colIndex = i;\n            });\n        });\n    }\n\n    updateRow(row, rowIndex) {\n        if (row.length < this.columns.length) {\n            if (this.hasColumnById('_rowIndex')) {\n                const val = (rowIndex + 1) + '';\n\n                row = [val].concat(row);\n            }\n\n            if (this.hasColumnById('_checkbox')) {\n                const val = '<input type=\"checkbox\" />';\n\n                row = [val].concat(row);\n            }\n        }\n\n        const _row = this.prepareRow(row, {rowIndex});\n        const index = this.rows.findIndex(row => row[0].rowIndex === rowIndex);\n        this.rows[index] = _row;\n\n        return _row;\n    }\n\n    updateCell(colIndex, rowIndex, options) {\n        let cell;\n        if (typeof colIndex === 'object') {\n            // cell object was passed,\n            // must have colIndex, rowIndex\n            cell = colIndex;\n            colIndex = cell.colIndex;\n            rowIndex = cell.rowIndex;\n            // the object passed must be merged with original cell\n            options = cell;\n        }\n        cell = this.getCell(colIndex, rowIndex);\n\n        // mutate object directly\n        for (let key in options) {\n            const newVal = options[key];\n            if (newVal !== undefined) {\n                cell[key] = newVal;\n            }\n        }\n\n        return cell;\n    }\n\n    updateColumn(colIndex, keyValPairs) {\n        const column = this.getColumn(colIndex);\n        for (let key in keyValPairs) {\n            const newVal = keyValPairs[key];\n            if (newVal !== undefined) {\n                column[key] = newVal;\n            }\n        }\n        return column;\n    }\n\n    filterRows(filters) {\n        return this.options.filterRows(this.rows, filters, this)\n            .then(result => {\n                if (!result) {\n                    result = this.getAllRowIndices();\n                }\n\n                if (!result.then) {\n                    result = Promise.resolve(result);\n                }\n\n                return result.then(rowsToShow => {\n                    this._filteredRows = rowsToShow;\n\n                    const rowsToHide = this.getAllRowIndices()\n                        .filter(index => !rowsToShow.includes(index));\n\n                    return {\n                        rowsToHide,\n                        rowsToShow\n                    };\n                });\n            });\n    }\n\n    getFilteredRowIndices() {\n        return this._filteredRows || this.getAllRowIndices();\n    }\n\n    getAllRowIndices() {\n        return this.rows.map(row => row.meta.rowIndex);\n    }\n\n    getRowCount() {\n        return this.rowCount;\n    }\n\n    _getNextRowCount() {\n        const val = this.rowCount;\n\n        this.rowCount++;\n        return val;\n    }\n\n    getRows(start, end) {\n        return this.rows.slice(start, end);\n    }\n\n    getRowsForView(start, end) {\n        const rows = this.rowViewOrder.map(i => this.rows[i]);\n        return rows.slice(start, end);\n    }\n\n    getColumns(skipStandardColumns) {\n        let columns = this.columns;\n\n        if (skipStandardColumns) {\n            columns = columns.slice(this.getStandardColumnCount());\n        }\n\n        return columns;\n    }\n\n    getStandardColumnCount() {\n        if (this.options.checkboxColumn && this.options.serialNoColumn) {\n            return 2;\n        }\n\n        if (this.options.checkboxColumn || this.options.serialNoColumn) {\n            return 1;\n        }\n\n        return 0;\n    }\n\n    getColumnCount(skipStandardColumns) {\n        let val = this.columns.length;\n\n        if (skipStandardColumns) {\n            val = val - this.getStandardColumnCount();\n        }\n\n        return val;\n    }\n\n    getColumn(colIndex) {\n        colIndex = +colIndex;\n\n        if (colIndex < 0) {\n            // negative indexes\n            colIndex = this.columns.length + colIndex;\n        }\n\n        return this.columns.find(col => col.colIndex === colIndex);\n    }\n\n    getColumnById(id) {\n        return this.columns.find(col => col.id === id);\n    }\n\n    getRow(rowIndex) {\n        rowIndex = +rowIndex;\n        return this.rows[rowIndex];\n    }\n\n    getCell(colIndex, rowIndex) {\n        rowIndex = +rowIndex;\n        colIndex = +colIndex;\n        return this.getRow(rowIndex)[colIndex];\n    }\n\n    getChildren(parentRowIndex) {\n        parentRowIndex = +parentRowIndex;\n        const parentIndent = this.getRow(parentRowIndex).meta.indent;\n        const out = [];\n\n        for (let i = parentRowIndex + 1; i < this.rowCount; i++) {\n            const row = this.getRow(i);\n            if (isNaN(row.meta.indent)) continue;\n\n            if (row.meta.indent > parentIndent) {\n                out.push(i);\n            }\n\n            if (row.meta.indent === parentIndent) {\n                break;\n            }\n        }\n\n        return out;\n    }\n\n    getImmediateChildren(parentRowIndex) {\n        parentRowIndex = +parentRowIndex;\n        const parentIndent = this.getRow(parentRowIndex).meta.indent;\n        const out = [];\n        const childIndent = parentIndent + 1;\n\n        for (let i = parentRowIndex + 1; i < this.rowCount; i++) {\n            const row = this.getRow(i);\n            if (isNaN(row.meta.indent) || row.meta.indent > childIndent) continue;\n\n            if (row.meta.indent === childIndent) {\n                out.push(i);\n            }\n\n            if (row.meta.indent === parentIndent) {\n                break;\n            }\n        }\n\n        return out;\n    }\n\n    get() {\n        return {\n            columns: this.columns,\n            rows: this.rows\n        };\n    }\n\n    /**\n     * Returns the original data which was passed\n     * based on rowIndex\n     * @param {Number} rowIndex\n     * @returns Array|Object\n     * @memberof DataManager\n     */\n    getData(rowIndex) {\n        return this.data[rowIndex];\n    }\n\n    hasColumn(name) {\n        return Boolean(this.columns.find(col => col.content === name));\n    }\n\n    hasColumnById(id) {\n        return Boolean(this.columns.find(col => col.id === id));\n    }\n\n    getColumnIndex(name) {\n        return this.columns.findIndex(col => col.content === name);\n    }\n\n    getColumnIndexById(id) {\n        return this.columns.findIndex(col => col.id === id);\n    }\n\n    getCheckboxHTML() {\n        return '<input type=\"checkbox\" />';\n    }\n}\n\n// Custom Errors\nclass DataError extends TypeError {}\n\n/* eslint-disable max-len */\n\n// Icons from https://feathericons.com/\n\nlet icons = {\n    chevronDown: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-chevron-down\"><polyline points=\"6 9 12 15 18 9\"></polyline></svg>',\n    chevronRight: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-chevron-right\"><polyline points=\"9 18 15 12 9 6\"></polyline></svg>'\n};\n\nclass CellManager {\n    constructor(instance) {\n        this.instance = instance;\n        linkProperties(this, this.instance, [\n            'wrapper',\n            'options',\n            'style',\n            'header',\n            'bodyScrollable',\n            'columnmanager',\n            'rowmanager',\n            'datamanager',\n            'keyboard'\n        ]);\n\n        this.bindEvents();\n    }\n\n    bindEvents() {\n        this.bindFocusCell();\n        this.bindEditCell();\n        this.bindKeyboardSelection();\n        this.bindCopyCellContents();\n        this.bindMouseEvents();\n        this.bindTreeEvents();\n    }\n\n    bindFocusCell() {\n        this.bindKeyboardNav();\n    }\n\n    bindEditCell() {\n        this.$editingCell = null;\n\n        $.on(this.bodyScrollable, 'dblclick', '.dt-cell', (e, cell) => {\n            this.activateEditing(cell);\n        });\n\n        this.keyboard.on('enter', () => {\n            if (this.$focusedCell && !this.$editingCell) {\n                // enter keypress on focused cell\n                this.activateEditing(this.$focusedCell);\n            } else if (this.$editingCell) {\n                // enter keypress on editing cell\n                this.deactivateEditing();\n            }\n        });\n    }\n\n    bindKeyboardNav() {\n        const focusLastCell = (direction) => {\n            if (!this.$focusedCell || this.$editingCell) {\n                return false;\n            }\n\n            let $cell = this.$focusedCell;\n            const {\n                rowIndex,\n                colIndex\n            } = $.data($cell);\n\n            if (direction === 'left') {\n                $cell = this.getLeftMostCell$(rowIndex);\n            } else if (direction === 'right') {\n                $cell = this.getRightMostCell$(rowIndex);\n            } else if (direction === 'up') {\n                $cell = this.getTopMostCell$(colIndex);\n            } else if (direction === 'down') {\n                $cell = this.getBottomMostCell$(colIndex);\n            }\n\n            this.focusCell($cell);\n            return true;\n        };\n\n        ['left', 'right', 'up', 'down', 'tab', 'shift+tab']\n            .map(direction => this.keyboard.on(direction, () => this.focusCellInDirection(direction)));\n\n        ['left', 'right', 'up', 'down']\n            .map(direction => this.keyboard.on(`ctrl+${direction}`, () => focusLastCell(direction)));\n\n        this.keyboard.on('esc', () => {\n            this.deactivateEditing(false);\n            this.columnmanager.toggleFilter(false);\n        });\n\n        if (this.options.inlineFilters) {\n            this.keyboard.on('ctrl+f', (e) => {\n                const $cell = $.closest('.dt-cell', e.target);\n                const { colIndex } = $.data($cell);\n\n                this.activateFilter(colIndex);\n                return true;\n            });\n\n            $.on(this.header, 'focusin', '.dt-filter', () => {\n                this.unfocusCell(this.$focusedCell);\n            });\n        }\n    }\n\n    bindKeyboardSelection() {\n        const getNextSelectionCursor = (direction) => {\n            let $selectionCursor = this.getSelectionCursor();\n\n            if (direction === 'left') {\n                $selectionCursor = this.getLeftCell$($selectionCursor);\n            } else if (direction === 'right') {\n                $selectionCursor = this.getRightCell$($selectionCursor);\n            } else if (direction === 'up') {\n                $selectionCursor = this.getAboveCell$($selectionCursor);\n            } else if (direction === 'down') {\n                $selectionCursor = this.getBelowCell$($selectionCursor);\n            }\n\n            return $selectionCursor;\n        };\n\n        ['left', 'right', 'up', 'down']\n            .map(direction =>\n                this.keyboard.on(`shift+${direction}`, () => this.selectArea(getNextSelectionCursor(direction))));\n    }\n\n    bindCopyCellContents() {\n        this.keyboard.on('ctrl+c', () => {\n            const noOfCellsCopied = this.copyCellContents(this.$focusedCell, this.$selectionCursor);\n            const message = this.instance.translate('{count} cells copied', {\n                count: noOfCellsCopied\n            });\n\n            if (noOfCellsCopied) {\n                this.instance.showToastMessage(message, 2);\n            }\n        });\n\n        if (this.options.pasteFromClipboard) {\n            this.keyboard.on('ctrl+v', (e) => {\n                // hack\n                // https://stackoverflow.com/a/2177059/5353542\n                this.instance.pasteTarget.focus();\n\n                setTimeout(() => {\n                    const data = this.instance.pasteTarget.value;\n                    this.instance.pasteTarget.value = '';\n                    this.pasteContentInCell(data);\n                }, 10);\n\n                return false;\n            });\n        }\n    }\n\n    bindMouseEvents() {\n        let mouseDown = null;\n\n        $.on(this.bodyScrollable, 'mousedown', '.dt-cell', (e) => {\n            mouseDown = true;\n            this.focusCell($(e.delegatedTarget));\n        });\n\n        $.on(this.bodyScrollable, 'mouseup', () => {\n            mouseDown = false;\n        });\n\n        const selectArea = (e) => {\n            if (!mouseDown) return;\n            this.selectArea($(e.delegatedTarget));\n        };\n\n        $.on(this.bodyScrollable, 'mousemove', '.dt-cell', throttle$1(selectArea, 50));\n    }\n\n    bindTreeEvents() {\n        $.on(this.bodyScrollable, 'click', '.dt-tree-node__toggle', (e, $toggle) => {\n            const $cell = $.closest('.dt-cell', $toggle);\n            const { rowIndex } = $.data($cell);\n\n            if ($cell.classList.contains('dt-cell--tree-close')) {\n                this.rowmanager.openSingleNode(rowIndex);\n            } else {\n                this.rowmanager.closeSingleNode(rowIndex);\n            }\n        });\n    }\n\n    focusCell($cell, {\n        skipClearSelection = 0,\n        skipDOMFocus = 0,\n        skipScrollToCell = 0\n    } = {}) {\n        if (!$cell) return;\n\n        // don't focus if already editing cell\n        if ($cell === this.$editingCell) return;\n\n        const {\n            colIndex,\n            isHeader\n        } = $.data($cell);\n        if (isHeader) {\n            return;\n        }\n\n        const column = this.columnmanager.getColumn(colIndex);\n        if (column.focusable === false) {\n            return;\n        }\n\n        if (!skipScrollToCell) {\n            this.scrollToCell($cell);\n        }\n\n        this.deactivateEditing();\n        if (!skipClearSelection) {\n            this.clearSelection();\n        }\n\n        if (this.$focusedCell) {\n            this.$focusedCell.classList.remove('dt-cell--focus');\n        }\n\n        this.$focusedCell = $cell;\n        $cell.classList.add('dt-cell--focus');\n\n        if (!skipDOMFocus) {\n            // so that keyboard nav works\n            $cell.focus();\n        }\n\n        this.highlightRowColumnHeader($cell);\n    }\n\n    unfocusCell($cell) {\n        if (!$cell) return;\n\n        // remove cell border\n        $cell.classList.remove('dt-cell--focus');\n        this.$focusedCell = null;\n\n        // reset header background\n        if (this.lastHeaders) {\n            this.lastHeaders.forEach(header => header && header.classList.remove('dt-cell--highlight'));\n        }\n    }\n\n    highlightRowColumnHeader($cell) {\n        const {\n            colIndex,\n            rowIndex\n        } = $.data($cell);\n\n        const srNoColIndex = this.datamanager.getColumnIndexById('_rowIndex');\n        const colHeaderSelector = `.dt-cell--header-${colIndex}`;\n        const rowHeaderSelector = `.dt-cell--${srNoColIndex}-${rowIndex}`;\n\n        if (this.lastHeaders) {\n            this.lastHeaders.forEach(header => header && header.classList.remove('dt-cell--highlight'));\n        }\n\n        const colHeader = $(colHeaderSelector, this.wrapper);\n        const rowHeader = $(rowHeaderSelector, this.wrapper);\n\n        this.lastHeaders = [colHeader, rowHeader];\n        this.lastHeaders.forEach(header => header && header.classList.add('dt-cell--highlight'));\n    }\n\n    selectAreaOnClusterChanged() {\n        if (!(this.$focusedCell && this.$selectionCursor)) return;\n        const {\n            colIndex,\n            rowIndex\n        } = $.data(this.$selectionCursor);\n        const $cell = this.getCell$(colIndex, rowIndex);\n\n        if (!$cell || $cell === this.$selectionCursor) return;\n\n        // selectArea needs $focusedCell\n        const fCell = $.data(this.$focusedCell);\n        this.$focusedCell = this.getCell$(fCell.colIndex, fCell.rowIndex);\n\n        this.selectArea($cell);\n    }\n\n    focusCellOnClusterChanged() {\n        if (!this.$focusedCell) return;\n\n        const {\n            colIndex,\n            rowIndex\n        } = $.data(this.$focusedCell);\n        const $cell = this.getCell$(colIndex, rowIndex);\n\n        if (!$cell) return;\n        // this function is called after hyperlist renders the rows after scroll,\n        // focusCell calls clearSelection which resets the area selection\n        // so a flag to skip it\n        // we also skip DOM focus and scroll to cell\n        // because it fights with the user scroll\n        this.focusCell($cell, {\n            skipClearSelection: 1,\n            skipDOMFocus: 1,\n            skipScrollToCell: 1\n        });\n    }\n\n    selectArea($selectionCursor) {\n        if (!this.$focusedCell) return;\n\n        if (this._selectArea(this.$focusedCell, $selectionCursor)) {\n            // valid selection\n            this.$selectionCursor = $selectionCursor;\n        }\n    }\n\n    _selectArea($cell1, $cell2) {\n        if ($cell1 === $cell2) return false;\n\n        const cells = this.getCellsInRange($cell1, $cell2);\n        if (!cells) return false;\n\n        this.clearSelection();\n        this._selectedCells = cells.map(index => this.getCell$(...index));\n        requestAnimationFrame(() => {\n            this._selectedCells.map($cell => $cell.classList.add('dt-cell--highlight'));\n        });\n        return true;\n    }\n\n    getCellsInRange($cell1, $cell2) {\n        let colIndex1, rowIndex1, colIndex2, rowIndex2;\n\n        if (typeof $cell1 === 'number') {\n            [colIndex1, rowIndex1, colIndex2, rowIndex2] = arguments;\n        } else\n        if (typeof $cell1 === 'object') {\n            if (!($cell1 && $cell2)) {\n                return false;\n            }\n\n            const cell1 = $.data($cell1);\n            const cell2 = $.data($cell2);\n\n            colIndex1 = +cell1.colIndex;\n            rowIndex1 = +cell1.rowIndex;\n            colIndex2 = +cell2.colIndex;\n            rowIndex2 = +cell2.rowIndex;\n        }\n\n        if (rowIndex1 > rowIndex2) {\n            [rowIndex1, rowIndex2] = [rowIndex2, rowIndex1];\n        }\n\n        if (colIndex1 > colIndex2) {\n            [colIndex1, colIndex2] = [colIndex2, colIndex1];\n        }\n\n        if (this.isStandardCell(colIndex1) || this.isStandardCell(colIndex2)) {\n            return false;\n        }\n\n        const cells = [];\n        let colIndex = colIndex1;\n        let rowIndex = rowIndex1;\n        const rowIndices = [];\n\n        while (rowIndex <= rowIndex2) {\n            rowIndices.push(rowIndex);\n            rowIndex += 1;\n        }\n\n        rowIndices.map((rowIndex) => {\n            while (colIndex <= colIndex2) {\n                cells.push([colIndex, rowIndex]);\n                colIndex++;\n            }\n            colIndex = colIndex1;\n        });\n\n        return cells;\n    }\n\n    clearSelection() {\n        (this._selectedCells || [])\n            .forEach($cell => $cell.classList.remove('dt-cell--highlight'));\n\n        this._selectedCells = [];\n        this.$selectionCursor = null;\n    }\n\n    getSelectionCursor() {\n        return this.$selectionCursor || this.$focusedCell;\n    }\n\n    activateEditing($cell) {\n        this.focusCell($cell);\n        const {\n            rowIndex,\n            colIndex\n        } = $.data($cell);\n\n        const col = this.columnmanager.getColumn(colIndex);\n        if (col && (col.editable === false || col.focusable === false)) {\n            return;\n        }\n\n        const cell = this.getCell(colIndex, rowIndex);\n        if (cell && cell.editable === false) {\n            return;\n        }\n\n        if (this.$editingCell) {\n            const {\n                _rowIndex,\n                _colIndex\n            } = $.data(this.$editingCell);\n\n            if (rowIndex === _rowIndex && colIndex === _colIndex) {\n                // editing the same cell\n                return;\n            }\n        }\n\n        this.$editingCell = $cell;\n        $cell.classList.add('dt-cell--editing');\n\n        const $editCell = $('.dt-cell__edit', $cell);\n        $editCell.innerHTML = '';\n\n        const editor = this.getEditor(colIndex, rowIndex, cell.content, $editCell);\n\n        if (editor) {\n            this.currentCellEditor = editor;\n            // initialize editing input with cell value\n            editor.initValue(cell.content, rowIndex, col);\n        }\n    }\n\n    deactivateEditing(submitValue = true) {\n        if (submitValue) {\n            this.submitEditing();\n        }\n        // keep focus on the cell so that keyboard navigation works\n        if (this.$focusedCell) this.$focusedCell.focus();\n\n        if (!this.$editingCell) return;\n        this.$editingCell.classList.remove('dt-cell--editing');\n        this.$editingCell = null;\n    }\n\n    getEditor(colIndex, rowIndex, value, parent) {\n        const column = this.datamanager.getColumn(colIndex);\n        const row = this.datamanager.getRow(rowIndex);\n        const data = this.datamanager.getData(rowIndex);\n        let editor = this.options.getEditor ?\n            this.options.getEditor(colIndex, rowIndex, value, parent, column, row, data) :\n            this.getDefaultEditor(parent);\n\n        if (editor === false) {\n            // explicitly returned false\n            return false;\n        }\n        if (editor === undefined) {\n            // didn't return editor, fallback to default\n            editor = this.getDefaultEditor(parent);\n        }\n\n        return editor;\n    }\n\n    getDefaultEditor(parent) {\n        const $input = $.create('input', {\n            class: 'dt-input',\n            type: 'text',\n            inside: parent\n        });\n\n        return {\n            initValue(value) {\n                $input.focus();\n                $input.value = value;\n            },\n            getValue() {\n                return $input.value;\n            },\n            setValue(value) {\n                $input.value = value;\n            }\n        };\n    }\n\n    submitEditing() {\n        let promise = Promise.resolve();\n        if (!this.$editingCell) return promise;\n\n        const $cell = this.$editingCell;\n        const {\n            rowIndex,\n            colIndex\n        } = $.data($cell);\n        const col = this.datamanager.getColumn(colIndex);\n\n        if ($cell) {\n            const editor = this.currentCellEditor;\n\n            if (editor) {\n                let valuePromise = editor.getValue();\n\n                // convert to stubbed Promise\n                if (!valuePromise.then) {\n                    valuePromise = Promise.resolve(valuePromise);\n                }\n\n                promise = valuePromise.then((value) => {\n                    const oldValue = this.getCell(colIndex, rowIndex).content;\n\n                    if (oldValue === value) return false;\n\n                    const done = editor.setValue(value, rowIndex, col);\n\n                    // update cell immediately\n                    this.updateCell(colIndex, rowIndex, value, true);\n                    $cell.focus();\n\n                    if (done && done.then) {\n                        // revert to oldValue if promise fails\n                        done.catch((e) => {\n                            console.log(e);\n                            this.updateCell(colIndex, rowIndex, oldValue);\n                        });\n                    }\n                    return done;\n                });\n            }\n        }\n\n        this.currentCellEditor = null;\n        return promise;\n    }\n\n    copyCellContents($cell1, $cell2) {\n        if (!$cell2 && $cell1) {\n            // copy only focusedCell\n            const {\n                colIndex,\n                rowIndex\n            } = $.data($cell1);\n            const cell = this.getCell(colIndex, rowIndex);\n            copyTextToClipboard(cell.content);\n            return 1;\n        }\n        const cells = this.getCellsInRange($cell1, $cell2);\n\n        if (!cells) return 0;\n\n        const rows = cells\n            // get cell objects\n            .map(index => this.getCell(...index))\n            // convert to array of rows\n            .reduce((acc, curr) => {\n                const rowIndex = curr.rowIndex;\n\n                acc[rowIndex] = acc[rowIndex] || [];\n                acc[rowIndex].push(curr.content);\n\n                return acc;\n            }, []);\n\n        const values = rows\n            // join values by tab\n            .map(row => row.join('\\t'))\n            // join rows by newline\n            .join('\\n');\n\n        copyTextToClipboard(values);\n\n        // return no of cells copied\n        return rows.reduce((total, row) => total + row.length, 0);\n    }\n\n    pasteContentInCell(data) {\n        if (!this.$focusedCell) return;\n\n        const matrix = data\n            .split('\\n')\n            .map(row => row.split('\\t'))\n            .filter(row => row.length && row.every(it => it));\n\n        let { colIndex, rowIndex } = $.data(this.$focusedCell);\n\n        let focusedCell = {\n            colIndex: +colIndex,\n            rowIndex: +rowIndex\n        };\n\n        matrix.forEach((row, i) => {\n            let rowIndex = i + focusedCell.rowIndex;\n            row.forEach((cell, j) => {\n                let colIndex = j + focusedCell.colIndex;\n                this.updateCell(colIndex, rowIndex, cell, true);\n            });\n        });\n    }\n\n    activateFilter(colIndex) {\n        this.columnmanager.toggleFilter();\n        this.columnmanager.focusFilter(colIndex);\n\n        if (!this.columnmanager.isFilterShown) {\n            // put focus back on cell\n            this.$focusedCell && this.$focusedCell.focus();\n        }\n    }\n\n    updateCell(colIndex, rowIndex, value, refreshHtml = false) {\n        const cell = this.datamanager.updateCell(colIndex, rowIndex, {\n            content: value\n        });\n        this.refreshCell(cell, refreshHtml);\n    }\n\n    refreshCell(cell, refreshHtml = false) {\n        const $cell = $(this.selector(cell.colIndex, cell.rowIndex), this.bodyScrollable);\n        $cell.innerHTML = this.getCellContent(cell, refreshHtml);\n    }\n\n    toggleTreeButton(rowIndex, flag) {\n        const colIndex = this.columnmanager.getFirstColumnIndex();\n        const $cell = this.getCell$(colIndex, rowIndex);\n        if ($cell) {\n            $cell.classList[flag ? 'remove' : 'add']('dt-cell--tree-close');\n        }\n    }\n\n    isStandardCell(colIndex) {\n        // Standard cells are in Sr. No and Checkbox column\n        return colIndex < this.columnmanager.getFirstColumnIndex();\n    }\n\n    focusCellInDirection(direction) {\n        if (!this.$focusedCell || (this.$editingCell && ['left', 'right', 'up', 'down'].includes(direction))) {\n            return false;\n        } else if (this.$editingCell && ['tab', 'shift+tab'].includes(direction)) {\n            this.deactivateEditing();\n        }\n\n        let $cell = this.$focusedCell;\n\n        if (direction === 'left' || direction === 'shift+tab') {\n            $cell = this.getLeftCell$($cell);\n        } else if (direction === 'right' || direction === 'tab') {\n            $cell = this.getRightCell$($cell);\n        } else if (direction === 'up') {\n            $cell = this.getAboveCell$($cell);\n        } else if (direction === 'down') {\n            $cell = this.getBelowCell$($cell);\n        }\n\n        if (!$cell) {\n            return false;\n        }\n\n        const {\n            colIndex\n        } = $.data($cell);\n        const column = this.columnmanager.getColumn(colIndex);\n\n        if (!column.focusable) {\n            let $prevFocusedCell = this.$focusedCell;\n            this.unfocusCell($prevFocusedCell);\n            this.$focusedCell = $cell;\n            let ret = this.focusCellInDirection(direction);\n            if (!ret) {\n                this.focusCell($prevFocusedCell);\n            }\n            return ret;\n        }\n\n        this.focusCell($cell);\n        return true;\n    }\n\n    getCell$(colIndex, rowIndex) {\n        return $(this.selector(colIndex, rowIndex), this.bodyScrollable);\n    }\n\n    getAboveCell$($cell) {\n        const {\n            colIndex\n        } = $.data($cell);\n\n        let $aboveRow = $cell.parentElement.previousElementSibling;\n        while ($aboveRow && $aboveRow.classList.contains('dt-row--hide')) {\n            $aboveRow = $aboveRow.previousElementSibling;\n        }\n\n        if (!$aboveRow) return $cell;\n        return $(`.dt-cell--col-${colIndex}`, $aboveRow);\n    }\n\n    getBelowCell$($cell) {\n        const {\n            colIndex\n        } = $.data($cell);\n\n        let $belowRow = $cell.parentElement.nextElementSibling;\n        while ($belowRow && $belowRow.classList.contains('dt-row--hide')) {\n            $belowRow = $belowRow.nextElementSibling;\n        }\n\n        if (!$belowRow) return $cell;\n        return $(`.dt-cell--col-${colIndex}`, $belowRow);\n    }\n\n    getLeftCell$($cell) {\n        return $cell.previousElementSibling;\n    }\n\n    getRightCell$($cell) {\n        return $cell.nextElementSibling;\n    }\n\n    getLeftMostCell$(rowIndex) {\n        return this.getCell$(this.columnmanager.getFirstColumnIndex(), rowIndex);\n    }\n\n    getRightMostCell$(rowIndex) {\n        return this.getCell$(this.columnmanager.getLastColumnIndex(), rowIndex);\n    }\n\n    getTopMostCell$(colIndex) {\n        return this.getCell$(colIndex, this.rowmanager.getFirstRowIndex());\n    }\n\n    getBottomMostCell$(colIndex) {\n        return this.getCell$(colIndex, this.rowmanager.getLastRowIndex());\n    }\n\n    getCell(colIndex, rowIndex) {\n        return this.instance.datamanager.getCell(colIndex, rowIndex);\n    }\n\n    getRowHeight() {\n        return $.style($('.dt-row', this.bodyScrollable), 'height');\n    }\n\n    scrollToCell($cell) {\n        if ($.inViewport($cell, this.bodyScrollable)) return false;\n\n        const {\n            rowIndex\n        } = $.data($cell);\n        this.rowmanager.scrollToRow(rowIndex);\n        return false;\n    }\n\n    getRowCountPerPage() {\n        return Math.ceil(this.instance.getViewportHeight() / this.getRowHeight());\n    }\n\n    getCellHTML(cell) {\n        const {\n            rowIndex,\n            colIndex,\n            isHeader,\n            isFilter,\n            isTotalRow\n        } = cell;\n        const dataAttr = makeDataAttributeString({\n            rowIndex,\n            colIndex,\n            isHeader,\n            isFilter,\n            isTotalRow\n        });\n\n        const row = this.datamanager.getRow(rowIndex);\n\n        const isBodyCell = !(isHeader || isFilter || isTotalRow);\n\n        const className = [\n            'dt-cell',\n            'dt-cell--col-' + colIndex,\n            isBodyCell ? `dt-cell--${colIndex}-${rowIndex}` : '',\n            isBodyCell ? 'dt-cell--row-' + rowIndex : '',\n            isHeader ? 'dt-cell--header' : '',\n            isHeader ? `dt-cell--header-${colIndex}` : '',\n            isFilter ? 'dt-cell--filter' : '',\n            isBodyCell && (row && row.meta.isTreeNodeClose) ? 'dt-cell--tree-close' : ''\n        ].join(' ');\n\n        return `\n            <div class=\"${className}\" ${dataAttr} tabindex=\"0\">\n                ${this.getCellContent(cell)}\n            </div>\n        `;\n    }\n\n    getCellContent(cell, refreshHtml = false) {\n        const {\n            isHeader,\n            isFilter,\n            colIndex\n        } = cell;\n\n        const editable = !isHeader && cell.editable !== false;\n        const editCellHTML = editable ? this.getEditCellHTML(colIndex) : '';\n\n        const sortable = isHeader && cell.sortable !== false;\n        const sortIndicator = sortable ?\n            `<span class=\"sort-indicator\">\n                ${this.options.sortIndicator[cell.sortOrder]}\n            </span>` :\n            '';\n\n        const resizable = isHeader && cell.resizable !== false;\n        const resizeColumn = resizable ? '<span class=\"dt-cell__resize-handle\"></span>' : '';\n\n        const hasDropdown = isHeader && cell.dropdown !== false;\n        const dropdown = hasDropdown ? this.columnmanager.getDropdownHTML() : '';\n\n        let customFormatter = CellManager.getCustomCellFormatter(cell);\n        let contentHTML;\n        if (isHeader || isFilter || !customFormatter) {\n            contentHTML = cell.content;\n        } else {\n            if (!cell.html || refreshHtml) {\n                const row = this.datamanager.getRow(cell.rowIndex);\n                const data = this.datamanager.getData(cell.rowIndex);\n                contentHTML = customFormatter(cell.content, row, cell.column, data);\n            } else {\n                contentHTML = cell.html;\n            }\n        }\n\n        cell.html = contentHTML;\n\n        if (this.options.treeView && !(isHeader || isFilter) && cell.indent !== undefined) {\n            const nextRow = this.datamanager.getRow(cell.rowIndex + 1);\n            const addToggle = nextRow && nextRow.meta.indent > cell.indent;\n            const leftPadding = 20;\n            const unit = 'px';\n\n            // Add toggle and indent in the first column\n            const firstColumnIndex = this.datamanager.getColumnIndexById('_rowIndex') + 1;\n            if (firstColumnIndex === cell.colIndex) {\n                const padding = ((cell.indent || 0)) * leftPadding;\n                const toggleHTML = addToggle ?\n                    `<span class=\"dt-tree-node__toggle\" style=\"left: ${padding - leftPadding}${unit}\">\n                        <span class=\"icon-open\">${icons.chevronDown}</span>\n                        <span class=\"icon-close\">${icons.chevronRight}</span>\n                    </span>` : '';\n                contentHTML = `<span class=\"dt-tree-node\" style=\"padding-left: ${padding}${unit}\">\n                    ${toggleHTML}\n                    <span>${contentHTML}</span>\n                </span>`;\n            }\n        }\n\n        const className = [\n            'dt-cell__content',\n            isHeader ? `dt-cell__content--header-${colIndex}` : `dt-cell__content--col-${colIndex}`\n        ].join(' ');\n\n        let cellContentHTML = `\n            <div class=\"${className}\">\n                ${contentHTML}\n                ${sortIndicator}\n                ${resizeColumn}\n                ${dropdown}\n            </div>\n            ${editCellHTML}\n        `;\n\n        let div = document.createElement('div');\n        div.innerHTML = contentHTML;\n\n        let textContent = div.textContent;\n        textContent = textContent.replace(/\\s+/g, ' ').trim();\n\n        cellContentHTML = cellContentHTML.replace('>', ` title=\"${escapeHTML(textContent)}\">`);\n\n        return cellContentHTML;\n    }\n\n    getEditCellHTML(colIndex) {\n        return `<div class=\"dt-cell__edit dt-cell__edit--col-${colIndex}\"></div>`;\n    }\n\n    selector(colIndex, rowIndex) {\n        return `.dt-cell--${colIndex}-${rowIndex}`;\n    }\n\n    static getCustomCellFormatter(cell) {\n        return cell.format || (cell.column && cell.column.format) || null;\n    }\n}\n\nclass ColumnManager {\n    constructor(instance) {\n        this.instance = instance;\n\n        linkProperties(this, this.instance, [\n            'options',\n            'fireEvent',\n            'header',\n            'datamanager',\n            'cellmanager',\n            'style',\n            'wrapper',\n            'rowmanager',\n            'bodyScrollable',\n            'bodyRenderer'\n        ]);\n\n        this.bindEvents();\n    }\n\n    renderHeader() {\n        this.header.innerHTML = '<div></div>';\n        this.refreshHeader();\n    }\n\n    refreshHeader() {\n        const columns = this.datamanager.getColumns();\n\n        // refresh html\n        $('div', this.header).innerHTML = this.getHeaderHTML(columns);\n\n        this.$filterRow = $('.dt-row-filter', this.header);\n        if (this.$filterRow) {\n            $.style(this.$filterRow, { display: 'none' });\n        }\n        // reset columnMap\n        this.$columnMap = [];\n        this.bindMoveColumn();\n    }\n\n    getHeaderHTML(columns) {\n        let html = this.rowmanager.getRowHTML(columns, {\n            isHeader: 1\n        });\n        if (this.options.inlineFilters) {\n            html += this.rowmanager.getRowHTML(columns, {\n                isFilter: 1\n            });\n        }\n        return html;\n    }\n\n    bindEvents() {\n        this.bindDropdown();\n        this.bindResizeColumn();\n        this.bindPerfectColumnWidth();\n        this.bindFilter();\n    }\n\n    bindDropdown() {\n        let toggleClass = '.dt-dropdown__toggle';\n        let dropdownClass = '.dt-dropdown__list';\n\n        // attach the dropdown list to container\n        this.instance.dropdownContainer.innerHTML = this.getDropdownListHTML();\n        this.$dropdownList = this.instance.dropdownContainer.firstElementChild;\n\n        $.on(this.header, 'click', toggleClass, e => {\n            this.openDropdown(e);\n        });\n\n        const deactivateDropdownOnBodyClick = (e) => {\n            const selector = [\n                toggleClass, toggleClass + ' *',\n                dropdownClass, dropdownClass + ' *'\n            ].join(',');\n            if (e.target.matches(selector)) return;\n            deactivateDropdown();\n        };\n        $.on(document.body, 'click', deactivateDropdownOnBodyClick);\n        document.addEventListener('scroll', deactivateDropdown, true);\n\n        this.instance.on('onDestroy', () => {\n            $.off(document.body, 'click', deactivateDropdownOnBodyClick);\n            $.off(document, 'scroll', deactivateDropdown);\n        });\n\n        $.on(this.$dropdownList, 'click', '.dt-dropdown__list-item', (e, $item) => {\n            if (!this._dropdownActiveColIndex) return;\n            const dropdownItems = this.options.headerDropdown;\n            const { index } = $.data($item);\n            const colIndex = this._dropdownActiveColIndex;\n            let callback = dropdownItems[index].action;\n\n            callback && callback.call(this.instance, this.getColumn(colIndex));\n            this.hideDropdown();\n        });\n\n        const _this = this;\n        function deactivateDropdown(e) {\n            _this.hideDropdown();\n        }\n\n        this.hideDropdown();\n    }\n\n    openDropdown(e) {\n        if (!this._dropdownWidth) {\n            $.style(this.$dropdownList, { display: '' });\n            this._dropdownWidth = $.style(this.$dropdownList, 'width');\n        }\n        $.style(this.$dropdownList, {\n            display: '',\n            left: (e.clientX - this._dropdownWidth + 4) + 'px',\n            top: (e.clientY + 4) + 'px'\n        });\n        const $cell = $.closest('.dt-cell', e.target);\n        const { colIndex } = $.data($cell);\n        this._dropdownActiveColIndex = colIndex;\n    }\n\n    hideDropdown() {\n        $.style(this.$dropdownList, {\n            display: 'none'\n        });\n        this._dropdownActiveColIndex = null;\n    }\n\n    bindResizeColumn() {\n        let isDragging = false;\n        let $resizingCell, startWidth, startX;\n\n        $.on(this.header, 'mousedown', '.dt-cell .dt-cell__resize-handle', (e, $handle) => {\n            document.body.classList.add('dt-resize');\n            const $cell = $handle.parentNode.parentNode;\n            $resizingCell = $cell;\n            const {\n                colIndex\n            } = $.data($resizingCell);\n            const col = this.getColumn(colIndex);\n\n            if (col && col.resizable === false) {\n                return;\n            }\n\n            isDragging = true;\n            startWidth = $.style($('.dt-cell__content', $resizingCell), 'width');\n            startX = e.pageX;\n        });\n\n        const onMouseup = (e) => {\n            document.body.classList.remove('dt-resize');\n            if (!$resizingCell) return;\n            isDragging = false;\n\n            const {\n                colIndex\n            } = $.data($resizingCell);\n            this.setColumnWidth(colIndex);\n            this.style.setBodyStyle();\n            $resizingCell = null;\n        };\n        $.on(document.body, 'mouseup', onMouseup);\n        this.instance.on('onDestroy', () => {\n            $.off(document.body, 'mouseup', onMouseup);\n        });\n\n        const onMouseMove = (e) => {\n            if (!isDragging) return;\n            let delta = e.pageX - startX;\n            if (this.options.direction === 'rtl') {\n                delta = -1 * delta;\n            }\n            const finalWidth = startWidth + delta;\n            const {\n                colIndex\n            } = $.data($resizingCell);\n\n            let columnMinWidth = this.options.minimumColumnWidth;\n            if (columnMinWidth > finalWidth) {\n                // don't resize past 30 pixels\n                return;\n            }\n            this.datamanager.updateColumn(colIndex, {\n                width: finalWidth\n            });\n            this.setColumnHeaderWidth(colIndex);\n        };\n        $.on(document.body, 'mousemove', onMouseMove);\n        this.instance.on('onDestroy', () => {\n            $.off(document.body, 'mousemove', onMouseMove);\n        });\n    }\n\n    bindPerfectColumnWidth() {\n        $.on(this.header, 'dblclick', '.dt-cell .dt-cell__resize-handle', (e, $handle) => {\n            const $cell = $handle.parentNode.parentNode;\n            const { colIndex } = $.data($cell);\n\n            let longestCell = this.bodyRenderer.visibleRows\n                .map(d => d[colIndex])\n                .reduce((acc, curr) => acc.content.length > curr.content.length ? acc : curr);\n\n            let $longestCellHTML = this.cellmanager.getCellHTML(longestCell);\n            let $div = document.createElement('div');\n            $div.innerHTML = $longestCellHTML;\n            let cellText = $div.querySelector('.dt-cell__content').textContent;\n\n            let {\n                borderLeftWidth,\n                borderRightWidth,\n                paddingLeft,\n                paddingRight\n            } = $.getStyle(this.bodyScrollable.querySelector('.dt-cell__content'));\n\n            let padding = [borderLeftWidth, borderRightWidth, paddingLeft, paddingRight]\n                .map(parseFloat)\n                .reduce((sum, val) => sum + val);\n\n            let width = $.measureTextWidth(cellText) + padding;\n            this.datamanager.updateColumn(colIndex, { width });\n            this.setColumnHeaderWidth(colIndex);\n            this.setColumnWidth(colIndex);\n        });\n    }\n\n    bindMoveColumn() {\n        if (this.options.disableReorderColumn) return;\n\n        const $parent = $('.dt-row', this.header);\n\n        this.sortable = Sortable.create($parent, {\n            onEnd: (e) => {\n                const {\n                    oldIndex,\n                    newIndex\n                } = e;\n                const $draggedCell = e.item;\n                const {\n                    colIndex\n                } = $.data($draggedCell);\n                if (+colIndex === newIndex) return;\n\n                this.switchColumn(oldIndex, newIndex);\n            },\n            preventOnFilter: false,\n            filter: '.dt-cell__resize-handle, .dt-dropdown',\n            chosenClass: 'dt-cell--dragging',\n            animation: 150\n        });\n    }\n\n    sortColumn(colIndex, nextSortOrder) {\n        this.instance.freeze();\n        this.sortRows(colIndex, nextSortOrder)\n            .then(() => {\n                this.refreshHeader();\n                return this.rowmanager.refreshRows();\n            })\n            .then(() => this.instance.unfreeze())\n            .then(() => {\n                this.fireEvent('onSortColumn', this.getColumn(colIndex));\n            });\n    }\n\n    removeColumn(colIndex) {\n        const removedCol = this.getColumn(colIndex);\n        this.instance.freeze();\n        this.datamanager.removeColumn(colIndex)\n            .then(() => {\n                this.refreshHeader();\n                return this.rowmanager.refreshRows();\n            })\n            .then(() => this.instance.unfreeze())\n            .then(() => {\n                this.fireEvent('onRemoveColumn', removedCol);\n            });\n    }\n\n    switchColumn(oldIndex, newIndex) {\n        this.instance.freeze();\n        this.datamanager.switchColumn(oldIndex, newIndex)\n            .then(() => {\n                this.refreshHeader();\n                return this.rowmanager.refreshRows();\n            })\n            .then(() => {\n                this.setColumnWidth(oldIndex);\n                this.setColumnWidth(newIndex);\n                this.instance.unfreeze();\n            })\n            .then(() => {\n                this.fireEvent('onSwitchColumn',\n                    this.getColumn(oldIndex), this.getColumn(newIndex)\n                );\n            });\n    }\n\n    toggleFilter(flag) {\n        if (!this.options.inlineFilters) return;\n\n        let showFilter;\n        if (flag === undefined) {\n            showFilter = !this.isFilterShown;\n        } else {\n            showFilter = flag;\n        }\n\n        if (showFilter) {\n            $.style(this.$filterRow, { display: '' });\n        } else {\n            $.style(this.$filterRow, { display: 'none' });\n        }\n\n        this.isFilterShown = showFilter;\n        this.style.setBodyStyle();\n    }\n\n    focusFilter(colIndex) {\n        if (!this.isFilterShown) return;\n\n        const $filterInput = $(`.dt-cell--col-${colIndex} .dt-filter`, this.$filterRow);\n        $filterInput.focus();\n    }\n\n    bindFilter() {\n        if (!this.options.inlineFilters) return;\n        const handler = e => {\n            this.applyFilter(this.getAppliedFilters());\n        };\n        $.on(this.header, 'keydown', '.dt-filter', debounce$1(handler, 300));\n    }\n\n    applyFilter(filters) {\n        this.datamanager.filterRows(filters)\n            .then(({\n                rowsToShow\n            }) => {\n                this.rowmanager.showRows(rowsToShow);\n            });\n    }\n\n    getAppliedFilters() {\n        const filters = {};\n        $.each('.dt-filter', this.header).map((input) => {\n            const value = input.value;\n            if (value) {\n                filters[input.dataset.colIndex] = value;\n            }\n        });\n        return filters;\n    }\n\n    applyDefaultSortOrder() {\n        // sort rows if any 1 column has a default sortOrder set\n        const columnsToSort = this.getColumns().filter(col => col.sortOrder !== 'none');\n\n        if (columnsToSort.length === 1) {\n            const column = columnsToSort[0];\n            this.sortColumn(column.colIndex, column.sortOrder);\n        }\n    }\n\n    sortRows(colIndex, sortOrder) {\n        return this.datamanager.sortRows(colIndex, sortOrder);\n    }\n\n    getColumn(colIndex) {\n        return this.datamanager.getColumn(colIndex);\n    }\n\n    getColumns() {\n        return this.datamanager.getColumns();\n    }\n\n    setColumnWidth(colIndex, width) {\n        colIndex = +colIndex;\n\n        let columnWidth = width || this.getColumn(colIndex).width;\n\n        const selector = [\n            `.dt-cell__content--col-${colIndex}`,\n            `.dt-cell__edit--col-${colIndex}`\n        ].join(', ');\n\n        const styles = {\n            width: columnWidth + 'px'\n        };\n\n        this.style.setStyle(selector, styles);\n    }\n\n    setColumnHeaderWidth(colIndex) {\n        colIndex = +colIndex;\n        this.$columnMap = this.$columnMap || [];\n        const selector = `.dt-cell__content--header-${colIndex}`;\n        const {\n            width\n        } = this.getColumn(colIndex);\n\n        let $column = this.$columnMap[colIndex];\n        if (!$column) {\n            $column = this.header.querySelector(selector);\n            this.$columnMap[colIndex] = $column;\n        }\n\n        $column.style.width = width + 'px';\n    }\n\n    getColumnMinWidth(colIndex) {\n        colIndex = +colIndex;\n        return this.getColumn(colIndex).minWidth || 24;\n    }\n\n    getFirstColumnIndex() {\n        return this.datamanager.getColumnIndexById('_rowIndex') + 1;\n    }\n\n    getHeaderCell$(colIndex) {\n        return $(`.dt-cell--header-${colIndex}`, this.header);\n    }\n\n    getLastColumnIndex() {\n        return this.datamanager.getColumnCount() - 1;\n    }\n\n    getDropdownHTML() {\n        const { dropdownButton } = this.options;\n\n        return `\n            <div class=\"dt-dropdown\">\n                <div class=\"dt-dropdown__toggle\">${dropdownButton}</div>\n            </div>\n      `;\n    }\n\n    getDropdownListHTML() {\n        const { headerDropdown: dropdownItems } = this.options;\n\n        return `\n            <div class=\"dt-dropdown__list\">\n            ${dropdownItems.map((d, i) => `\n                <div class=\"dt-dropdown__list-item\" data-index=\"${i}\">${d.label}</div>\n            `).join('')}\n            </div>\n        `;\n    }\n}\n\nclass RowManager {\n    constructor(instance) {\n        this.instance = instance;\n        linkProperties(this, this.instance, [\n            'options',\n            'fireEvent',\n            'wrapper',\n            'bodyScrollable',\n            'bodyRenderer',\n            'style'\n        ]);\n\n        this.bindEvents();\n        this.refreshRows = nextTick(this.refreshRows, this);\n    }\n\n    get datamanager() {\n        return this.instance.datamanager;\n    }\n\n    get cellmanager() {\n        return this.instance.cellmanager;\n    }\n\n    bindEvents() {\n        this.bindCheckbox();\n    }\n\n    bindCheckbox() {\n        if (!this.options.checkboxColumn) return;\n\n        // map of checked rows\n        this.checkMap = [];\n\n        $.on(this.wrapper, 'click', '.dt-cell--col-0 [type=\"checkbox\"]', (e, $checkbox) => {\n            const $cell = $checkbox.closest('.dt-cell');\n            const {\n                rowIndex,\n                isHeader\n            } = $.data($cell);\n            const checked = $checkbox.checked;\n\n            if (isHeader) {\n                this.checkAll(checked);\n            } else {\n                this.checkRow(rowIndex, checked);\n            }\n        });\n    }\n\n    refreshRows() {\n        this.instance.renderBody();\n        this.instance.setDimensions();\n    }\n\n    refreshRow(row, rowIndex) {\n        const _row = this.datamanager.updateRow(row, rowIndex);\n\n        _row.forEach(cell => {\n            this.cellmanager.refreshCell(cell, true);\n        });\n    }\n\n    getCheckedRows() {\n        if (!this.checkMap) {\n            return [];\n        }\n\n        let out = [];\n        for (let rowIndex in this.checkMap) {\n            const checked = this.checkMap[rowIndex];\n            if (checked === 1) {\n                out.push(rowIndex);\n            }\n        }\n\n        return out;\n    }\n\n    highlightCheckedRows() {\n        this.getCheckedRows()\n            .map(rowIndex => this.checkRow(rowIndex, true));\n    }\n\n    checkRow(rowIndex, toggle) {\n        const value = toggle ? 1 : 0;\n        const selector = rowIndex => `.dt-cell--0-${rowIndex} [type=\"checkbox\"]`;\n        // update internal map\n        this.checkMap[rowIndex] = value;\n        // set checkbox value explicitly\n        $.each(selector(rowIndex), this.bodyScrollable)\n            .map(input => {\n                input.checked = toggle;\n            });\n        // highlight row\n        this.highlightRow(rowIndex, toggle);\n        this.showCheckStatus();\n        this.fireEvent('onCheckRow', this.datamanager.getRow(rowIndex));\n    }\n\n    checkAll(toggle) {\n        const value = toggle ? 1 : 0;\n\n        // update internal map\n        if (toggle) {\n            if (this.datamanager._filteredRows) {\n                this.datamanager._filteredRows.forEach(f => {\n                    this.checkRow(f, toggle);\n                });\n            } else {\n                this.checkMap = Array.from(Array(this.getTotalRows())).map(c => value);\n            }\n        } else {\n            this.checkMap = [];\n        }\n        // set checkbox value\n        $.each('.dt-cell--col-0 [type=\"checkbox\"]', this.bodyScrollable)\n            .map(input => {\n                input.checked = toggle;\n            });\n        // highlight all\n        this.highlightAll(toggle);\n        this.showCheckStatus();\n        this.fireEvent('onCheckRow');\n    }\n\n    showCheckStatus() {\n        if (!this.options.checkedRowStatus) return;\n        const checkedRows = this.getCheckedRows();\n        const count = checkedRows.length;\n        if (count > 0) {\n            let message = this.instance.translate('{count} rows selected', {\n                count: count\n            });\n            this.bodyRenderer.showToastMessage(message);\n        } else {\n            this.bodyRenderer.clearToastMessage();\n        }\n    }\n\n    highlightRow(rowIndex, toggle = true) {\n        const $row = this.getRow$(rowIndex);\n        if (!$row) return;\n\n        if (!toggle && this.bodyScrollable.classList.contains('dt-scrollable--highlight-all')) {\n            $row.classList.add('dt-row--unhighlight');\n            return;\n        }\n\n        if (toggle && $row.classList.contains('dt-row--unhighlight')) {\n            $row.classList.remove('dt-row--unhighlight');\n        }\n\n        this._highlightedRows = this._highlightedRows || {};\n\n        if (toggle) {\n            $row.classList.add('dt-row--highlight');\n            this._highlightedRows[rowIndex] = $row;\n        } else {\n            $row.classList.remove('dt-row--highlight');\n            delete this._highlightedRows[rowIndex];\n        }\n    }\n\n    highlightAll(toggle = true) {\n        if (toggle) {\n            this.bodyScrollable.classList.add('dt-scrollable--highlight-all');\n        } else {\n            this.bodyScrollable.classList.remove('dt-scrollable--highlight-all');\n            for (const rowIndex in this._highlightedRows) {\n                const $row = this._highlightedRows[rowIndex];\n                $row.classList.remove('dt-row--highlight');\n            }\n            this._highlightedRows = {};\n        }\n    }\n\n    showRows(rowIndices) {\n        rowIndices = ensureArray(rowIndices);\n        const rows = rowIndices.map(rowIndex => this.datamanager.getRow(rowIndex));\n        this.bodyRenderer.renderRows(rows);\n    }\n\n    showAllRows() {\n        const rowIndices = this.datamanager.getAllRowIndices();\n        this.showRows(rowIndices);\n    }\n\n    getChildrenToShowForNode(rowIndex) {\n        const row = this.datamanager.getRow(rowIndex);\n        row.meta.isTreeNodeClose = false;\n\n        return this.datamanager.getImmediateChildren(rowIndex);\n    }\n\n    openSingleNode(rowIndex) {\n        const childrenToShow = this.getChildrenToShowForNode(rowIndex);\n        const visibleRowIndices = this.bodyRenderer.visibleRowIndices;\n        const rowsToShow = uniq$1([...childrenToShow, ...visibleRowIndices]).sort(numberSortAsc);\n\n        this.showRows(rowsToShow);\n    }\n\n    getChildrenToHideForNode(rowIndex) {\n        const row = this.datamanager.getRow(rowIndex);\n        row.meta.isTreeNodeClose = true;\n\n        const rowsToHide = this.datamanager.getChildren(rowIndex);\n        rowsToHide.forEach(rowIndex => {\n            const row = this.datamanager.getRow(rowIndex);\n            if (!row.meta.isLeaf) {\n                row.meta.isTreeNodeClose = true;\n            }\n        });\n\n        return rowsToHide;\n    }\n\n    closeSingleNode(rowIndex) {\n        const rowsToHide = this.getChildrenToHideForNode(rowIndex);\n        const visibleRows = this.bodyRenderer.visibleRowIndices;\n        const rowsToShow = visibleRows\n            .filter(rowIndex => !rowsToHide.includes(rowIndex))\n            .sort(numberSortAsc);\n\n        this.showRows(rowsToShow);\n    }\n\n    expandAllNodes() {\n        let rows = this.datamanager.getRows();\n        let rootNodes = rows.filter(row => !row.meta.isLeaf);\n\n        const childrenToShow = rootNodes.map(row => this.getChildrenToShowForNode(row.meta.rowIndex)).flat();\n        const visibleRowIndices = this.bodyRenderer.visibleRowIndices;\n        const rowsToShow = uniq$1([...childrenToShow, ...visibleRowIndices]).sort(numberSortAsc);\n\n        this.showRows(rowsToShow);\n    }\n\n    collapseAllNodes() {\n        let rows = this.datamanager.getRows();\n        let rootNodes = rows.filter(row => row.meta.indent === 0);\n\n        const rowsToHide = rootNodes.map(row => this.getChildrenToHideForNode(row.meta.rowIndex)).flat();\n        const visibleRows = this.bodyRenderer.visibleRowIndices;\n        const rowsToShow = visibleRows\n            .filter(rowIndex => !rowsToHide.includes(rowIndex))\n            .sort(numberSortAsc);\n\n        this.showRows(rowsToShow);\n    }\n\n    setTreeDepth(depth) {\n        let rows = this.datamanager.getRows();\n\n        const rowsToOpen = rows.filter(row => row.meta.indent < depth);\n        const rowsToClose = rows.filter(row => row.meta.indent >= depth);\n        const rowsToHide = rowsToClose.filter(row => row.meta.indent > depth);\n\n        rowsToClose.forEach(row => {\n            if (!row.meta.isLeaf) {\n                row.meta.isTreeNodeClose = true;\n            }\n        });\n        rowsToOpen.forEach(row => {\n            if (!row.meta.isLeaf) {\n                row.meta.isTreeNodeClose = false;\n            }\n        });\n\n        const rowsToShow = rows\n            .filter(row => !rowsToHide.includes(row))\n            .map(row => row.meta.rowIndex)\n            .sort(numberSortAsc);\n        this.showRows(rowsToShow);\n    }\n\n    getRow$(rowIndex) {\n        return $(this.selector(rowIndex), this.bodyScrollable);\n    }\n\n    getTotalRows() {\n        return this.datamanager.getRowCount();\n    }\n\n    getFirstRowIndex() {\n        return 0;\n    }\n\n    getLastRowIndex() {\n        return this.datamanager.getRowCount() - 1;\n    }\n\n    scrollToRow(rowIndex) {\n        rowIndex = +rowIndex;\n        this._lastScrollTo = this._lastScrollTo || 0;\n        const $row = this.getRow$(rowIndex);\n        if ($.inViewport($row, this.bodyScrollable)) return;\n\n        const {\n            height\n        } = $row.getBoundingClientRect();\n        const {\n            top,\n            bottom\n        } = this.bodyScrollable.getBoundingClientRect();\n        const rowsInView = Math.floor((bottom - top) / height);\n\n        let offset = 0;\n        if (rowIndex > this._lastScrollTo) {\n            offset = height * ((rowIndex + 1) - rowsInView);\n        } else {\n            offset = height * ((rowIndex + 1) - 1);\n        }\n\n        this._lastScrollTo = rowIndex;\n        $.scrollTop(this.bodyScrollable, offset);\n    }\n\n    getRowHTML(row, props) {\n        const dataAttr = makeDataAttributeString(props);\n        let rowIdentifier = props.rowIndex;\n\n        if (props.isFilter) {\n            row = row.map(cell => (Object.assign({}, cell, {\n                content: this.getFilterInput({\n                    colIndex: cell.colIndex,\n                    name: cell.name\n                }),\n                isFilter: 1,\n                isHeader: undefined,\n                editable: false\n            })));\n\n            rowIdentifier = 'filter';\n        }\n\n        if (props.isHeader) {\n            rowIdentifier = 'header';\n        }\n\n        return `\n            <div class=\"dt-row dt-row-${rowIdentifier}\" ${dataAttr}>\n                ${row.map(cell => this.cellmanager.getCellHTML(cell)).join('')}\n            </div>\n        `;\n    }\n\n    getFilterInput(props) {\n        let title = `title=\"Filter based on ${props.name || 'Index'}\"`;\n        const dataAttr = makeDataAttributeString(props);\n        return `<input class=\"dt-filter dt-input\" type=\"text\" ${dataAttr} tabindex=\"1\"\n            ${props.colIndex === 0 ? 'disabled' : title} />`;\n    }\n\n    selector(rowIndex) {\n        return `.dt-row-${rowIndex}`;\n    }\n}\n\nvar hyperlist = createCommonjsModule(function (module, exports) {\n(function(f){{module.exports=f();}})(function(){return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof commonjsRequire==\"function\"&&commonjsRequire;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r);}return n[o].exports}var i=typeof commonjsRequire==\"function\"&&commonjsRequire;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n\n// Default configuration.\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar defaultConfig = {\n  width: '100%',\n  height: '100%'\n};\n\n// Check for valid number.\nvar isNumber = function isNumber(input) {\n  return Number(input) === Number(input);\n};\n\n/**\n * Creates a HyperList instance that virtually scrolls very large amounts of\n * data effortlessly.\n */\n\nvar HyperList = function () {\n  _createClass(HyperList, null, [{\n    key: 'create',\n    value: function create(element, userProvidedConfig) {\n      return new HyperList(element, userProvidedConfig);\n    }\n\n    /**\n     * Merge given css style on an element\n     * @param {DOMElement} element\n     * @param {Object} style\n     */\n\n  }, {\n    key: 'mergeStyle',\n    value: function mergeStyle(element, style) {\n      for (var i in style) {\n        if (element.style[i] !== style[i]) {\n          element.style[i] = style[i];\n        }\n      }\n    }\n  }, {\n    key: 'getMaxBrowserHeight',\n    value: function getMaxBrowserHeight() {\n      // Create two elements, the wrapper is `1px` tall and is transparent and\n      // positioned at the top of the page. Inside that is an element that gets\n      // set to 1 billion pixels. Then reads the max height the browser can\n      // calculate.\n      var wrapper = document.createElement('div');\n      var fixture = document.createElement('div');\n\n      // As said above, these values get set to put the fixture elements into the\n      // right visual state.\n      HyperList.mergeStyle(wrapper, { position: 'absolute', height: '1px', opacity: 0 });\n      HyperList.mergeStyle(fixture, { height: '1e7px' });\n\n      // Add the fixture into the wrapper element.\n      wrapper.appendChild(fixture);\n\n      // Apply to the page, the values won't kick in unless this is attached.\n      document.body.appendChild(wrapper);\n\n      // Get the maximum element height in pixels.\n      var maxElementHeight = fixture.offsetHeight;\n\n      // Remove the element immediately after reading the value.\n      document.body.removeChild(wrapper);\n\n      return maxElementHeight;\n    }\n  }]);\n\n  function HyperList(element, userProvidedConfig) {\n    var _this = this;\n\n    _classCallCheck(this, HyperList);\n\n    this._config = {};\n    this._lastRepaint = null;\n    this._maxElementHeight = HyperList.getMaxBrowserHeight();\n\n    this.refresh(element, userProvidedConfig);\n\n    var config = this._config;\n\n    // Create internal render loop.\n    var render = function render() {\n      var scrollTop = _this._getScrollPosition();\n      var lastRepaint = _this._lastRepaint;\n\n      _this._renderAnimationFrame = window.requestAnimationFrame(render);\n\n      if (scrollTop === lastRepaint) {\n        return;\n      }\n\n      if (!lastRepaint || Math.abs(scrollTop - lastRepaint) > _this._averageHeight) {\n        var rendered = _this._renderChunk();\n\n        _this._lastRepaint = scrollTop;\n\n        if (rendered !== false && typeof config.afterRender === 'function') {\n          config.afterRender();\n        }\n      }\n    };\n\n    render();\n  }\n\n  _createClass(HyperList, [{\n    key: 'destroy',\n    value: function destroy() {\n      window.cancelAnimationFrame(this._renderAnimationFrame);\n    }\n  }, {\n    key: 'refresh',\n    value: function refresh(element, userProvidedConfig) {\n      var _this2 = this;\n\n      Object.assign(this._config, defaultConfig, userProvidedConfig);\n\n      if (!element || element.nodeType !== 1) {\n        throw new Error('HyperList requires a valid DOM Node container');\n      }\n\n      this._element = element;\n\n      var config = this._config;\n\n      var scroller = this._scroller || config.scroller || document.createElement(config.scrollerTagName || 'tr');\n\n      // Default configuration option `useFragment` to `true`.\n      if (typeof config.useFragment !== 'boolean') {\n        this._config.useFragment = true;\n      }\n\n      if (!config.generate) {\n        throw new Error('Missing required `generate` function');\n      }\n\n      if (!isNumber(config.total)) {\n        throw new Error('Invalid required `total` value, expected number');\n      }\n\n      if (!Array.isArray(config.itemHeight) && !isNumber(config.itemHeight)) {\n        throw new Error('\\n        Invalid required `itemHeight` value, expected number or array\\n      '.trim());\n      } else if (isNumber(config.itemHeight)) {\n        this._itemHeights = Array(config.total).fill(config.itemHeight);\n      } else {\n        this._itemHeights = config.itemHeight;\n      }\n\n      // Width and height should be coerced to string representations. Either in\n      // `%` or `px`.\n      Object.keys(defaultConfig).filter(function (prop) {\n        return prop in config;\n      }).forEach(function (prop) {\n        var value = config[prop];\n        var isValueNumber = isNumber(value);\n        var isValuePercent = isValueNumber ? false : value.slice(-1) === '%';\n\n        if (value && typeof value !== 'string' && typeof value !== 'number') {\n          var msg = 'Invalid optional `' + prop + '`, expected string or number';\n          throw new Error(msg);\n        } else if (isValueNumber) {\n          config[prop] = value + 'px';\n        }\n\n        if (prop !== 'height') {\n          return;\n        }\n\n        // Compute the containerHeight as number\n        var numberValue = isValueNumber ? value : parseInt(value.replace(/px|%/, ''), 10);\n\n        if (isValuePercent) {\n          _this2._containerHeight = window.innerHeight * numberValue / 100;\n        } else {\n          _this2._containerHeight = isNumber(value) ? value : numberValue;\n        }\n      });\n\n      // Decorate the container element with styles that will match\n      // the user supplied configuration.\n      var elementStyle = {\n        width: '' + config.width,\n        height: '' + config.height,\n        overflow: 'auto',\n        position: 'relative'\n      };\n\n      HyperList.mergeStyle(element, elementStyle);\n\n      var scrollerHeight = config.itemHeight * config.total;\n      var maxElementHeight = this._maxElementHeight;\n\n      if (scrollerHeight > maxElementHeight) {\n        console.warn(['HyperList: The maximum element height', maxElementHeight + 'px has', 'been exceeded; please reduce your item height.'].join(' '));\n      }\n\n      var scrollerStyle = {\n        opacity: '0',\n        position: 'absolute',\n        width: '1px',\n        height: scrollerHeight + 'px'\n      };\n\n      HyperList.mergeStyle(scroller, scrollerStyle);\n\n      // Only append the scroller element once.\n      if (!this._scroller) {\n        element.appendChild(scroller);\n      }\n\n      // Set the scroller instance.\n      this._scroller = scroller;\n      this._scrollHeight = this._computeScrollHeight();\n\n      // Reuse the item positions if refreshed, otherwise set to empty array.\n      this._itemPositions = this._itemPositions || Array(config.total).fill(0);\n\n      // Each index in the array should represent the position in the DOM.\n      this._computePositions(0);\n\n      // Render after refreshing. Force render if we're calling refresh manually.\n      this._renderChunk(this._lastRepaint !== null);\n\n      if (typeof config.afterRender === 'function') {\n        config.afterRender();\n      }\n    }\n  }, {\n    key: '_getRow',\n    value: function _getRow(i) {\n      var config = this._config;\n      var item = config.generate(i);\n      var height = item.height;\n\n      if (height !== undefined && isNumber(height)) {\n        item = item.element;\n\n        // The height isn't the same as predicted, compute positions again\n        if (height !== this._itemHeights) {\n          this._itemHeights[i] = height;\n          this._computePositions(i);\n          this._scrollHeight = this._computeScrollHeight(i);\n        }\n      } else {\n        height = this._itemHeights[i];\n      }\n\n      if (!item || item.nodeType !== 1) {\n        throw new Error('Generator did not return a DOM Node for index: ' + i);\n      }\n\n      var oldClass = item.getAttribute('class') || '';\n      item.setAttribute('class', oldClass + ' ' + (config.rowClassName || 'vrow'));\n\n      var top = this._itemPositions[i];\n\n      HyperList.mergeStyle(item, {\n        position: 'absolute',\n        top: top + 'px'\n      });\n\n      return item;\n    }\n  }, {\n    key: '_getScrollPosition',\n    value: function _getScrollPosition() {\n      var config = this._config;\n\n      if (typeof config.overrideScrollPosition === 'function') {\n        return config.overrideScrollPosition();\n      }\n\n      return this._element.scrollTop;\n    }\n  }, {\n    key: '_renderChunk',\n    value: function _renderChunk(force) {\n      var config = this._config;\n      var element = this._element;\n      var scrollTop = this._getScrollPosition();\n      var total = config.total;\n\n      var from = config.reverse ? this._getReverseFrom(scrollTop) : this._getFrom(scrollTop) - 1;\n\n      if (from < 0 || from - this._screenItemsLen < 0) {\n        from = 0;\n      }\n\n      if (!force && this._lastFrom === from) {\n        return false;\n      }\n\n      this._lastFrom = from;\n\n      var to = from + this._cachedItemsLen;\n\n      if (to > total || to + this._cachedItemsLen > total) {\n        to = total;\n      }\n\n      // Append all the new rows in a document fragment that we will later append\n      // to the parent node\n      var fragment = config.useFragment ? document.createDocumentFragment() : []\n      // Sometimes you'll pass fake elements to this tool and Fragments require\n      // real elements.\n\n\n      // The element that forces the container to scroll.\n      ;var scroller = this._scroller;\n\n      // Keep the scroller in the list of children.\n      fragment[config.useFragment ? 'appendChild' : 'push'](scroller);\n\n      for (var i = from; i < to; i++) {\n        var row = this._getRow(i);\n\n        fragment[config.useFragment ? 'appendChild' : 'push'](row);\n      }\n\n      if (config.applyPatch) {\n        return config.applyPatch(element, fragment);\n      }\n\n      element.innerHTML = '';\n      element.appendChild(fragment);\n    }\n  }, {\n    key: '_computePositions',\n    value: function _computePositions() {\n      var from = arguments.length <= 0 || arguments[0] === undefined ? 1 : arguments[0];\n\n      var config = this._config;\n      var total = config.total;\n      var reverse = config.reverse;\n\n      if (from < 1 && !reverse) {\n        from = 1;\n      }\n\n      for (var i = from; i < total; i++) {\n        if (reverse) {\n          if (i === 0) {\n            this._itemPositions[0] = this._scrollHeight - this._itemHeights[0];\n          } else {\n            this._itemPositions[i] = this._itemPositions[i - 1] - this._itemHeights[i];\n          }\n        } else {\n          this._itemPositions[i] = this._itemHeights[i - 1] + this._itemPositions[i - 1];\n        }\n      }\n    }\n  }, {\n    key: '_computeScrollHeight',\n    value: function _computeScrollHeight() {\n      var _this3 = this;\n\n      var config = this._config;\n      var total = config.total;\n      var scrollHeight = this._itemHeights.reduce(function (a, b) {\n        return a + b;\n      }, 0);\n\n      HyperList.mergeStyle(this._scroller, {\n        opacity: 0,\n        position: 'absolute',\n        width: '1px',\n        height: scrollHeight + 'px'\n      });\n\n      // Calculate the height median\n      var sortedItemHeights = this._itemHeights.slice(0).sort(function (a, b) {\n        return a - b;\n      });\n      var middle = Math.floor(total / 2);\n      var averageHeight = total % 2 === 0 ? (sortedItemHeights[middle] + sortedItemHeights[middle - 1]) / 2 : sortedItemHeights[middle];\n\n      var containerHeight = this._element.clientHeight ? this._element.clientHeight : this._containerHeight;\n      this._screenItemsLen = Math.ceil(containerHeight / averageHeight);\n      this._containerHeight = containerHeight;\n\n      // Cache 3 times the number of items that fit in the container viewport.\n      this._cachedItemsLen = Math.max(this._cachedItemsLen || 0, this._screenItemsLen * 3);\n      this._averageHeight = averageHeight;\n\n      if (config.reverse) {\n        window.requestAnimationFrame(function () {\n          _this3._element.scrollTop = scrollHeight;\n        });\n      }\n\n      return scrollHeight;\n    }\n  }, {\n    key: '_getFrom',\n    value: function _getFrom(scrollTop) {\n      var i = 0;\n\n      while (this._itemPositions[i] < scrollTop) {\n        i++;\n      }\n\n      return i;\n    }\n  }, {\n    key: '_getReverseFrom',\n    value: function _getReverseFrom(scrollTop) {\n      var i = this._config.total - 1;\n\n      while (i > 0 && this._itemPositions[i] < scrollTop + this._containerHeight) {\n        i--;\n      }\n\n      return i;\n    }\n  }]);\n\n  return HyperList;\n}();\n\nexports.default = HyperList;\nmodule.exports = exports['default'];\n\n},{}]},{},[1])(1)\n});\n});\n\nvar HyperList = unwrapExports(hyperlist);\n\nclass BodyRenderer {\n    constructor(instance) {\n        this.instance = instance;\n        this.options = instance.options;\n        this.datamanager = instance.datamanager;\n        this.rowmanager = instance.rowmanager;\n        this.cellmanager = instance.cellmanager;\n        this.bodyScrollable = instance.bodyScrollable;\n        this.footer = this.instance.footer;\n        this.log = instance.log;\n    }\n\n    renderRows(rows) {\n        this.visibleRows = rows;\n        this.visibleRowIndices = rows.map(row => row.meta.rowIndex);\n\n        if (rows.length === 0) {\n            this.bodyScrollable.innerHTML = this.getNoDataHTML();\n            return;\n        }\n\n        const rowViewOrder = this.datamanager.rowViewOrder.map(index => {\n            if (this.visibleRowIndices.includes(index)) {\n                return index;\n            }\n            return null;\n        }).filter(index => index !== null);\n\n        const computedStyle = getComputedStyle(this.bodyScrollable);\n\n        let config = {\n            width: computedStyle.width,\n            height: computedStyle.height,\n            itemHeight: this.options.cellHeight,\n            total: rows.length,\n            generate: (index) => {\n                const el = document.createElement('div');\n                const rowIndex = rowViewOrder[index];\n                const row = this.datamanager.getRow(rowIndex);\n                const rowHTML = this.rowmanager.getRowHTML(row, row.meta);\n                el.innerHTML = rowHTML;\n                return el.children[0];\n            },\n            afterRender: () => {\n                this.restoreState();\n            }\n        };\n\n        if (!this.hyperlist) {\n            this.hyperlist = new HyperList(this.bodyScrollable, config);\n        } else {\n            this.hyperlist.refresh(this.bodyScrollable, config);\n        }\n\n        this.renderFooter();\n    }\n\n    render() {\n        const rows = this.datamanager.getRowsForView();\n        this.renderRows(rows);\n        // setDimensions requires atleast 1 row to exist in dom\n        this.instance.setDimensions();\n    }\n\n    renderFooter() {\n        if (!this.options.showTotalRow) return;\n\n        const totalRow = this.getTotalRow();\n        let html = this.rowmanager.getRowHTML(totalRow, { isTotalRow: 1, rowIndex: 'totalRow' });\n\n        this.footer.innerHTML = html;\n    }\n\n    getTotalRow() {\n        const columns = this.datamanager.getColumns();\n        const totalRowTemplate = columns.map(col => {\n            let content = null;\n            if (['_rowIndex', '_checkbox'].includes(col.id)) {\n                content = '';\n            }\n            return {\n                content,\n                isTotalRow: 1,\n                colIndex: col.colIndex,\n                column: col\n            };\n        });\n\n        const totalRow = totalRowTemplate.map((cell, i) => {\n            if (cell.content === '') return cell;\n\n            if (this.options.hooks.columnTotal) {\n                const columnValues = this.visibleRows.map(row => row[i].content);\n                const result = this.options.hooks.columnTotal.call(this.instance, columnValues, cell);\n                if (result != null) {\n                    cell.content = result;\n                    return cell;\n                }\n            }\n\n            cell.content = this.visibleRows.reduce((acc, prevRow) => {\n                const prevCell = prevRow[i];\n                if (typeof prevCell.content === 'number') {\n                    if (acc == null) acc = 0;\n                    return acc + prevCell.content;\n                }\n                return acc;\n            }, cell.content);\n\n            return cell;\n        });\n\n        return totalRow;\n    }\n\n    restoreState() {\n        this.rowmanager.highlightCheckedRows();\n        this.cellmanager.selectAreaOnClusterChanged();\n        this.cellmanager.focusCellOnClusterChanged();\n    }\n\n    showToastMessage(message, hideAfter) {\n        this.instance.toastMessage.innerHTML = this.getToastMessageHTML(message);\n\n        if (hideAfter) {\n            setTimeout(() => {\n                this.clearToastMessage();\n            }, hideAfter * 1000);\n        }\n    }\n\n    clearToastMessage() {\n        this.instance.toastMessage.innerHTML = '';\n    }\n\n    getNoDataHTML() {\n        return `<div class=\"dt-scrollable__no-data\">${this.options.noDataMessage}</div>`;\n    }\n\n    getToastMessageHTML(message) {\n        return `<span class=\"dt-toast__message\">${message}</span>`;\n    }\n}\n\nclass Style {\n    constructor(instance) {\n        this.instance = instance;\n\n        linkProperties(this, this.instance, [\n            'options', 'datamanager', 'columnmanager',\n            'header', 'footer', 'bodyScrollable', 'datatableWrapper',\n            'getColumn', 'bodyRenderer'\n        ]);\n\n        this.scopeClass = 'dt-instance-' + instance.constructor.instances;\n        instance.datatableWrapper.classList.add(this.scopeClass);\n\n        const styleEl = document.createElement('style');\n        instance.wrapper.insertBefore(styleEl, instance.datatableWrapper);\n        this.styleEl = styleEl;\n\n        this.bindResizeWindow();\n        this.bindScrollHeader();\n    }\n\n    get stylesheet() {\n        return this.styleEl.sheet;\n    }\n\n    bindResizeWindow() {\n        this.onWindowResize = this.onWindowResize.bind(this);\n        this.onWindowResize = throttle$1(this.onWindowResize, 300);\n\n        if (this.options.layout === 'fluid') {\n            $.on(window, 'resize', this.onWindowResize);\n        }\n    }\n\n    bindScrollHeader() {\n        this._settingHeaderPosition = false;\n\n        $.on(this.bodyScrollable, 'scroll', (e) => {\n            if (this._settingHeaderPosition) return;\n\n            this._settingHeaderPosition = true;\n\n            requestAnimationFrame(() => {\n                const left = -e.target.scrollLeft;\n\n                $.style(this.header, {\n                    transform: `translateX(${left}px)`\n                });\n                $.style(this.footer, {\n                    transform: `translateX(${left}px)`\n                });\n                this._settingHeaderPosition = false;\n            });\n        });\n    }\n\n    onWindowResize() {\n        this.distributeRemainingWidth();\n        this.refreshColumnWidth();\n        this.setBodyStyle();\n    }\n\n    destroy() {\n        this.styleEl.remove();\n        $.off(window, 'resize', this.onWindowResize);\n    }\n\n    setStyle(selector, styleObject) {\n        if (selector.includes(',')) {\n            selector.split(',')\n                .map(s => s.trim())\n                .forEach(selector => {\n                    this.setStyle(selector, styleObject);\n                });\n            return;\n        }\n\n        selector = selector.trim();\n        if (!selector) return;\n\n        this._styleRulesMap = this._styleRulesMap || {};\n        const prefixedSelector = this._getPrefixedSelector(selector);\n\n        if (this._styleRulesMap[prefixedSelector]) {\n            this.removeStyle(selector);\n\n            // merge with old styleobject\n            styleObject = Object.assign({}, this._styleRulesMap[prefixedSelector], styleObject);\n        }\n\n        const styleString = this._getRuleString(styleObject);\n        const ruleString = `${prefixedSelector} { ${styleString} }`;\n\n        this._styleRulesMap[prefixedSelector] = styleObject;\n        this.stylesheet.insertRule(ruleString);\n    }\n\n    removeStyle(selector) {\n        if (selector.includes(',')) {\n            selector.split(',')\n                .map(s => s.trim())\n                .forEach(selector => {\n                    this.removeStyle(selector);\n                });\n            return;\n        }\n\n        selector = selector.trim();\n        if (!selector) return;\n\n        // find and remove\n        const prefixedSelector = this._getPrefixedSelector(selector);\n        const index = Array.from(this.stylesheet.cssRules)\n            .findIndex(rule => rule.selectorText === prefixedSelector);\n\n        if (index === -1) return;\n        this.stylesheet.deleteRule(index);\n    }\n\n    _getPrefixedSelector(selector) {\n        return `.${this.scopeClass} ${selector}`;\n    }\n\n    _getRuleString(styleObject) {\n        return Object.keys(styleObject)\n            .map(prop => {\n                let dashed = prop;\n                if (!prop.includes('-')) {\n                    dashed = camelCaseToDash(prop);\n                }\n                return `${dashed}:${styleObject[prop]};`;\n            })\n            .join('');\n    }\n\n    setDimensions() {\n        this.setCellHeight();\n        this.setupMinWidth();\n        this.setupNaturalColumnWidth();\n        this.setupColumnWidth();\n        this.distributeRemainingWidth();\n        this.setColumnStyle();\n        this.setBodyStyle();\n    }\n\n    setCellHeight() {\n        this.setStyle('.dt-cell', {\n            height: this.options.cellHeight + 'px'\n        });\n    }\n\n    setupMinWidth() {\n        $.each('.dt-cell--header', this.header).map(col => {\n            const { colIndex } = $.data(col);\n            const column = this.getColumn(colIndex);\n\n            if (!column.minWidth) {\n                const width = $.style($('.dt-cell__content', col), 'width');\n                // only set this once\n                column.minWidth = width;\n            }\n        });\n    }\n\n    setupNaturalColumnWidth() {\n        if (!$('.dt-row')) return;\n\n        $.each('.dt-row-header .dt-cell', this.header).map($headerCell => {\n            const { colIndex } = $.data($headerCell);\n            const column = this.datamanager.getColumn(colIndex);\n            let width = $.style($('.dt-cell__content', $headerCell), 'width');\n            if (typeof width === 'number' && width >= this.options.minimumColumnWidth) {\n                column.naturalWidth = width;\n            } else {\n                column.naturalWidth = this.options.minimumColumnWidth;\n            }\n        });\n\n        // set initial width as naturally calculated by table's first row\n        $.each('.dt-row-0 .dt-cell', this.bodyScrollable).map($cell => {\n            const {\n                colIndex\n            } = $.data($cell);\n            const column = this.datamanager.getColumn(colIndex);\n\n            let naturalWidth = $.style($('.dt-cell__content', $cell), 'width');\n\n            if (typeof naturalWidth === 'number' && naturalWidth >= column.naturalWidth) {\n                column.naturalWidth = naturalWidth;\n            } else {\n                column.naturalWidth = column.naturalWidth;\n            }\n        });\n    }\n\n    setupColumnWidth() {\n        if (this.options.layout === 'ratio') {\n            let totalWidth = $.style(this.datatableWrapper, 'width');\n\n            if (this.options.serialNoColumn) {\n                const rowIndexColumn = this.datamanager.getColumnById('_rowIndex');\n                totalWidth = totalWidth - rowIndexColumn.width - 1;\n            }\n\n            if (this.options.checkboxColumn) {\n                const rowIndexColumn = this.datamanager.getColumnById('_checkbox');\n                totalWidth = totalWidth - rowIndexColumn.width - 1;\n            }\n\n            const totalParts = this.datamanager.getColumns()\n                .map(column => {\n                    if (column.id === '_rowIndex' || column.id === '_checkbox') {\n                        return 0;\n                    }\n                    if (!column.width) {\n                        column.width = 1;\n                    }\n                    column.ratioWidth = parseInt(column.width, 10);\n                    return column.ratioWidth;\n                })\n                .reduce((a, c) => a + c);\n\n            const onePart = totalWidth / totalParts;\n\n            this.datamanager.getColumns()\n                .map(column => {\n                    if (column.id === '_rowIndex' || column.id === '_checkbox') return;\n                    column.width = Math.floor(onePart * column.ratioWidth) - 1;\n                });\n        } else {\n            this.datamanager.getColumns()\n                .map(column => {\n                    if (!column.width) {\n                        column.width = column.naturalWidth;\n                    }\n                    if (column.id === '_rowIndex') {\n                        column.width = this.getRowIndexColumnWidth();\n                    }\n                    if (column.width < this.options.minimumColumnWidth) {\n                        column.width = this.options.minimumColumnWidth;\n                    }\n                });\n        }\n    }\n\n    distributeRemainingWidth() {\n        if (this.options.layout !== 'fluid') return;\n\n        const wrapperWidth = $.style(this.instance.datatableWrapper, 'width');\n        let firstRow = $('.dt-row', this.bodyScrollable);\n        let firstRowWidth = wrapperWidth;\n        if (!firstRow) {\n            let headerRow = $('.dt-row', this.instance.header);\n            let cellWidths = Array.from(headerRow.children)\n                .map(cell => cell.offsetWidth);\n            firstRowWidth = cellWidths.reduce((sum, a) => sum + a, 0);\n        } else {\n            firstRowWidth = $.style(firstRow, 'width');\n        }\n        const resizableColumns = this.datamanager.getColumns().filter(col => col.resizable);\n        const deltaWidth = (wrapperWidth - firstRowWidth) / resizableColumns.length;\n\n        resizableColumns.map(col => {\n            const width = $.style(this.getColumnHeaderElement(col.colIndex), 'width');\n            let finalWidth = Math.floor(width + deltaWidth) - 2;\n\n            this.datamanager.updateColumn(col.colIndex, {\n                width: finalWidth\n            });\n        });\n    }\n\n    setColumnStyle() {\n        // align columns\n        this.datamanager.getColumns()\n            .map(column => {\n                // alignment\n                if (!column.align) {\n                    column.align = 'left';\n                }\n                if (!['left', 'center', 'right'].includes(column.align)) {\n                    column.align = 'left';\n                }\n                this.setStyle(`.dt-cell--col-${column.colIndex}`, {\n                    'text-align': column.align\n                });\n\n                // width\n                this.columnmanager.setColumnHeaderWidth(column.colIndex);\n                this.columnmanager.setColumnWidth(column.colIndex);\n            });\n    }\n\n    refreshColumnWidth() {\n        this.datamanager.getColumns()\n            .map(column => {\n                this.columnmanager.setColumnHeaderWidth(column.colIndex);\n                this.columnmanager.setColumnWidth(column.colIndex);\n            });\n    }\n\n    setBodyStyle() {\n        const bodyWidth = $.style(this.datatableWrapper, 'width');\n        const firstRow = $('.dt-row', this.bodyScrollable);\n        if (!firstRow) return;\n        const rowWidth = $.style(firstRow, 'width');\n\n        let width = bodyWidth > rowWidth ? rowWidth + 10 : bodyWidth;\n        $.style(this.bodyScrollable, {\n            width: width + 'px'\n        });\n\n        // remove the body height, so that it resets to it's original\n        $.removeStyle(this.bodyScrollable, 'height');\n\n        // when there are less rows than the container\n        // adapt the container height\n        let bodyHeight = $.getStyle(this.bodyScrollable, 'height');\n        const scrollHeight = (this.bodyRenderer.hyperlist || {})._scrollHeight || Infinity;\n        const hasHorizontalOverflow = $.hasHorizontalOverflow(this.bodyScrollable);\n\n        let height;\n\n        if (scrollHeight < bodyHeight) {\n            height = scrollHeight;\n\n            // account for scrollbar size when\n            // there is horizontal overflow\n            if (hasHorizontalOverflow) {\n                height += $.scrollbarSize();\n            }\n\n            $.style(this.bodyScrollable, {\n                height: height + 'px'\n            });\n        }\n\n        const verticalOverflow = this.bodyScrollable.scrollHeight - this.bodyScrollable.offsetHeight;\n        if (verticalOverflow < $.scrollbarSize()) {\n            // if verticalOverflow is less than scrollbar size\n            // then most likely scrollbar is causing the scroll\n            // which is not needed\n            $.style(this.bodyScrollable, {\n                overflowY: 'hidden'\n            });\n        }\n\n        if (this.options.layout === 'fluid') {\n            $.style(this.bodyScrollable, {\n                overflowX: 'hidden'\n            });\n        }\n    }\n\n    getColumnHeaderElement(colIndex) {\n        colIndex = +colIndex;\n        if (colIndex < 0) return null;\n        return $(`.dt-cell--col-${colIndex}`, this.header);\n    }\n\n    getRowIndexColumnWidth() {\n        const rowCount = this.datamanager.getRowCount();\n        const padding = 22;\n        return $.measureTextWidth(rowCount + '') + padding;\n    }\n}\n\nconst KEYCODES = {\n    13: 'enter',\n    91: 'meta',\n    16: 'shift',\n    17: 'ctrl',\n    18: 'alt',\n    37: 'left',\n    38: 'up',\n    39: 'right',\n    40: 'down',\n    9: 'tab',\n    27: 'esc',\n    67: 'c',\n    70: 'f',\n    86: 'v'\n};\n\nclass Keyboard {\n    constructor(element) {\n        this.listeners = {};\n        $.on(element, 'keydown', this.handler.bind(this));\n    }\n\n    handler(e) {\n        let key = KEYCODES[e.keyCode];\n\n        if (e.shiftKey && key !== 'shift') {\n            key = 'shift+' + key;\n        }\n\n        if ((e.ctrlKey && key !== 'ctrl') || (e.metaKey && key !== 'meta')) {\n            key = 'ctrl+' + key;\n        }\n\n        const listeners = this.listeners[key];\n\n        if (listeners && listeners.length > 0) {\n            for (let listener of listeners) {\n                const preventBubbling = listener(e);\n                if (preventBubbling === undefined || preventBubbling === true) {\n                    e.preventDefault();\n                }\n            }\n        }\n    }\n\n    on(key, listener) {\n        const keys = key.split(',').map(k => k.trim());\n\n        keys.map(key => {\n            this.listeners[key] = this.listeners[key] || [];\n            this.listeners[key].push(listener);\n        });\n    }\n}\n\nvar en = {\n\t\"Sort Ascending\": \"Sort Ascending\",\n\t\"Sort Descending\": \"Sort Descending\",\n\t\"Reset sorting\": \"Reset sorting\",\n\t\"Remove column\": \"Remove column\",\n\t\"No Data\": \"No Data\",\n\t\"{count} cells copied\": {\"1\":\"{count} cell copied\",\"default\":\"{count} cells copied\"},\n\t\"{count} rows selected\": {\"1\":\"{count} row selected\",\"default\":\"{count} rows selected\"}\n};\n\nvar de = {\n\t\"Sort Ascending\": \"Aufsteigend sortieren\",\n\t\"Sort Descending\": \"Absteigend sortieren\",\n\t\"Reset sorting\": \"Sortierung zur\u00FCcksetzen\",\n\t\"Remove column\": \"Spalte entfernen\",\n\t\"No Data\": \"Keine Daten\",\n\t\"{count} cells copied\": {\"1\":\"{count} Zelle kopiert\",\"default\":\"{count} Zellen kopiert\"},\n\t\"{count} rows selected\": {\"1\":\"{count} Zeile ausgew\u00E4hlt\",\"default\":\"{count} Zeilen ausgew\u00E4hlt\"}\n};\n\nvar fr = {\n\t\"Sort Ascending\": \"Trier par ordre croissant\",\n\t\"Sort Descending\": \"Trier par ordre d\u00E9croissant\",\n\t\"Reset sorting\": \"R\u00E9initialiser le tri\",\n\t\"Remove column\": \"Supprimer colonne\",\n\t\"No Data\": \"Pas de donn\u00E9es\",\n\t\"{count} cells copied\": {\"1\":\"{count} cellule copi\u00E9e\",\"default\":\"{count} cellules copi\u00E9es\"},\n\t\"{count} rows selected\": {\"1\":\"{count} ligne s\u00E9lectionn\u00E9e\",\"default\":\"{count} lignes s\u00E9lectionn\u00E9es\"}\n};\n\nvar it = {\n\t\"Sort Ascending\": \"Ordinamento ascendente\",\n\t\"Sort Descending\": \"Ordinamento decrescente\",\n\t\"Reset sorting\": \"Azzeramento ordinamento\",\n\t\"Remove column\": \"Rimuovi colonna\",\n\t\"No Data\": \"Nessun dato\",\n\t\"{count} cells copied\": {\"1\":\"Copiato {count} cella\",\"default\":\"{count} celle copiate\"},\n\t\"{count} rows selected\": {\"1\":\"{count} linea selezionata\",\"default\":\"{count} linee selezionate\"}\n};\n\nfunction getTranslations() {\n    return {\n        en,\n        de,\n        fr,\n        it,\n    };\n}\n\nclass TranslationManager {\n    constructor(language) {\n        this.language = language;\n        this.translations = getTranslations();\n    }\n\n    addTranslations(translations) {\n        this.translations = Object.assign(this.translations, translations);\n    }\n\n    translate(sourceText, args) {\n        let translation = (this.translations[this.language] &&\n            this.translations[this.language][sourceText]) || sourceText;\n\n        if (typeof translation === 'object') {\n            translation = args && args.count ?\n                this.getPluralizedTranslation(translation, args.count) :\n                sourceText;\n        }\n\n        return format(translation, args || {});\n    }\n\n    getPluralizedTranslation(translations, count) {\n        return translations[count] || translations['default'];\n    }\n}\n\nfunction filterRows(rows, filters, data) {\n    let filteredRowIndices = [];\n\n    if (Object.keys(filters).length === 0) {\n        return rows.map(row => row.meta.rowIndex);\n    }\n\n    for (let colIndex in filters) {\n        const keyword = filters[colIndex];\n\n        const filteredRows = filteredRowIndices.length ?\n            filteredRowIndices.map(i => rows[i]) :\n            rows;\n\n        const cells = filteredRows.map(row => row[colIndex]);\n\n        let filter = guessFilter(keyword);\n        let filterMethod = getFilterMethod(rows, data, filter);\n\n        if (filterMethod) {\n            filteredRowIndices = filterMethod(filter.text, cells);\n        } else {\n            filteredRowIndices = cells.map(cell => cell.rowIndex);\n        }\n    }\n\n    return filteredRowIndices;\n}\nfunction getFilterMethod(rows, allData, filter) {\n    const getFormattedValue = cell => {\n        let formatter = CellManager.getCustomCellFormatter(cell);\n        let rowData = rows[cell.rowIndex];\n        if (allData && allData.data && allData.data.length) {\n            rowData = allData.data[cell.rowIndex];\n        }\n        if (formatter && cell.content) {\n            cell.html = formatter(cell.content, rows[cell.rowIndex], cell.column, rowData, filter);\n            return stripHTML(cell.html);\n        }\n        return cell.content || '';\n    };\n\n    const stringCompareValue = cell =>\n        String(stripHTML(cell.html || '') || getFormattedValue(cell)).toLowerCase();\n\n    const numberCompareValue = cell => parseFloat(cell.content);\n\n    const getCompareValues = (cell, keyword) => {\n        if (cell.column.compareValue) {\n            const compareValues = cell.column.compareValue(cell, keyword);\n            if (compareValues && Array.isArray(compareValues)) return compareValues;\n        }\n\n        // check if it can be converted to number\n        const float = numberCompareValue(cell);\n        if (!isNaN(float)) {\n            return [float, keyword];\n        }\n\n        return [stringCompareValue(cell), keyword];\n    };\n\n    let filterMethodMap = {\n        contains(keyword, cells) {\n            return cells\n                .filter(cell => {\n                    const hay = stringCompareValue(cell);\n                    const needle = (keyword || '').toLowerCase();\n                    return !needle || hay.includes(needle);\n                })\n                .map(cell => cell.rowIndex);\n        },\n\n        greaterThan(keyword, cells) {\n            return cells\n                .filter(cell => {\n                    const [compareValue, keywordValue] = getCompareValues(cell, keyword);\n                    return compareValue > keywordValue;\n                })\n                .map(cell => cell.rowIndex);\n        },\n\n        lessThan(keyword, cells) {\n            return cells\n                .filter(cell => {\n                    const [compareValue, keywordValue] = getCompareValues(cell, keyword);\n                    return compareValue < keywordValue;\n                })\n                .map(cell => cell.rowIndex);\n        },\n\n        equals(keyword, cells) {\n            return cells\n                .filter(cell => {\n                    const value = parseFloat(cell.content);\n                    return value === keyword;\n                })\n                .map(cell => cell.rowIndex);\n        },\n\n        notEquals(keyword, cells) {\n            return cells\n                .filter(cell => {\n                    const value = parseFloat(cell.content);\n                    return value !== keyword;\n                })\n                .map(cell => cell.rowIndex);\n        },\n\n        range(rangeValues, cells) {\n            return cells\n                .filter(cell => {\n                    const values1 = getCompareValues(cell, rangeValues[0]);\n                    const values2 = getCompareValues(cell, rangeValues[1]);\n                    const value = values1[0];\n                    return value >= values1[1] && value <= values2[1];\n                })\n                .map(cell => cell.rowIndex);\n        },\n\n        containsNumber(keyword, cells) {\n            return cells\n                .filter(cell => {\n                    let number = parseFloat(keyword, 10);\n                    let string = keyword;\n                    let hayNumber = numberCompareValue(cell);\n                    let hayString = stringCompareValue(cell);\n\n                    return number === hayNumber || hayString.includes(string);\n                })\n                .map(cell => cell.rowIndex);\n        }\n    };\n\n    return filterMethodMap[filter.type];\n}\n\nfunction guessFilter(keyword = '') {\n    if (keyword.length === 0) return {};\n\n    let compareString = keyword;\n\n    if (['>', '<', '='].includes(compareString[0])) {\n        compareString = keyword.slice(1);\n    } else if (compareString.startsWith('!=')) {\n        compareString = keyword.slice(2);\n    }\n\n    if (keyword.startsWith('>')) {\n        if (compareString) {\n            return {\n                type: 'greaterThan',\n                text: compareString.trim()\n            };\n        }\n    }\n\n    if (keyword.startsWith('<')) {\n        if (compareString) {\n            return {\n                type: 'lessThan',\n                text: compareString.trim()\n            };\n        }\n    }\n\n    if (keyword.startsWith('=')) {\n        if (isNumber(compareString)) {\n            return {\n                type: 'equals',\n                text: Number(keyword.slice(1).trim())\n            };\n        }\n    }\n\n    if (isNumber(compareString)) {\n        return {\n            type: 'containsNumber',\n            text: compareString\n        };\n    }\n\n    if (keyword.startsWith('!=')) {\n        if (isNumber(compareString)) {\n            return {\n                type: 'notEquals',\n                text: Number(keyword.slice(2).trim())\n            };\n        }\n    }\n\n    if (keyword.split(':').length === 2 && keyword.split(':').every(v => isNumber(v.trim()))) {\n        compareString = keyword.split(':');\n        return {\n            type: 'range',\n            text: compareString.map(v => v.trim())\n        };\n    }\n\n    return {\n        type: 'contains',\n        text: compareString.toLowerCase()\n    };\n}\n\nfunction getDefaultOptions(instance) {\n    return {\n        columns: [],\n        data: [],\n        dropdownButton: icons.chevronDown,\n        headerDropdown: [\n            {\n                label: instance.translate('Sort Ascending'),\n                action: function (column) {\n                    this.sortColumn(column.colIndex, 'asc');\n                }\n            },\n            {\n                label: instance.translate('Sort Descending'),\n                action: function (column) {\n                    this.sortColumn(column.colIndex, 'desc');\n                }\n            },\n            {\n                label: instance.translate('Reset sorting'),\n                action: function (column) {\n                    this.sortColumn(column.colIndex, 'none');\n                }\n            },\n            {\n                label: instance.translate('Remove column'),\n                action: function (column) {\n                    this.removeColumn(column.colIndex);\n                }\n            }\n        ],\n        events: {\n            onRemoveColumn(column) {},\n            onSwitchColumn(column1, column2) {},\n            onSortColumn(column) {},\n            onCheckRow(row) {},\n            onDestroy() {}\n        },\n        hooks: {\n            columnTotal: null\n        },\n        sortIndicator: {\n            asc: '\u2191',\n            desc: '\u2193',\n            none: ''\n        },\n        overrideComponents: {\n            // ColumnManager: CustomColumnManager\n        },\n        filterRows: filterRows,\n        freezeMessage: '',\n        getEditor: null,\n        serialNoColumn: true,\n        checkboxColumn: false,\n        clusterize: true,\n        logs: false,\n        layout: 'fixed', // fixed, fluid, ratio\n        noDataMessage: instance.translate('No Data'),\n        cellHeight: 40,\n        minimumColumnWidth: 30,\n        inlineFilters: false,\n        treeView: false,\n        checkedRowStatus: true,\n        dynamicRowHeight: false,\n        pasteFromClipboard: false,\n        showTotalRow: false,\n        direction: 'ltr',\n        disableReorderColumn: false\n    };\n}\n\nlet defaultComponents = {\n    DataManager,\n    CellManager,\n    ColumnManager,\n    RowManager,\n    BodyRenderer,\n    Style,\n    Keyboard\n};\n\nclass DataTable {\n    constructor(wrapper, options) {\n        DataTable.instances++;\n\n        if (typeof wrapper === 'string') {\n            // css selector\n            wrapper = document.querySelector(wrapper);\n        }\n        this.wrapper = wrapper;\n        if (!(this.wrapper instanceof HTMLElement)) {\n            throw new Error('Invalid argument given for `wrapper`');\n        }\n\n        this.initializeTranslations(options);\n        this.setDefaultOptions();\n        this.buildOptions(options);\n        this.prepare();\n        this.initializeComponents();\n\n        if (this.options.data) {\n            this.refresh();\n            this.columnmanager.applyDefaultSortOrder();\n        }\n    }\n\n    initializeTranslations(options) {\n        this.language = options.language || 'en';\n        this.translationManager = new TranslationManager(this.language);\n\n        if (options.translations) {\n            this.translationManager.addTranslations(options.translations);\n        }\n    }\n\n    setDefaultOptions() {\n        this.DEFAULT_OPTIONS = getDefaultOptions(this);\n    }\n\n    buildOptions(options) {\n        this.options = this.options || {};\n\n        this.options = Object.assign(\n            {}, this.DEFAULT_OPTIONS,\n            this.options || {}, options\n        );\n\n        options.headerDropdown = options.headerDropdown || [];\n        this.options.headerDropdown = [\n            ...this.DEFAULT_OPTIONS.headerDropdown,\n            ...options.headerDropdown\n        ];\n\n        // custom user events\n        this.events = Object.assign(\n            {}, this.DEFAULT_OPTIONS.events,\n            this.options.events || {},\n            options.events || {}\n        );\n        this.fireEvent = this.fireEvent.bind(this);\n    }\n\n    prepare() {\n        this.prepareDom();\n        this.unfreeze();\n    }\n\n    initializeComponents() {\n        let components = Object.assign({}, defaultComponents, this.options.overrideComponents);\n        let {\n            Style: Style$$1,\n            Keyboard: Keyboard$$1,\n            DataManager: DataManager$$1,\n            RowManager: RowManager$$1,\n            ColumnManager: ColumnManager$$1,\n            CellManager: CellManager$$1,\n            BodyRenderer: BodyRenderer$$1\n        } = components;\n\n        this.style = new Style$$1(this);\n        this.keyboard = new Keyboard$$1(this.wrapper);\n        this.datamanager = new DataManager$$1(this.options);\n        this.rowmanager = new RowManager$$1(this);\n        this.columnmanager = new ColumnManager$$1(this);\n        this.cellmanager = new CellManager$$1(this);\n        this.bodyRenderer = new BodyRenderer$$1(this);\n    }\n\n    prepareDom() {\n        this.wrapper.innerHTML = `\n            <div class=\"datatable\" dir=\"${this.options.direction}\">\n                <div class=\"dt-header\"></div>\n                <div class=\"dt-scrollable\"></div>\n                <div class=\"dt-footer\"></div>\n                <div class=\"dt-freeze\">\n                    <span class=\"dt-freeze__message\">\n                        ${this.options.freezeMessage}\n                    </span>\n                </div>\n                <div class=\"dt-toast\"></div>\n                <div class=\"dt-dropdown-container\"></div>\n                <textarea class=\"dt-paste-target\"></textarea>\n            </div>\n        `;\n\n        this.datatableWrapper = $('.datatable', this.wrapper);\n        this.header = $('.dt-header', this.wrapper);\n        this.footer = $('.dt-footer', this.wrapper);\n        this.bodyScrollable = $('.dt-scrollable', this.wrapper);\n        this.freezeContainer = $('.dt-freeze', this.wrapper);\n        this.toastMessage = $('.dt-toast', this.wrapper);\n        this.pasteTarget = $('.dt-paste-target', this.wrapper);\n        this.dropdownContainer = $('.dt-dropdown-container', this.wrapper);\n    }\n\n    refresh(data, columns) {\n        this.datamanager.init(data, columns);\n        this.render();\n        this.setDimensions();\n    }\n\n    destroy() {\n        this.wrapper.innerHTML = '';\n        this.style.destroy();\n        this.fireEvent('onDestroy');\n    }\n\n    appendRows(rows) {\n        this.datamanager.appendRows(rows);\n        this.rowmanager.refreshRows();\n    }\n\n    refreshRow(row, rowIndex) {\n        this.rowmanager.refreshRow(row, rowIndex);\n    }\n\n    render() {\n        this.renderHeader();\n        this.renderBody();\n    }\n\n    renderHeader() {\n        this.columnmanager.renderHeader();\n    }\n\n    renderBody() {\n        this.bodyRenderer.render();\n    }\n\n    setDimensions() {\n        this.style.setDimensions();\n    }\n\n    showToastMessage(message, hideAfter) {\n        this.bodyRenderer.showToastMessage(message, hideAfter);\n    }\n\n    clearToastMessage() {\n        this.bodyRenderer.clearToastMessage();\n    }\n\n    getColumn(colIndex) {\n        return this.datamanager.getColumn(colIndex);\n    }\n\n    getColumns() {\n        return this.datamanager.getColumns();\n    }\n\n    getRows() {\n        return this.datamanager.getRows();\n    }\n\n    getCell(colIndex, rowIndex) {\n        return this.datamanager.getCell(colIndex, rowIndex);\n    }\n\n    getColumnHeaderElement(colIndex) {\n        return this.columnmanager.getColumnHeaderElement(colIndex);\n    }\n\n    getViewportHeight() {\n        if (!this.viewportHeight) {\n            this.viewportHeight = $.style(this.bodyScrollable, 'height');\n        }\n\n        return this.viewportHeight;\n    }\n\n    sortColumn(colIndex, sortOrder) {\n        this.columnmanager.sortColumn(colIndex, sortOrder);\n    }\n\n    removeColumn(colIndex) {\n        this.columnmanager.removeColumn(colIndex);\n    }\n\n    scrollToLastColumn() {\n        this.datatableWrapper.scrollLeft = 9999;\n    }\n\n    freeze() {\n        $.style(this.freezeContainer, {\n            display: ''\n        });\n    }\n\n    unfreeze() {\n        $.style(this.freezeContainer, {\n            display: 'none'\n        });\n    }\n\n    updateOptions(options) {\n        this.buildOptions(options);\n    }\n\n    fireEvent(eventName, ...args) {\n        // fire internalEventHandlers if any\n        // and then user events\n        const handlers = [\n            ...(this._internalEventHandlers[eventName] || []),\n            this.events[eventName]\n        ].filter(Boolean);\n\n        for (let handler of handlers) {\n            handler.apply(this, args);\n        }\n    }\n\n    on(event, handler) {\n        this._internalEventHandlers = this._internalEventHandlers || {};\n        this._internalEventHandlers[event] = this._internalEventHandlers[event] || [];\n        this._internalEventHandlers[event].push(handler);\n    }\n\n    log() {\n        if (this.options.logs) {\n            console.log.apply(console, arguments);\n        }\n    }\n\n    translate(str, args) {\n        return this.translationManager.translate(str, args);\n    }\n}\n\nDataTable.instances = 0;\n\nvar name = \"frappe-datatable\";\nvar version = \"0.0.0-development\";\nvar description = \"A modern datatable library for the web\";\nvar main = \"dist/frappe-datatable.cjs.js\";\nvar unpkg = \"dist/frappe-datatable.min.js\";\nvar jsdelivr = \"dist/frappe-datatable.min.js\";\nvar scripts = {\"start\":\"yarn run dev\",\"build\":\"rollup -c && NODE_ENV=production rollup -c\",\"dev\":\"rollup -c -w\",\"cy:server\":\"http-server -p 8989\",\"cy:open\":\"cypress open\",\"cy:run\":\"cypress run\",\"test\":\"start-server-and-test cy:server http://localhost:8989 cy:run\",\"test-local\":\"start-server-and-test cy:server http://localhost:8989 cy:open\",\"travis-deploy-once\":\"travis-deploy-once\",\"semantic-release\":\"semantic-release\",\"lint\":\"eslint src\",\"lint-and-build\":\"yarn lint && yarn build\",\"commit\":\"npx git-cz\"};\nvar files = [\"dist\",\"src\"];\nvar devDependencies = {\"autoprefixer\":\"^9.0.0\",\"chai\":\"3.5.0\",\"cypress\":\"^9.2.0\",\"cz-conventional-changelog\":\"^2.1.0\",\"deepmerge\":\"^2.0.1\",\"eslint\":\"^5.0.1\",\"eslint-config-airbnb\":\"^16.1.0\",\"eslint-config-airbnb-base\":\"^12.1.0\",\"eslint-plugin-import\":\"^2.11.0\",\"http-server\":\"^0.11.1\",\"mocha\":\"3.3.0\",\"postcss-custom-properties\":\"^7.0.0\",\"postcss-nested\":\"^3.0.0\",\"rollup\":\"^0.59.4\",\"rollup-plugin-commonjs\":\"^8.3.0\",\"rollup-plugin-eslint\":\"^4.0.0\",\"rollup-plugin-json\":\"^2.3.0\",\"rollup-plugin-node-resolve\":\"^3.0.3\",\"rollup-plugin-postcss\":\"^1.2.8\",\"rollup-plugin-uglify-es\":\"^0.0.1\",\"semantic-release\":\"^17.1.1\",\"start-server-and-test\":\"^1.4.1\",\"travis-deploy-once\":\"^5.0.1\"};\nvar repository = {\"type\":\"git\",\"url\":\"https://github.com/frappe/datatable.git\"};\nvar keywords = [\"datatable\",\"data\",\"grid\",\"table\"];\nvar author = \"Faris Ansari\";\nvar license = \"MIT\";\nvar bugs = {\"url\":\"https://github.com/frappe/datatable/issues\"};\nvar homepage = \"https://frappe.io/datatable\";\nvar dependencies = {\"hyperlist\":\"^1.0.0-beta\",\"lodash\":\"^4.17.5\",\"sortablejs\":\"^1.7.0\"};\nvar config = {\"commitizen\":{\"path\":\"cz-conventional-changelog\"}};\nvar packageJson = {\n\tname: name,\n\tversion: version,\n\tdescription: description,\n\tmain: main,\n\tunpkg: unpkg,\n\tjsdelivr: jsdelivr,\n\tscripts: scripts,\n\tfiles: files,\n\tdevDependencies: devDependencies,\n\trepository: repository,\n\tkeywords: keywords,\n\tauthor: author,\n\tlicense: license,\n\tbugs: bugs,\n\thomepage: homepage,\n\tdependencies: dependencies,\n\tconfig: config\n};\n\nDataTable.__version__ = packageJson.version;\n\nmodule.exports = DataTable;\n", "// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\nfrappe.views.ReportFactory = class ReportFactory extends frappe.views.Factory {\n\tmake(route) {\n\t\tconst _route = [\"List\", route[1], \"Report\"];\n\n\t\tif (route[2]) {\n\t\t\t// custom report\n\t\t\t_route.push(route[2]);\n\t\t}\n\n\t\tfrappe.set_route(_route);\n\t}\n};\n", "/**\n * frappe.views.ReportView\n */\nimport DataTable from \"frappe-datatable\";\n\nwindow.DataTable = DataTable;\nfrappe.provide(\"frappe.views\");\n\nfrappe.views.ReportView = class ReportView extends frappe.views.ListView {\n\tget view_name() {\n\t\treturn \"Report\";\n\t}\n\n\trender_header() {\n\t\t// Override List View Header\n\t}\n\n\tsetup_defaults() {\n\t\tsuper.setup_defaults();\n\t\tthis.page_title = __(\"Report:\") + \" \" + this.page_title;\n\t\tthis.view = \"Report\";\n\n\t\tconst route = frappe.get_route();\n\t\tif (route.length === 4) {\n\t\t\tthis.report_name = route[3];\n\t\t}\n\n\t\tif (this.report_name) {\n\t\t\treturn this.get_report_doc().then((doc) => {\n\t\t\t\tthis.report_doc = doc;\n\t\t\t\tthis.report_doc.json = JSON.parse(this.report_doc.json);\n\n\t\t\t\tthis.filters = this.report_doc.json.filters;\n\t\t\t\tthis.order_by = this.report_doc.json.order_by;\n\t\t\t\tthis.add_totals_row = this.report_doc.json.add_totals_row;\n\t\t\t\tthis.page_title = __(this.report_name);\n\t\t\t\tthis.page_length = this.report_doc.json.page_length || 20;\n\t\t\t\tthis.order_by = this.report_doc.json.order_by || \"modified desc\";\n\t\t\t\tthis.chart_args = this.report_doc.json.chart_args;\n\t\t\t});\n\t\t} else {\n\t\t\tthis.add_totals_row = this.view_user_settings.add_totals_row || 0;\n\t\t\tthis.chart_args = this.view_user_settings.chart_args;\n\t\t}\n\t\treturn this.get_list_view_settings();\n\t}\n\n\tsetup_view() {\n\t\tthis.setup_columns();\n\t\tsuper.setup_new_doc_event();\n\t\tthis.setup_events();\n\t\tthis.page.main.addClass(\"report-view\");\n\t}\n\n\tsetup_events() {\n\t\tif (this.list_view_settings?.disable_auto_refresh) {\n\t\t\treturn;\n\t\t}\n\t\tfrappe.realtime.doctype_subscribe(this.doctype);\n\t\tfrappe.realtime.on(\"list_update\", (data) => this.on_update(data));\n\t}\n\n\tsetup_page() {\n\t\tthis.menu_items = this.report_menu_items();\n\t\tsuper.setup_page();\n\t}\n\n\ttoggle_side_bar() {\n\t\tsuper.toggle_side_bar();\n\t\t// refresh datatable when sidebar is toggled to accomodate extra space\n\t\tthis.render(true);\n\t}\n\n\tsetup_result_area() {\n\t\tsuper.setup_result_area();\n\t\tthis.setup_charts_area();\n\t\tthis.$datatable_wrapper = $('<div class=\"datatable-wrapper\">');\n\t\tthis.$result.append(this.$datatable_wrapper);\n\t\tthis.settings.onload && this.settings.onload(this);\n\t}\n\n\tsetup_charts_area() {\n\t\tthis.$charts_wrapper = $(`<div class=\"charts-wrapper hidden\">\n\t\t\t<div class=\"text-right\"><button class=\"btn btn-default btn-xs btn-chart-configure\"\n\t\t\t\tstyle=\"margin-right: 15px; margin-top: 15px\">Configure</button></div>\n\t\t\t<div class=\"charts-inner-wrapper\"></div>\n\t\t</div>`);\n\t\tthis.$result.append(this.$charts_wrapper);\n\t\tthis.$charts_wrapper.find(\".btn-chart-configure\").on(\"click\", () => {\n\t\t\tthis.setup_charts();\n\t\t});\n\t}\n\n\tsetup_paging_area() {\n\t\tsuper.setup_paging_area();\n\t\tconst message = __(\n\t\t\t\"For comparison, use >5, <10 or =324. For ranges, use 5:10 (for values between 5 & 10).\"\n\t\t);\n\t\tthis.$paging_area\n\t\t\t.find(\".level-left\")\n\t\t\t.append(`<span class=\"comparison-message text-muted\">${message}</span>`);\n\t}\n\n\tsetup_sort_selector() {\n\t\tthis.sort_selector = new frappe.ui.SortSelector({\n\t\t\tparent: this.filter_area.$filter_list_wrapper,\n\t\t\tdoctype: this.doctype,\n\t\t\targs: this.order_by,\n\t\t\tonchange: this.on_sort_change.bind(this),\n\t\t});\n\n\t\t//Setup groupby for reports\n\t\tthis.group_by_control = new frappe.ui.GroupBy(this);\n\t\tif (this.report_doc && this.report_doc.json.group_by) {\n\t\t\tthis.group_by_control.apply_settings(this.report_doc.json.group_by);\n\t\t}\n\t\tif (this.view_user_settings && this.view_user_settings.group_by) {\n\t\t\tthis.group_by_control.apply_settings(this.view_user_settings.group_by);\n\t\t}\n\t}\n\n\tget_args() {\n\t\tconst args = super.get_args();\n\t\tdelete args.group_by;\n\t\tthis.group_by_control.set_args(args);\n\n\t\treturn args;\n\t}\n\n\tbefore_refresh() {\n\t\tif (this.report_doc) {\n\t\t\t// don't parse frappe.route_options if this is a Custom Report\n\t\t\treturn Promise.resolve();\n\t\t}\n\t\treturn super.before_refresh();\n\t}\n\n\tafter_render() {\n\t\tif (!this.report_doc) {\n\t\t\tthis.save_report_settings();\n\t\t} else if (!$.isEmptyObject(this.report_doc.json)) {\n\t\t\tthis.set_dirty_state_for_custom_report();\n\t\t}\n\n\t\tif (!this.group_by) {\n\t\t\tthis.init_chart();\n\t\t}\n\t}\n\n\tset_dirty_state_for_custom_report() {\n\t\tlet current_settings = {\n\t\t\tfilters: this.filter_area.get(),\n\t\t\tfields: this.fields,\n\t\t\torder_by: this.sort_selector.get_sql_string(),\n\t\t\tadd_totals_row: this.add_totals_row,\n\t\t\tpage_length: this.page_length,\n\t\t\tcolumn_widths: this.get_column_widths(),\n\t\t\tgroup_by: this.group_by_control.get_settings(),\n\t\t\tchart_args: this.get_chart_settings(),\n\t\t};\n\n\t\tlet report_settings = {\n\t\t\tfilters: this.report_doc.json.filters,\n\t\t\tfields: this.report_doc.json.fields,\n\t\t\torder_by: this.report_doc.json.order_by,\n\t\t\tadd_totals_row: this.report_doc.json.add_totals_row,\n\t\t\tpage_length: this.report_doc.json.page_length,\n\t\t\tcolumn_widths: this.report_doc.json.column_widths,\n\t\t\tgroup_by: this.report_doc.json.group_by,\n\t\t\tchart_args: this.report_doc.json.chart_args,\n\t\t};\n\n\t\tif (!frappe.utils.deep_equal(current_settings, report_settings)) {\n\t\t\tthis.page.set_indicator(__(\"Not Saved\"), \"orange\");\n\t\t} else {\n\t\t\tthis.page.clear_indicator();\n\t\t}\n\t}\n\n\tsave_report_settings() {\n\t\tfrappe.model.user_settings.save(this.doctype, \"last_view\", this.view_name);\n\n\t\tif (!this.report_name) {\n\t\t\tthis.save_view_user_settings({\n\t\t\t\tfields: this.fields,\n\t\t\t\tfilters: this.filter_area.get(),\n\t\t\t\torder_by: this.sort_selector.get_sql_string(),\n\t\t\t\tgroup_by: this.group_by_control.get_settings(),\n\t\t\t\tchart_args: this.get_chart_settings(),\n\t\t\t\tadd_totals_row: this.add_totals_row,\n\t\t\t});\n\t\t}\n\t}\n\n\tprepare_data(r) {\n\t\tlet data = r.message || {};\n\t\tdata = frappe.utils.dict(data.keys, data.values);\n\n\t\tif (this.start === 0) {\n\t\t\tthis.data = data;\n\t\t} else {\n\t\t\tthis.data = this.data.concat(data);\n\t\t}\n\t}\n\n\trender(force) {\n\t\tif (this.data.length === 0) return;\n\t\tthis.render_count();\n\t\tthis.setup_columns();\n\n\t\tif (this.group_by) {\n\t\t\tthis.$charts_wrapper.addClass(\"hidden\");\n\t\t} else if (this.chart) {\n\t\t\tthis.refresh_charts();\n\t\t}\n\n\t\tif (this.datatable && !force) {\n\t\t\tthis.datatable.refresh(this.get_data(this.data), this.columns);\n\t\t\treturn;\n\t\t}\n\t\tthis.setup_datatable(this.data);\n\t}\n\n\trender_count() {\n\t\tif (this.list_view_settings?.disable_count) {\n\t\t\treturn;\n\t\t}\n\t\tlet $list_count = this.$paging_area.find(\".list-count\");\n\t\tif (!$list_count.length) {\n\t\t\t$list_count = $(\"<span>\")\n\t\t\t\t.addClass(\"text-muted list-count\")\n\t\t\t\t.prependTo(this.$paging_area.find(\".level-right\"));\n\t\t}\n\t\tthis.get_count_str().then((str) => {\n\t\t\t$list_count.text(str);\n\t\t});\n\t}\n\n\ton_update(data) {\n\t\tif (this.doctype === data.doctype && data.name) {\n\t\t\t// flash row when doc is updated by some other user\n\t\t\tconst flash_row = data.user !== frappe.session.user;\n\t\t\tif (this.data.find((d) => d.name === data.name)) {\n\t\t\t\t// update existing\n\t\t\t\tfrappe.db\n\t\t\t\t\t.get_doc(data.doctype, data.name)\n\t\t\t\t\t.then((doc) => this.update_row(doc, flash_row));\n\t\t\t} else {\n\t\t\t\t// refresh\n\t\t\t\tthis.refresh();\n\t\t\t}\n\t\t}\n\t}\n\n\tupdate_row(doc, flash_row) {\n\t\tconst to_refresh = [];\n\n\t\tthis.data = this.data.map((d, i) => {\n\t\t\tif (d.name === doc.name) {\n\t\t\t\tfor (let fieldname in d) {\n\t\t\t\t\tif (fieldname.includes(\":\")) {\n\t\t\t\t\t\t// child table field\n\t\t\t\t\t\tconst [cdt, _field] = fieldname.split(\":\");\n\t\t\t\t\t\tconst cdt_row = Object.keys(doc)\n\t\t\t\t\t\t\t.filter(\n\t\t\t\t\t\t\t\t(key) =>\n\t\t\t\t\t\t\t\t\tArray.isArray(doc[key]) &&\n\t\t\t\t\t\t\t\t\tdoc[key].length &&\n\t\t\t\t\t\t\t\t\tdoc[key][0].doctype === cdt\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t.map((key) => doc[key])\n\t\t\t\t\t\t\t.map((a) => a[0])\n\t\t\t\t\t\t\t.filter((cdoc) => cdoc.name === d[cdt + \":name\"])[0];\n\t\t\t\t\t\tif (cdt_row) {\n\t\t\t\t\t\t\td[fieldname] = cdt_row[_field];\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\td[fieldname] = doc[fieldname];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tto_refresh.push([d, i]);\n\t\t\t}\n\t\t\treturn d;\n\t\t});\n\n\t\t// indicate row update\n\t\tconst _flash_row = (rowIndex) => {\n\t\t\tif (!flash_row) return;\n\t\t\tconst $row = this.$result.find(`.dt-row[data-row-index=\"${rowIndex}\"]`);\n\t\t\t$row.addClass(\"row-update\");\n\t\t\tsetTimeout(() => $row.removeClass(\"row-update\"), 500);\n\t\t};\n\n\t\tto_refresh.forEach(([data, rowIndex]) => {\n\t\t\tconst new_row = this.build_row(data);\n\t\t\tthis.datatable.refreshRow(new_row, rowIndex);\n\t\t\t_flash_row(rowIndex);\n\t\t});\n\t}\n\n\tsetup_datatable(values) {\n\t\tthis.$datatable_wrapper.empty();\n\t\tthis.datatable = new DataTable(this.$datatable_wrapper[0], {\n\t\t\tcolumns: this.columns,\n\t\t\tdata: this.get_data(values),\n\t\t\tgetEditor: this.get_editing_object.bind(this),\n\t\t\tlanguage: frappe.boot.lang,\n\t\t\ttranslations: frappe.utils.datatable.get_translations(),\n\t\t\tcheckboxColumn: true,\n\t\t\tinlineFilters: true,\n\t\t\tcellHeight: 35,\n\t\t\tdirection: frappe.utils.is_rtl() ? \"rtl\" : \"ltr\",\n\t\t\tevents: {\n\t\t\t\tonRemoveColumn: (column) => {\n\t\t\t\t\tthis.remove_column_from_datatable(column);\n\t\t\t\t},\n\t\t\t\tonSwitchColumn: (column1, column2) => {\n\t\t\t\t\tthis.switch_column(column1, column2);\n\t\t\t\t},\n\t\t\t\tonCheckRow: () => {\n\t\t\t\t\tconst checked_items = this.get_checked_items();\n\t\t\t\t\tthis.toggle_actions_menu_button(checked_items.length > 0);\n\t\t\t\t},\n\t\t\t},\n\t\t\thooks: {\n\t\t\t\tcolumnTotal: frappe.utils.report_column_total,\n\t\t\t},\n\t\t\theaderDropdown: [\n\t\t\t\t{\n\t\t\t\t\tlabel: __(\"Add Column\"),\n\t\t\t\t\taction: (datatabe_col) => {\n\t\t\t\t\t\tlet columns_in_picker = [];\n\t\t\t\t\t\tconst columns = this.get_columns_for_picker();\n\n\t\t\t\t\t\tcolumns_in_picker = columns[this.doctype]\n\t\t\t\t\t\t\t.filter((df) => !this.is_column_added(df))\n\t\t\t\t\t\t\t.map((df) => ({\n\t\t\t\t\t\t\t\tlabel: __(df.label),\n\t\t\t\t\t\t\t\tvalue: df.fieldname,\n\t\t\t\t\t\t\t}));\n\n\t\t\t\t\t\tdelete columns[this.doctype];\n\n\t\t\t\t\t\tfor (let cdt in columns) {\n\t\t\t\t\t\t\tcolumns[cdt]\n\t\t\t\t\t\t\t\t.filter((df) => !this.is_column_added(df))\n\t\t\t\t\t\t\t\t.map((df) => ({\n\t\t\t\t\t\t\t\t\tlabel: __(df.label) + ` (${cdt})`,\n\t\t\t\t\t\t\t\t\tvalue: df.fieldname + \",\" + cdt,\n\t\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t\t\t.forEach((df) => columns_in_picker.push(df));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst d = new frappe.ui.Dialog({\n\t\t\t\t\t\t\ttitle: __(\"Add Column\"),\n\t\t\t\t\t\t\tfields: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: __(\"Select Column\"),\n\t\t\t\t\t\t\t\t\tfieldname: \"column\",\n\t\t\t\t\t\t\t\t\tfieldtype: \"Autocomplete\",\n\t\t\t\t\t\t\t\t\toptions: columns_in_picker,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: __(\"Insert Column Before {0}\", [\n\t\t\t\t\t\t\t\t\t\t__(datatabe_col.docfield.label).bold(),\n\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\tfieldname: \"insert_before\",\n\t\t\t\t\t\t\t\t\tfieldtype: \"Check\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tprimary_action: ({ column, insert_before }) => {\n\t\t\t\t\t\t\t\tif (!columns_in_picker.map((col) => col.value).includes(column)) {\n\t\t\t\t\t\t\t\t\tfrappe.show_alert({\n\t\t\t\t\t\t\t\t\t\tmessage: __(\"Invalid column\"),\n\t\t\t\t\t\t\t\t\t\tindicator: \"orange\",\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\td.hide();\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tlet doctype = this.doctype;\n\t\t\t\t\t\t\t\tif (column.includes(\",\")) {\n\t\t\t\t\t\t\t\t\t[column, doctype] = column.split(\",\");\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tlet index = datatabe_col.colIndex;\n\t\t\t\t\t\t\t\tif (insert_before) {\n\t\t\t\t\t\t\t\t\tindex = index - 1;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tthis.add_column_to_datatable(column, doctype, index);\n\t\t\t\t\t\t\t\td.hide();\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\td.show();\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t});\n\t}\n\n\ttoggle_charts() {\n\t\t// add\n\t\tif (!this.chart) {\n\t\t\tthis.setup_charts();\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.$charts_wrapper.hasClass(\"hidden\")) {\n\t\t\t// reload chart\n\t\t\tthis.$charts_wrapper.removeClass(\"hidden\");\n\t\t\tthis.refresh_charts();\n\t\t} else {\n\t\t\t// remove chart\n\t\t\tthis.$charts_wrapper.addClass(\"hidden\");\n\t\t\tthis.save_view_user_settings({ chart_args: null });\n\t\t\tthis.chart_args = null;\n\t\t}\n\t}\n\n\tinit_chart() {\n\t\t// show chart if saved via report or user settings\n\t\tif (!this.chart) {\n\t\t\tif (this.chart_args) {\n\t\t\t\tthis.build_chart_args(\n\t\t\t\t\tthis.chart_args.x_axis,\n\t\t\t\t\tthis.chart_args.y_axes,\n\t\t\t\t\tthis.chart_args.chart_type\n\t\t\t\t);\n\n\t\t\t\tthis.make_chart();\n\t\t\t}\n\t\t}\n\t}\n\n\tsetup_charts() {\n\t\t// get fields from columns\n\t\tlet x_fields = [],\n\t\t\ty_fields = [];\n\t\tfor (let col of this.columns) {\n\t\t\t// all options in x\n\t\t\tx_fields.push({\n\t\t\t\tlabel: col.content,\n\t\t\t\tfieldname: col.id,\n\t\t\t\tvalue: col.id,\n\t\t\t});\n\n\t\t\t// numeric values in y\n\t\t\tif (col.docfield && frappe.model.numeric_fieldtypes.includes(col.docfield.fieldtype)) {\n\t\t\t\ty_fields.push({\n\t\t\t\t\tlabel: col.content,\n\t\t\t\t\tfieldname: col.id,\n\t\t\t\t\tvalue: col.id,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tconst defaults = this.chart_args || {};\n\n\t\tconst dialog = new frappe.ui.Dialog({\n\t\t\ttitle: __(\"Configure Chart\"),\n\t\t\tfields: [\n\t\t\t\t{\n\t\t\t\t\tlabel: __(\"X Axis Field\"),\n\t\t\t\t\tfieldtype: \"Select\",\n\t\t\t\t\tfieldname: \"x_axis\",\n\t\t\t\t\toptions: x_fields,\n\t\t\t\t\tdefault: defaults.x_axis,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: __(\"Y Axis Fields\"),\n\t\t\t\t\tfieldtype: \"MultiSelect\",\n\t\t\t\t\tfieldname: \"y_axes\",\n\t\t\t\t\toptions: y_fields,\n\t\t\t\t\tdescription: __(\"Showing only Numeric fields from Report\"),\n\t\t\t\t\tdefault: defaults.y_axes ? defaults.y_axes.join(\", \") : null,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: __(\"Chart Type\"),\n\t\t\t\t\tfieldtype: \"Select\",\n\t\t\t\t\toptions: [\"Bar\", \"Line\", \"Pie\", \"Percentage\", \"Donut\"],\n\t\t\t\t\tfieldname: \"chart_type\",\n\t\t\t\t\tdefault: defaults.chart_type\n\t\t\t\t\t\t? frappe.utils.to_title_case(defaults.chart_type)\n\t\t\t\t\t\t: \"Bar\",\n\t\t\t\t},\n\t\t\t],\n\t\t\tprimary_action: (data) => {\n\t\t\t\tdata.y_axes = data.y_axes\n\t\t\t\t\t.split(\",\")\n\t\t\t\t\t.map((d) => d.trim())\n\t\t\t\t\t.filter(Boolean);\n\n\t\t\t\tthis.build_chart_args(data.x_axis, data.y_axes, data.chart_type);\n\t\t\t\tthis.make_chart();\n\t\t\t\tdialog.hide();\n\t\t\t},\n\t\t});\n\n\t\tdialog.show();\n\t}\n\n\tbuild_chart_args(x_axis, y_axes, chart_type) {\n\t\tlet datasets = y_axes.map((y_axis) => ({\n\t\t\tname: this.columns_map[y_axis].content,\n\t\t\tvalues: this.data.map((d) => d[y_axis]),\n\t\t}));\n\n\t\tthis.chart_args = {\n\t\t\tchart_type: chart_type.toLowerCase(),\n\t\t\tx_axis: x_axis,\n\t\t\ty_axes: y_axes,\n\t\t\tlabels: this.data.map((d) => d[x_axis]),\n\t\t\tdatasets: datasets,\n\t\t};\n\n\t\tthis.save_view_user_settings({ chart_args: this.get_chart_settings() });\n\t}\n\n\tget_chart_settings() {\n\t\tif (this.chart_args) {\n\t\t\treturn {\n\t\t\t\tchart_type: this.chart_args.chart_type,\n\t\t\t\tx_axis: this.chart_args.x_axis,\n\t\t\t\ty_axes: this.chart_args.y_axes,\n\t\t\t};\n\t\t}\n\t}\n\n\tmake_chart() {\n\t\tconst args = this.chart_args;\n\t\tlet data = {\n\t\t\tlabels: args.labels,\n\t\t\tdatasets: args.datasets,\n\t\t};\n\n\t\tthis.last_chart_type = args.chart_type;\n\n\t\tconst get_df = (field) => this.columns_map[field].docfield;\n\n\t\tthis.$charts_wrapper.removeClass(\"hidden\");\n\n\t\tthis.chart = new frappe.Chart(this.$charts_wrapper.find(\".charts-inner-wrapper\")[0], {\n\t\t\ttitle: __(\"{0} Chart\", [this.doctype]),\n\t\t\tdata: data,\n\t\t\ttype: args.chart_type,\n\t\t\ttruncateLegends: 1,\n\t\t\tcolors: [\"#70E078\", \"light-blue\", \"orange\", \"red\"],\n\t\t\taxisOptions: {\n\t\t\t\tshortenYAxisNumbers: 1,\n\t\t\t\tnumberFormatter: frappe.utils.format_chart_axis_number,\n\t\t\t},\n\t\t\ttooltipOptions: {\n\t\t\t\tformatTooltipY: (value) => {\n\t\t\t\t\treturn frappe.format(value, get_df(this.chart_args.y_axes[0]), {\n\t\t\t\t\t\talways_show_decimals: true,\n\t\t\t\t\t\tinline: true,\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t}\n\n\trefresh_charts() {\n\t\tif (!this.chart || !this.chart_args) return;\n\t\tthis.$charts_wrapper.removeClass(\"hidden\");\n\t\tconst { x_axis, y_axes, chart_type } = this.chart_args;\n\t\tthis.build_chart_args(x_axis, y_axes, chart_type);\n\t\tthis.chart.update(this.chart_args);\n\t}\n\n\tget_editing_object(colIndex, rowIndex, value, parent) {\n\t\tconst control = this.render_editing_input(colIndex, value, parent);\n\t\tif (!control) return false;\n\n\t\tcontrol.df.change = () => control.set_focus();\n\n\t\treturn {\n\t\t\tinitValue: (value) => {\n\t\t\t\treturn control.set_value(value);\n\t\t\t},\n\t\t\tsetValue: (value) => {\n\t\t\t\tconst cell = this.datatable.getCell(colIndex, rowIndex);\n\t\t\t\tlet fieldname = this.datatable.getColumn(colIndex).docfield.fieldname;\n\t\t\t\tlet docname = cell.name;\n\t\t\t\tlet doctype = cell.doctype;\n\n\t\t\t\tcontrol.set_value(value);\n\t\t\t\treturn this.set_control_value(doctype, docname, fieldname, value)\n\t\t\t\t\t.then((updated_doc) => {\n\t\t\t\t\t\tconst _data = this.data\n\t\t\t\t\t\t\t.filter((b) => b.name === updated_doc.name)\n\t\t\t\t\t\t\t.find(\n\t\t\t\t\t\t\t\t(a) =>\n\t\t\t\t\t\t\t\t\t// child table cell\n\t\t\t\t\t\t\t\t\t(doctype != updated_doc.doctype &&\n\t\t\t\t\t\t\t\t\t\ta[doctype + \":name\"] == docname) ||\n\t\t\t\t\t\t\t\t\tdoctype == updated_doc.doctype\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\tfor (let field in _data) {\n\t\t\t\t\t\t\tif (field.includes(\":\")) {\n\t\t\t\t\t\t\t\t// child table field\n\t\t\t\t\t\t\t\tconst [cdt, _field] = field.split(\":\");\n\t\t\t\t\t\t\t\tconst cdt_row = Object.keys(updated_doc)\n\t\t\t\t\t\t\t\t\t.filter(\n\t\t\t\t\t\t\t\t\t\t(key) =>\n\t\t\t\t\t\t\t\t\t\t\tArray.isArray(updated_doc[key]) &&\n\t\t\t\t\t\t\t\t\t\t\tupdated_doc[key].length &&\n\t\t\t\t\t\t\t\t\t\t\tupdated_doc[key][0].doctype === cdt\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t.map((key) => updated_doc[key])[0]\n\t\t\t\t\t\t\t\t\t.filter((cdoc) => cdoc.name === _data[cdt + \":name\"])[0];\n\t\t\t\t\t\t\t\tif (cdt_row) {\n\t\t\t\t\t\t\t\t\t_data[field] = cdt_row[_field];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_data[field] = updated_doc[field];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.then(() => this.refresh_charts());\n\t\t\t},\n\t\t\tgetValue: () => {\n\t\t\t\treturn control.get_value();\n\t\t\t},\n\t\t};\n\t}\n\n\tset_control_value(doctype, docname, fieldname, value) {\n\t\tthis.last_updated_doc = docname;\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tfrappe.db\n\t\t\t\t.set_value(doctype, docname, { [fieldname]: value })\n\t\t\t\t.then((r) => {\n\t\t\t\t\tif (r.message) {\n\t\t\t\t\t\tresolve(r.message);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail(reject);\n\t\t});\n\t}\n\n\trender_editing_input(colIndex, value, parent) {\n\t\tconst col = this.datatable.getColumn(colIndex);\n\t\tlet control = null;\n\n\t\tif (col.docfield.fieldtype === \"Text Editor\") {\n\t\t\tconst d = new frappe.ui.Dialog({\n\t\t\t\ttitle: __(\"Edit {0}\", [col.docfield.label]),\n\t\t\t\tfields: [col.docfield],\n\t\t\t\tprimary_action: () => {\n\t\t\t\t\tthis.datatable.cellmanager.deactivateEditing();\n\t\t\t\t\td.hide();\n\t\t\t\t},\n\t\t\t\ton_hide: () => {\n\t\t\t\t\tthis.datatable.cellmanager.deactivateEditing(false);\n\t\t\t\t},\n\t\t\t});\n\t\t\td.show();\n\t\t\tcontrol = d.fields_dict[col.docfield.fieldname];\n\t\t} else {\n\t\t\t// make control\n\t\t\tcontrol = frappe.ui.form.make_control({\n\t\t\t\tdf: col.docfield,\n\t\t\t\tparent: parent,\n\t\t\t\trender_input: true,\n\t\t\t});\n\t\t\tcontrol.set_value(value);\n\t\t\tcontrol.toggle_label(false);\n\t\t\tcontrol.toggle_description(false);\n\t\t}\n\n\t\treturn control;\n\t}\n\n\tis_editable(df, data) {\n\t\tif (\n\t\t\tdf &&\n\t\t\tfrappe.model.can_write(this.doctype) &&\n\t\t\t// not a submitted doc or field is allowed to edit after submit\n\t\t\t(data.docstatus !== 1 || df.allow_on_submit) &&\n\t\t\t// not a cancelled doc\n\t\t\tdata.docstatus !== 2 &&\n\t\t\t!df.read_only &&\n\t\t\t!df.is_virtual &&\n\t\t\t!df.hidden &&\n\t\t\t// not a standard field i.e., owner, modified_by, etc.\n\t\t\tfrappe.model.is_non_std_field(df.fieldname)\n\t\t)\n\t\t\treturn true;\n\t\treturn false;\n\t}\n\n\tget_data(values) {\n\t\treturn this.build_rows(values);\n\t}\n\n\tset_fields() {\n\t\t// default fields\n\t\t[\"name\", \"docstatus\"].map((f) => this._add_field(f));\n\n\t\tif (this.report_name && this.report_doc.json.fields) {\n\t\t\tlet fields = this.report_doc.json.fields.slice();\n\t\t\tfields.forEach((f) => this._add_field(f[0], f[1]));\n\t\t\treturn;\n\t\t} else if (this.view_user_settings.fields) {\n\t\t\t// get from user_settings\n\t\t\tlet fields = this.view_user_settings.fields;\n\t\t\tfields.forEach((f) => this._add_field(f[0], f[1]));\n\t\t\treturn;\n\t\t}\n\n\t\tthis.set_default_fields();\n\t}\n\n\tset_default_fields() {\n\t\t// get fields from meta\n\t\tthis.fields = this.fields || [];\n\t\tconst add_field = (f) => this._add_field(f);\n\n\t\t// default fields\n\t\t[this.meta.title_field, this.meta.image_field].map(add_field);\n\n\t\t// fields in_list_view or in_standard_filter\n\t\tconst fields = this.meta.fields.filter((df) => {\n\t\t\treturn (\n\t\t\t\t(df.in_list_view || df.in_standard_filter) &&\n\t\t\t\tfrappe.perm.has_perm(this.doctype, df.permlevel, \"read\") &&\n\t\t\t\tfrappe.model.is_value_type(df.fieldtype) &&\n\t\t\t\t!df.report_hide\n\t\t\t);\n\t\t});\n\n\t\tfields.map(add_field);\n\n\t\t// currency fields\n\t\tfields\n\t\t\t.filter((df) => df.fieldtype === \"Currency\" && df.options)\n\t\t\t.map((df) => {\n\t\t\t\tif (df.options.includes(\":\")) {\n\t\t\t\t\tadd_field(df.options.split(\":\")[1]);\n\t\t\t\t} else {\n\t\t\t\t\tadd_field(df.options);\n\t\t\t\t}\n\t\t\t});\n\n\t\t// fields in listview_settings\n\t\t(this.settings.add_fields || []).map(add_field);\n\t}\n\n\tbuild_fields() {\n\t\tsuper.build_fields();\n\t}\n\n\treorder_fields() {\n\t\t// generate table fields in the required format [\"name\", \"DocType\"]\n\t\t// these are fields in the column before adding new fields\n\t\tlet table_fields = this.columns.map((df) => [df.field, df.docfield.parent]);\n\n\t\t// filter fields that are already in table\n\t\t// iterate over table_fields to preserve the existing order of fields\n\t\t// The filter will ensure the unchecked fields are removed\n\t\tlet fields_already_in_table = table_fields.filter((df) => {\n\t\t\treturn this.fields.find((field) => {\n\t\t\t\treturn df[0] == field[0] && df[1] == field[1];\n\t\t\t});\n\t\t});\n\n\t\t// find new fields that didn't already exists\n\t\t// This will be appended to the end of the table\n\t\tlet fields_to_add = this.fields.filter((df) => {\n\t\t\treturn !table_fields.find((field) => {\n\t\t\t\treturn df[0] == field[0] && df[1] == field[1];\n\t\t\t});\n\t\t});\n\n\t\t// rebuild fields\n\t\tthis.fields = [...fields_already_in_table, ...fields_to_add];\n\t}\n\n\tget_fields() {\n\t\tlet fields = this.fields.map((f) => {\n\t\t\tlet column_name = frappe.model.get_full_column_name(f[0], f[1]);\n\t\t\tif (f[1] !== this.doctype) {\n\t\t\t\t// child table field\n\t\t\t\tcolumn_name = column_name + \" as \" + `'${f[1]}:${f[0]}'`;\n\t\t\t}\n\t\t\treturn column_name;\n\t\t});\n\t\tconst cdt_name_fields = this.get_unique_cdt_in_view().map(\n\t\t\t(cdt) => frappe.model.get_full_column_name(\"name\", cdt) + \" as \" + `'${cdt}:name'`\n\t\t);\n\t\tfields = fields.concat(cdt_name_fields);\n\n\t\treturn fields;\n\t}\n\n\tget_unique_cdt_in_view() {\n\t\treturn this.fields\n\t\t\t.filter((f) => f[1] !== this.doctype)\n\t\t\t.map((f) => f[1])\n\t\t\t.uniqBy((d) => d);\n\t}\n\n\tadd_column_to_datatable(fieldname, doctype, col_index) {\n\t\tconst field = [fieldname, doctype];\n\t\tthis.fields.splice(col_index, 0, field);\n\n\t\tthis.add_currency_column(fieldname, doctype, col_index);\n\n\t\tthis.build_fields();\n\t\tthis.setup_columns();\n\n\t\tif (this.datatable) this.datatable.destroy();\n\t\tthis.datatable = null;\n\t\tthis.refresh();\n\t}\n\n\tadd_currency_column(fieldname, doctype, col_index) {\n\t\t// Adds dependent currency field if required\n\t\tconst df = frappe.meta.get_docfield(doctype, fieldname);\n\t\tif (\n\t\t\tdf &&\n\t\t\tdf.fieldtype === \"Currency\" &&\n\t\t\tdf.options &&\n\t\t\t!df.options.includes(\":\") &&\n\t\t\tfrappe.meta.has_field(doctype, df.options)\n\t\t) {\n\t\t\tconst field = [df.options, doctype];\n\t\t\tif (col_index === undefined) {\n\t\t\t\tthis.fields.push(field);\n\t\t\t} else {\n\t\t\t\tthis.fields.splice(col_index, 0, field);\n\t\t\t}\n\t\t\tconst field_label = frappe.meta.get_label(doctype, field[0]);\n\t\t\tfrappe.show_alert(\n\t\t\t\t__(\"Also adding the dependent currency field {0}\", [__(field_label).bold()])\n\t\t\t);\n\t\t}\n\t}\n\n\tadd_status_dependency_column(col, doctype) {\n\t\t// Adds dependent column from which status is derived if required\n\t\tif (col && !this.fields.find((f) => f[0] === col)) {\n\t\t\tconst field = [col, doctype];\n\t\t\tthis.fields.push(field);\n\t\t\tthis.refresh();\n\t\t\tconst field_label = frappe.meta.get_label(doctype, field[0]);\n\t\t\tfrappe.show_alert(\n\t\t\t\t__(\"Also adding the status dependency field {0}\", [__(field_label).bold()])\n\t\t\t);\n\t\t}\n\t}\n\n\tremove_column_from_datatable(column) {\n\t\tconst index = this.fields.findIndex((f) => column.field === f[0]);\n\t\tif (index === -1) return;\n\t\tconst field = this.fields[index];\n\n\t\tif (field[0] === \"name\") {\n\t\t\tthis.refresh();\n\t\t\tfrappe.throw(__(\"Cannot remove ID field\"));\n\t\t}\n\n\t\tthis.fields.splice(index, 1);\n\t\tthis.build_fields();\n\t\tthis.setup_columns();\n\t\tthis.refresh();\n\t}\n\n\tswitch_column(col1, col2) {\n\t\tconst index1 = this.fields.findIndex((f) => col1.field === f[0]);\n\t\tconst index2 = this.fields.findIndex((f) => col2.field === f[0]);\n\t\tconst _fields = this.fields.slice();\n\n\t\tlet temp = _fields[index1];\n\t\t_fields[index1] = _fields[index2];\n\t\t_fields[index2] = temp;\n\n\t\tthis.fields = _fields;\n\t\tthis.build_fields();\n\t\tthis.setup_columns();\n\t\tthis.refresh();\n\t}\n\n\tget_columns_for_picker() {\n\t\tlet out = {};\n\n\t\tconst standard_fields_filter = (df) => !frappe.model.no_value_type.includes(df.fieldtype);\n\n\t\tlet doctype_fields = frappe.meta\n\t\t\t.get_docfields(this.doctype)\n\t\t\t.filter(standard_fields_filter);\n\n\t\t// filter out docstatus field from picker\n\t\tlet std_fields = frappe.model.std_fields.filter((df) => df.fieldname !== \"docstatus\");\n\n\t\t// add status field derived from docstatus, if status is not a standard field\n\t\tlet has_status_values = false;\n\n\t\tif (this.data) {\n\t\t\thas_status_values = frappe.get_indicator(this.data[0], this.doctype);\n\t\t}\n\n\t\tif (!frappe.meta.has_field(this.doctype, \"status\") && has_status_values) {\n\t\t\tdoctype_fields = [\n\t\t\t\t{\n\t\t\t\t\tlabel: __(\"Status\"),\n\t\t\t\t\tfieldname: \"docstatus\",\n\t\t\t\t\tfieldtype: \"Data\",\n\t\t\t\t},\n\t\t\t].concat(doctype_fields);\n\t\t}\n\n\t\tdoctype_fields = [\n\t\t\t{\n\t\t\t\tlabel: __(\"ID\", null, \"Label of name column in report\"),\n\t\t\t\tfieldname: \"name\",\n\t\t\t\tfieldtype: \"Data\",\n\t\t\t\treqd: 1,\n\t\t\t},\n\t\t].concat(doctype_fields, std_fields);\n\n\t\tout[this.doctype] = doctype_fields;\n\n\t\tconst table_fields = frappe.meta.get_table_fields(this.doctype);\n\n\t\ttable_fields.forEach((df) => {\n\t\t\tconst cdt = df.options;\n\t\t\tconst child_table_fields = frappe.meta\n\t\t\t\t.get_docfields(cdt)\n\t\t\t\t.filter(standard_fields_filter);\n\n\t\t\tout[cdt] = child_table_fields;\n\n\t\t\t// add index column for child tables\n\t\t\tout[cdt].push({\n\t\t\t\tlabel: __(\"Index\"),\n\t\t\t\tfieldname: \"idx\",\n\t\t\t\tfieldtype: \"Int\",\n\t\t\t\tparent: cdt,\n\t\t\t});\n\t\t});\n\t\treturn out;\n\t}\n\n\tget_dialog_fields() {\n\t\tconst dialog_fields = [];\n\t\tconst columns = this.get_columns_for_picker();\n\n\t\tdialog_fields.push({\n\t\t\tlabel: __(this.doctype),\n\t\t\tfieldname: this.doctype,\n\t\t\tfieldtype: \"MultiCheck\",\n\t\t\tcolumns: 2,\n\t\t\toptions: columns[this.doctype]\n\t\t\t\t.filter((df) => {\n\t\t\t\t\treturn !df.hidden && df.fieldname !== \"name\";\n\t\t\t\t})\n\t\t\t\t.map((df) => ({\n\t\t\t\t\tlabel: __(df.label),\n\t\t\t\t\tvalue: df.fieldname,\n\t\t\t\t\tchecked: this.fields.find(\n\t\t\t\t\t\t(f) => f[0] === df.fieldname && f[1] === this.doctype\n\t\t\t\t\t),\n\t\t\t\t})),\n\t\t});\n\n\t\tdelete columns[this.doctype];\n\n\t\tconst table_fields = frappe.meta.get_table_fields(this.doctype).filter((df) => !df.hidden);\n\n\t\ttable_fields.forEach((df) => {\n\t\t\tconst cdt = df.options;\n\n\t\t\tdialog_fields.push({\n\t\t\t\tlabel: __(df.label) + ` (${__(cdt)})`,\n\t\t\t\tfieldname: df.options,\n\t\t\t\tfieldtype: \"MultiCheck\",\n\t\t\t\tcolumns: 2,\n\t\t\t\toptions: columns[cdt]\n\t\t\t\t\t.filter((df) => {\n\t\t\t\t\t\treturn !df.hidden;\n\t\t\t\t\t})\n\t\t\t\t\t.map((df) => ({\n\t\t\t\t\t\tlabel: __(df.label),\n\t\t\t\t\t\tvalue: df.fieldname,\n\t\t\t\t\t\tchecked: this.fields.find((f) => f[0] === df.fieldname && f[1] === cdt),\n\t\t\t\t\t})),\n\t\t\t});\n\t\t});\n\n\t\treturn dialog_fields;\n\t}\n\n\tis_column_added(df) {\n\t\treturn Boolean(this.fields.find((f) => f[0] === df.fieldname && df.parent === f[1]));\n\t}\n\n\tsetup_columns() {\n\t\t// apply previous column width\n\t\tlet column_widths = null;\n\t\tif (this.columns) {\n\t\t\tcolumn_widths = this.get_column_widths();\n\t\t}\n\n\t\tthis.columns = [];\n\t\tthis.columns_map = {};\n\n\t\tfor (let f of this.fields) {\n\t\t\tlet column;\n\t\t\tif (f[0] !== \"docstatus\") {\n\t\t\t\tcolumn = this.build_column(f);\n\t\t\t} else {\n\t\t\t\t// if status is not in fields append status column derived from docstatus\n\t\t\t\tif (\n\t\t\t\t\t!this.fields.includes([\"status\", this.doctype]) &&\n\t\t\t\t\t!frappe.meta.has_field(this.doctype, \"status\")\n\t\t\t\t) {\n\t\t\t\t\tcolumn = this.build_column([\"docstatus\", this.doctype]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (column) {\n\t\t\t\tif (column_widths) {\n\t\t\t\t\tcolumn.width = column_widths[column.id] || column.width || 120;\n\t\t\t\t}\n\t\t\t\tthis.columns.push(column);\n\t\t\t\tthis.columns_map[column.id] = column;\n\t\t\t}\n\t\t}\n\t}\n\n\tbuild_column(c) {\n\t\tlet [fieldname, doctype] = c;\n\t\tlet docfield = frappe.meta.docfield_map[doctype || this.doctype][fieldname];\n\n\t\t// group by column\n\t\tif (fieldname === \"_aggregate_column\") {\n\t\t\tdocfield = this.group_by_control.get_group_by_docfield();\n\t\t}\n\n\t\t// child table index column\n\t\tif (fieldname === \"idx\" && doctype !== this.doctype) {\n\t\t\tdocfield = {\n\t\t\t\tlabel: \"Index\",\n\t\t\t\tfieldtype: \"Int\",\n\t\t\t\tparent: doctype,\n\t\t\t};\n\t\t}\n\n\t\tif (!docfield) {\n\t\t\tdocfield = frappe.model.get_std_field(fieldname, true);\n\n\t\t\tif (docfield) {\n\t\t\t\tif (!docfield.label) {\n\t\t\t\t\tdocfield.label = toTitle(fieldname);\n\t\t\t\t\tif (docfield.label.includes(\"_\")) {\n\t\t\t\t\t\tdocfield.label = docfield.label.replace(\"_\", \" \");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdocfield.parent = this.doctype;\n\t\t\t\tif (fieldname == \"name\") {\n\t\t\t\t\tdocfield.options = this.doctype;\n\t\t\t\t}\n\t\t\t\tif (fieldname == \"docstatus\" && !frappe.meta.has_field(this.doctype, \"status\")) {\n\t\t\t\t\tdocfield.label = \"Status\";\n\t\t\t\t\tdocfield.fieldtype = \"Data\";\n\t\t\t\t\tdocfield.name = \"status\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (!docfield || docfield.report_hide) return;\n\n\t\tlet title = __(docfield.label);\n\t\tif (doctype !== this.doctype) {\n\t\t\ttitle += ` (${__(doctype)})`;\n\t\t}\n\n\t\tconst editable =\n\t\t\tfrappe.model.is_non_std_field(fieldname) &&\n\t\t\t!docfield.read_only &&\n\t\t\t!docfield.is_virtual;\n\n\t\tconst align = (() => {\n\t\t\tconst is_numeric = frappe.model.is_numeric_field(docfield);\n\t\t\tif (is_numeric) {\n\t\t\t\treturn \"right\";\n\t\t\t}\n\t\t\treturn docfield.fieldtype === \"Date\" ? \"right\" : \"left\";\n\t\t})();\n\n\t\tlet id = fieldname;\n\n\t\t// child table column\n\t\tif (doctype !== this.doctype && fieldname !== \"_aggregate_column\") {\n\t\t\tid = `${doctype}:${fieldname}`;\n\t\t}\n\n\t\tlet width = (docfield ? cint(docfield.width) : null) || null;\n\t\tif (this.report_doc) {\n\t\t\t// load the user saved column width\n\t\t\tlet saved_column_widths = this.report_doc.json.column_widths || {};\n\t\t\twidth = saved_column_widths[id] || width;\n\t\t}\n\n\t\tlet compareFn = null;\n\t\tif (docfield.fieldtype === \"Date\") {\n\t\t\tcompareFn = (cell, keyword) => {\n\t\t\t\tif (!cell.content) return null;\n\t\t\t\tif (keyword.length !== \"YYYY-MM-DD\".length) return null;\n\n\t\t\t\tconst keywordValue = frappe.datetime.user_to_obj(keyword);\n\t\t\t\tconst cellValue = frappe.datetime.str_to_obj(cell.content);\n\t\t\t\treturn [+cellValue, +keywordValue];\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tid: id,\n\t\t\tfield: fieldname,\n\t\t\tname: title,\n\t\t\tcontent: title,\n\t\t\tdocfield,\n\t\t\twidth,\n\t\t\teditable,\n\t\t\talign,\n\t\t\tcompareValue: compareFn,\n\t\t\tformat: (value, row, column, data) => {\n\t\t\t\tlet doc = null;\n\t\t\t\tif (Array.isArray(row)) {\n\t\t\t\t\tdoc = row.reduce((acc, curr) => {\n\t\t\t\t\t\tif (!curr.column.docfield) return acc;\n\t\t\t\t\t\tacc[curr.column.docfield.fieldname] = curr.content;\n\t\t\t\t\t\treturn acc;\n\t\t\t\t\t}, {});\n\t\t\t\t} else {\n\t\t\t\t\tdoc = row;\n\t\t\t\t}\n\n\t\t\t\treturn frappe.format(value, column.docfield, { always_show_decimals: true }, doc);\n\t\t\t},\n\t\t};\n\t}\n\n\tbuild_rows(data) {\n\t\tconst out = data.map((d) => this.build_row(d));\n\n\t\tif (this.add_totals_row) {\n\t\t\tconst totals = this.get_columns_totals(data);\n\t\t\tconst totals_row = this.columns.map((col, i) => {\n\t\t\t\treturn {\n\t\t\t\t\tname: __(\"Totals Row\"),\n\t\t\t\t\tcontent: totals[col.id],\n\t\t\t\t\tformat: (value) => {\n\t\t\t\t\t\tlet formatted_value = frappe.format(\n\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\tcol.docfield,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\talways_show_decimals: true,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tdata[0]\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (i === 0) {\n\t\t\t\t\t\t\treturn this.format_total_cell(formatted_value, col);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn formatted_value;\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tout.push(totals_row);\n\t\t}\n\t\treturn out;\n\t}\n\n\tformat_total_cell(formatted_value, df) {\n\t\tlet cell_value = __(\"Totals\").bold();\n\t\tif (frappe.model.is_numeric_field(df.docfield)) {\n\t\t\tcell_value = `<span class=\"flex justify-between\">\n\t\t\t\t${cell_value} ${$(formatted_value).text()}\n\t\t\t</span>`;\n\t\t}\n\t\treturn cell_value;\n\t}\n\n\tbuild_row(d) {\n\t\treturn this.columns.map((col) => {\n\t\t\tif (col.docfield.parent !== this.doctype) {\n\t\t\t\t// child table field\n\t\t\t\tconst cdt_field = (f) => `${col.docfield.parent}:${f}`;\n\t\t\t\tconst name = d[cdt_field(\"name\")];\n\n\t\t\t\treturn {\n\t\t\t\t\tname: name,\n\t\t\t\t\tdoctype: col.docfield.parent,\n\t\t\t\t\tcontent: d[cdt_field(col.field)] || d[col.field],\n\t\t\t\t\teditable: Boolean(name && this.is_editable(col.docfield, d)),\n\t\t\t\t\tformat: (value) => {\n\t\t\t\t\t\treturn frappe.format(\n\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\tcol.docfield,\n\t\t\t\t\t\t\t{ always_show_decimals: true },\n\t\t\t\t\t\t\td\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (col.field === \"docstatus\" && !frappe.meta.has_field(this.doctype, \"status\")) {\n\t\t\t\t// get status from docstatus\n\t\t\t\tlet status = frappe.get_indicator(d, this.doctype);\n\t\t\t\tif (status) {\n\t\t\t\t\t// get_indicator returns the dependent field's condition as the 3rd parameter\n\t\t\t\t\tlet dependent_col = status[2]?.split(\",\")[0];\n\t\t\t\t\t// add status dependency column\n\t\t\t\t\tthis.add_status_dependency_column(dependent_col, this.doctype);\n\t\t\t\t\treturn {\n\t\t\t\t\t\tname: d.name,\n\t\t\t\t\t\tdoctype: col.docfield.parent,\n\t\t\t\t\t\tcontent: status[0],\n\t\t\t\t\t\teditable: false,\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\t// no status values found\n\t\t\t\t\tthis.remove_column_from_datatable(col);\n\t\t\t\t}\n\t\t\t} else if (col.field in d) {\n\t\t\t\tconst value = d[col.field];\n\t\t\t\treturn {\n\t\t\t\t\tname: d.name,\n\t\t\t\t\tdoctype: col.docfield.parent,\n\t\t\t\t\tcontent: value,\n\t\t\t\t\teditable: this.is_editable(col.docfield, d),\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tcontent: \"\",\n\t\t\t};\n\t\t});\n\t}\n\n\tget_checked_items(only_docnames) {\n\t\tconst indexes = this.datatable.rowmanager.getCheckedRows();\n\t\tconst items = indexes.map((i) => this.data[i]).filter((i) => i != undefined);\n\n\t\tif (only_docnames) {\n\t\t\treturn items.map((d) => d.name);\n\t\t}\n\n\t\treturn items;\n\t}\n\n\tclear_checked_items() {\n\t\tthis.datatable.rowmanager.checkAll(false);\n\t}\n\n\tsave_report(save_type) {\n\t\tconst _save_report = (name) => {\n\t\t\t// callback\n\t\t\tconst report_settings = {\n\t\t\t\tfilters: this.filter_area.get(),\n\t\t\t\tfields: this.fields,\n\t\t\t\torder_by: this.sort_selector.get_sql_string(),\n\t\t\t\tadd_totals_row: this.add_totals_row,\n\t\t\t\tpage_length: this.page_length,\n\t\t\t\tcolumn_widths: this.get_column_widths(),\n\t\t\t\tgroup_by: this.group_by_control.get_settings(),\n\t\t\t\tchart_args: this.get_chart_settings(),\n\t\t\t};\n\n\t\t\treturn frappe.call({\n\t\t\t\tmethod: \"frappe.desk.reportview.save_report\",\n\t\t\t\targs: {\n\t\t\t\t\tname: name,\n\t\t\t\t\tdoctype: this.doctype,\n\t\t\t\t\treport_settings: JSON.stringify(report_settings),\n\t\t\t\t},\n\t\t\t\tcallback: (r) => {\n\t\t\t\t\tif (r.exc) {\n\t\t\t\t\t\tfrappe.msgprint(__(\"Report was not saved (there were errors)\"));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (r.message != this.report_name) {\n\t\t\t\t\t\t// Rerender the reports dropdown,\n\t\t\t\t\t\t// so that this report is included in the dropdown as well.\n\t\t\t\t\t\tfrappe.boot.user.all_reports[r.message] = {\n\t\t\t\t\t\t\tref_doctype: this.doctype,\n\t\t\t\t\t\t\treport_type: \"Report Builder\",\n\t\t\t\t\t\t\ttitle: r.message,\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tfrappe.set_route(\"List\", this.doctype, \"Report\", r.message);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// update state\n\t\t\t\t\tthis.report_doc.json = report_settings;\n\t\t\t\t\tthis.set_dirty_state_for_custom_report();\n\t\t\t\t},\n\t\t\t});\n\t\t};\n\n\t\tif (this.report_name && save_type == \"save\") {\n\t\t\t_save_report(this.report_name);\n\t\t} else {\n\t\t\tfrappe.prompt(\n\t\t\t\t{ fieldname: \"name\", label: __(\"New Report name\"), reqd: 1, fieldtype: \"Data\" },\n\t\t\t\t(data) => {\n\t\t\t\t\t_save_report(data.name);\n\t\t\t\t},\n\t\t\t\t__(\"Save As\")\n\t\t\t);\n\t\t}\n\t}\n\n\tdelete_report() {\n\t\treturn frappe.call({\n\t\t\tmethod: \"frappe.desk.reportview.delete_report\",\n\t\t\targs: { name: this.report_name },\n\t\t\tcallback(response) {\n\t\t\t\tif (response.exc) return;\n\t\t\t\twindow.history.back();\n\t\t\t},\n\t\t});\n\t}\n\n\tget_column_widths() {\n\t\tif (this.datatable) {\n\t\t\treturn this.datatable.datamanager.getColumns(true).reduce((acc, curr) => {\n\t\t\t\tacc[curr.id] = parseInt(curr.width);\n\t\t\t\treturn acc;\n\t\t\t}, {});\n\t\t}\n\n\t\treturn {};\n\t}\n\n\tget_report_doc() {\n\t\treturn new Promise((resolve) => {\n\t\t\tfrappe.model.with_doc(\"Report\", this.report_name, () => {\n\t\t\t\tresolve(frappe.get_doc(\"Report\", this.report_name));\n\t\t\t});\n\t\t});\n\t}\n\n\tget_filters_html_for_print() {\n\t\tconst filters = this.filter_area.get();\n\n\t\treturn (\n\t\t\t`<h5>${__(\"Filters:\")}</h5>` +\n\t\t\tfilters\n\t\t\t\t.map((f) => {\n\t\t\t\t\tconst [doctype, fieldname, condition, value] = f;\n\t\t\t\t\tconst docfield = frappe.meta.get_docfield(doctype, fieldname);\n\t\t\t\t\tconst label = `<b>${__(frappe.meta.get_label(doctype, fieldname))}</b>`;\n\t\t\t\t\tswitch (condition) {\n\t\t\t\t\t\tcase \"=\":\n\t\t\t\t\t\t\treturn __(\"{0} is equal to {1}\", [\n\t\t\t\t\t\t\t\tlabel,\n\t\t\t\t\t\t\t\tfrappe.format(value, docfield),\n\t\t\t\t\t\t\t]);\n\t\t\t\t\t\tcase \"!=\":\n\t\t\t\t\t\t\treturn __(\"{0} is not equal to {1}\", [\n\t\t\t\t\t\t\t\t__(label),\n\t\t\t\t\t\t\t\tfrappe.format(value, docfield),\n\t\t\t\t\t\t\t]);\n\t\t\t\t\t\tcase \">\":\n\t\t\t\t\t\t\treturn __(\"{0} is greater than {1}\", [\n\t\t\t\t\t\t\t\t__(label),\n\t\t\t\t\t\t\t\tfrappe.format(value, docfield),\n\t\t\t\t\t\t\t]);\n\t\t\t\t\t\tcase \"<\":\n\t\t\t\t\t\t\treturn __(\"{0} is less than {1}\", [\n\t\t\t\t\t\t\t\t__(label),\n\t\t\t\t\t\t\t\tfrappe.format(value, docfield),\n\t\t\t\t\t\t\t]);\n\t\t\t\t\t\tcase \">=\":\n\t\t\t\t\t\t\treturn __(\"{0} is greater than or equal to {1}\", [\n\t\t\t\t\t\t\t\t__(label),\n\t\t\t\t\t\t\t\tfrappe.format(value, docfield),\n\t\t\t\t\t\t\t]);\n\t\t\t\t\t\tcase \"<=\":\n\t\t\t\t\t\t\treturn __(\"{0} is less than or equal to {1}\", [\n\t\t\t\t\t\t\t\t__(label),\n\t\t\t\t\t\t\t\tfrappe.format(value, docfield),\n\t\t\t\t\t\t\t]);\n\t\t\t\t\t\tcase \"Between\":\n\t\t\t\t\t\t\treturn __(\"{0} is between {1} and {2}\", [\n\t\t\t\t\t\t\t\t__(label),\n\t\t\t\t\t\t\t\tfrappe.format(value[0], docfield),\n\t\t\t\t\t\t\t\tfrappe.format(value[1], docfield),\n\t\t\t\t\t\t\t]);\n\t\t\t\t\t\tcase \"Timespan\":\n\t\t\t\t\t\t\treturn __(\"{0} is within {1}\", [__(label), __(value)]);\n\t\t\t\t\t\tcase \"in\":\n\t\t\t\t\t\t\treturn __(\"{0} is one of {1}\", [\n\t\t\t\t\t\t\t\t__(label),\n\t\t\t\t\t\t\t\tfrappe.utils.comma_or(\n\t\t\t\t\t\t\t\t\tvalue.map((v) => frappe.format(v, docfield))\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t]);\n\t\t\t\t\t\tcase \"not in\":\n\t\t\t\t\t\t\treturn __(\"{0} is not one of {1}\", [\n\t\t\t\t\t\t\t\t__(label),\n\t\t\t\t\t\t\t\tfrappe.utils.comma_or(\n\t\t\t\t\t\t\t\t\tvalue.map((v) => frappe.format(v, docfield))\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t]);\n\t\t\t\t\t\tcase \"like\":\n\t\t\t\t\t\t\treturn __(\"{0} is like {1}\", [__(label), value]);\n\t\t\t\t\t\tcase \"not like\":\n\t\t\t\t\t\t\treturn __(\"{0} is not like {1}\", [__(label), value]);\n\t\t\t\t\t\tcase \"is\":\n\t\t\t\t\t\t\treturn value === \"set\"\n\t\t\t\t\t\t\t\t? __(\"{0} is set\", [__(label)])\n\t\t\t\t\t\t\t\t: __(\"{0} is not set\", [__(label)]);\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.filter(Boolean)\n\t\t\t\t.join(\"<br>\")\n\t\t);\n\t}\n\n\tget_columns_totals(data) {\n\t\tif (!this.add_totals_row) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst row_totals = {};\n\n\t\tthis.columns.forEach((col, i) => {\n\t\t\tconst totals = data.reduce((totals, d) => {\n\t\t\t\tif (col.id in d && frappe.model.is_numeric_field(col.docfield)) {\n\t\t\t\t\ttotals += flt(d[col.id]);\n\t\t\t\t\treturn totals;\n\t\t\t\t}\n\t\t\t}, 0);\n\n\t\t\trow_totals[col.id] = totals;\n\t\t});\n\n\t\treturn row_totals;\n\t}\n\n\treport_menu_items() {\n\t\tlet items = [\n\t\t\t{\n\t\t\t\tlabel: __(\"Show Totals\"),\n\t\t\t\taction: () => {\n\t\t\t\t\tthis.add_totals_row = !this.add_totals_row;\n\t\t\t\t\tthis.save_view_user_settings({\n\t\t\t\t\t\tadd_totals_row: this.add_totals_row,\n\t\t\t\t\t});\n\t\t\t\t\tthis.datatable.refresh(this.get_data(this.data));\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Print\"),\n\t\t\t\taction: () => {\n\t\t\t\t\t// prepare rows in their current state, sorted and filtered\n\t\t\t\t\tconst rows_in_order = this.datatable.datamanager.rowViewOrder\n\t\t\t\t\t\t.map((index) => {\n\t\t\t\t\t\t\tif (this.datatable.bodyRenderer.visibleRowIndices.includes(index)) {\n\t\t\t\t\t\t\t\treturn this.data[index];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.filter(Boolean);\n\n\t\t\t\t\tif (this.add_totals_row) {\n\t\t\t\t\t\tconst total_data = this.get_columns_totals(this.data);\n\n\t\t\t\t\t\ttotal_data[\"name\"] = __(\"Totals\").bold();\n\t\t\t\t\t\trows_in_order.push(total_data);\n\t\t\t\t\t}\n\n\t\t\t\t\tfrappe.ui.get_print_settings(false, (print_settings) => {\n\t\t\t\t\t\tvar title = this.report_name || __(this.doctype);\n\t\t\t\t\t\tfrappe.render_grid({\n\t\t\t\t\t\t\ttitle: title,\n\t\t\t\t\t\t\tsubtitle: this.get_filters_html_for_print(),\n\t\t\t\t\t\t\tprint_settings: print_settings,\n\t\t\t\t\t\t\tcolumns: this.columns,\n\t\t\t\t\t\t\tdata: rows_in_order,\n\t\t\t\t\t\t\tcan_use_smaller_font: 1,\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Toggle Chart\"),\n\t\t\t\taction: () => this.toggle_charts(),\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Toggle Sidebar\"),\n\t\t\t\taction: () => this.toggle_side_bar(),\n\t\t\t\tshortcut: \"Ctrl+K\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Pick Columns\"),\n\t\t\t\taction: () => {\n\t\t\t\t\tconst d = new frappe.ui.Dialog({\n\t\t\t\t\t\ttitle: __(\"Pick Columns\"),\n\t\t\t\t\t\tfields: this.get_dialog_fields(),\n\t\t\t\t\t\tprimary_action: (values) => {\n\t\t\t\t\t\t\t// doctype fields\n\t\t\t\t\t\t\tlet fields = values[this.doctype].map((f) => [f, this.doctype]);\n\t\t\t\t\t\t\tdelete values[this.doctype];\n\n\t\t\t\t\t\t\t// child table fields\n\t\t\t\t\t\t\tfor (let cdt in values) {\n\t\t\t\t\t\t\t\tfields = fields.concat(values[cdt].map((f) => [f, cdt]));\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// always keep name (ID) column\n\t\t\t\t\t\t\tthis.fields = [[\"name\", this.doctype], ...fields];\n\n\t\t\t\t\t\t\tthis.fields.map((f) => this.add_currency_column(f[0], f[1]));\n\n\t\t\t\t\t\t\tthis.reorder_fields();\n\t\t\t\t\t\t\tthis.build_fields();\n\t\t\t\t\t\t\tthis.setup_columns();\n\n\t\t\t\t\t\t\tthis.datatable.destroy();\n\t\t\t\t\t\t\tthis.datatable = null;\n\t\t\t\t\t\t\tthis.refresh();\n\n\t\t\t\t\t\t\td.hide();\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\n\t\t\t\t\td.$body.prepend(`\n\t\t\t\t\t\t<div class=\"columns-search\">\n\t\t\t\t\t\t\t<input type=\"text\" placeholder=\"${__(\n\t\t\t\t\t\t\t\t\"Search\"\n\t\t\t\t\t\t\t)}\" data-element=\"search\" class=\"form-control input-xs\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t`);\n\n\t\t\t\t\tfrappe.utils.setup_search(d.$body, \".unit-checkbox\", \".label-area\");\n\t\t\t\t\td.show();\n\t\t\t\t},\n\t\t\t},\n\t\t];\n\n\t\tif (frappe.model.can_export(this.doctype)) {\n\t\t\titems.push({\n\t\t\t\tlabel: __(\"Export\"),\n\t\t\t\taction: () => {\n\t\t\t\t\tconst args = this.get_args();\n\t\t\t\t\tconst selected_items = this.get_checked_items(true);\n\n\t\t\t\t\tlet extra_fields = null;\n\t\t\t\t\tif (this.total_count > (this.count_without_children || args.page_length)) {\n\t\t\t\t\t\textra_fields = [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tfieldtype: \"Check\",\n\t\t\t\t\t\t\t\tfieldname: \"export_all_rows\",\n\t\t\t\t\t\t\t\tlabel: __(\"Export All {0} rows?\", [`<b>${this.total_count}</b>`]),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\t\t\t\t\t}\n\n\t\t\t\t\tconst d = frappe.report_utils.get_export_dialog(\n\t\t\t\t\t\t__(this.doctype),\n\t\t\t\t\t\textra_fields,\n\t\t\t\t\t\t(data) => {\n\t\t\t\t\t\t\targs.cmd = \"frappe.desk.reportview.export_query\";\n\t\t\t\t\t\t\targs.file_format_type = data.file_format;\n\t\t\t\t\t\t\targs.title = this.report_name || this.doctype;\n\n\t\t\t\t\t\t\tif (data.file_format == \"CSV\") {\n\t\t\t\t\t\t\t\targs.csv_delimiter = data.csv_delimiter;\n\t\t\t\t\t\t\t\targs.csv_quoting = data.csv_quoting;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (this.add_totals_row) {\n\t\t\t\t\t\t\t\targs.add_totals_row = 1;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (selected_items.length > 0) {\n\t\t\t\t\t\t\t\targs.selected_items = selected_items;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (!data.export_all_rows) {\n\t\t\t\t\t\t\t\targs.start = 0;\n\t\t\t\t\t\t\t\targs.page_length = this.data.length;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdelete args.start;\n\t\t\t\t\t\t\t\tdelete args.page_length;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\topen_url_post(frappe.request.url, args);\n\n\t\t\t\t\t\t\td.hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t\td.show();\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\titems.push({\n\t\t\tlabel: __(\"Setup Auto Email\"),\n\t\t\taction: () => {\n\t\t\t\tif (this.report_name) {\n\t\t\t\t\tfrappe.set_route(\"List\", \"Auto Email Report\", { report: this.report_name });\n\t\t\t\t} else {\n\t\t\t\t\tfrappe.msgprint(__(\"Please save the report first\"));\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\n\t\tconst can_edit_or_delete = (action) => {\n\t\t\tconst method = action == \"delete\" ? \"can_delete\" : \"can_write\";\n\t\t\treturn (\n\t\t\t\tthis.report_doc &&\n\t\t\t\tthis.report_doc.is_standard !== \"Yes\" &&\n\t\t\t\t(frappe.model[method](\"Report\") || this.report_doc.owner === frappe.session.user)\n\t\t\t);\n\t\t};\n\n\t\t// A user with role Report Manager or Report Owner can save\n\t\tif (can_edit_or_delete()) {\n\t\t\titems.push({\n\t\t\t\tlabel: __(\"Save\"),\n\t\t\t\taction: () => this.save_report(\"save\"),\n\t\t\t});\n\t\t}\n\n\t\t// anyone can save as\n\t\titems.push({\n\t\t\tlabel: __(\"Save As\"),\n\t\t\taction: () => this.save_report(\"save_as\"),\n\t\t});\n\n\t\t// A user with role Report Manager or Report Owner can delete\n\t\tif (can_edit_or_delete(\"delete\")) {\n\t\t\titems.push({\n\t\t\t\tlabel: __(\"Delete\"),\n\t\t\t\taction: () =>\n\t\t\t\t\tfrappe.confirm(\"Are you sure you want to delete this report?\", () =>\n\t\t\t\t\t\tthis.delete_report()\n\t\t\t\t\t),\n\t\t\t\tshortcut: \"Shift+Ctrl+D\",\n\t\t\t});\n\t\t}\n\n\t\t// user permissions\n\t\tif (this.report_name && frappe.user.has_role(\"System Manager\")) {\n\t\t\titems.push({\n\t\t\t\tlabel: __(\"User Permissions\"),\n\t\t\t\taction: () => {\n\t\t\t\t\tconst args = {\n\t\t\t\t\t\tdoctype: \"Report\",\n\t\t\t\t\t\tname: this.report_name,\n\t\t\t\t\t};\n\t\t\t\t\tfrappe.set_route(\"List\", \"User Permission\", args);\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tif (frappe.user.has_role(\"System Manager\")) {\n\t\t\tif (this.get_view_settings) {\n\t\t\t\titems.push(this.get_view_settings());\n\t\t\t}\n\t\t}\n\n\t\treturn items.map((i) => Object.assign(i, { standard: true }));\n\t}\n\n\tget_search_params() {\n\t\tlet search_params = super.get_search_params();\n\t\tlet config = this.group_by_control.get_settings();\n\t\tif (config) {\n\t\t\tsearch_params.append(\n\t\t\t\t\"_group_by\",\n\t\t\t\tJSON.stringify([config.group_by, config.aggregate_on, config.aggregate_function])\n\t\t\t);\n\t\t}\n\t\treturn search_params;\n\t}\n\n\tparse_filters_from_route_options() {\n\t\tif (frappe.route_options?._group_by) {\n\t\t\ttry {\n\t\t\t\tlet config = JSON.parse(frappe.route_options._group_by);\n\t\t\t\tthis.group_by_control.apply_settings({\n\t\t\t\t\tgroup_by: config[0],\n\t\t\t\t\taggregate_on: config[1],\n\t\t\t\t\taggregate_function: config[2],\n\t\t\t\t});\n\t\t\t\tdelete frappe.route_options[\"_group_by\"];\n\t\t\t} catch (e) {\n\t\t\t\tconsole.warn(\"Failed to parse group by from URL\", e);\n\t\t\t}\n\t\t}\n\n\t\treturn super.parse_filters_from_route_options();\n\t}\n};\n", "// Copyright (c) 2018, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\nimport DataTable from \"frappe-datatable\";\n\n// Expose DataTable globally to allow customizations.\nwindow.DataTable = DataTable;\n\nfrappe.provide(\"frappe.widget.utils\");\nfrappe.provide(\"frappe.views\");\nfrappe.provide(\"frappe.query_reports\");\n\nfrappe.standard_pages[\"query-report\"] = function () {\n\tvar wrapper = frappe.container.add_page(\"query-report\");\n\n\tfrappe.ui.make_app_page({\n\t\tparent: wrapper,\n\t\ttitle: __(\"Query Report\"),\n\t\tsingle_column: true,\n\t});\n\n\tfrappe.query_report = new frappe.views.QueryReport({\n\t\tparent: wrapper,\n\t});\n\n\t$(wrapper).bind(\"show\", function () {\n\t\tfrappe.query_report.show();\n\t});\n};\n\nfrappe.views.QueryReport = class QueryReport extends frappe.views.BaseList {\n\tshow() {\n\t\tthis.init().then(() => this.load());\n\t}\n\n\tinit() {\n\t\tif (this.init_promise) {\n\t\t\treturn this.init_promise;\n\t\t}\n\n\t\tlet tasks = [\n\t\t\tthis.setup_defaults,\n\t\t\tthis.setup_page,\n\t\t\tthis.setup_report_wrapper,\n\t\t\tthis.setup_events,\n\t\t].map((fn) => fn.bind(this));\n\t\tthis.init_promise = frappe.run_serially(tasks);\n\t\treturn this.init_promise;\n\t}\n\n\tsetup_defaults() {\n\t\tthis.route = frappe.get_route();\n\t\tthis.page_name = frappe.get_route_str();\n\n\t\t// Setup buttons\n\t\tthis.primary_action = null;\n\n\t\t// throttle refresh for 300ms\n\t\tthis.refresh = frappe.utils.throttle(this.refresh, 300);\n\n\t\tthis.ignore_prepared_report = false;\n\t\tthis.menu_items = [];\n\t}\n\n\tupdate_url_with_filters() {\n\t\tif (frappe.get_route_str() == this.page_name) {\n\t\t\twindow.history.replaceState(null, null, this.get_url_with_filters());\n\t\t}\n\t}\n\n\tget_url_with_filters() {\n\t\tconst query_params = Object.entries(this.get_filter_values())\n\t\t\t.map(([field, value], _idx) => {\n\t\t\t\t// multiselects\n\t\t\t\tif (Array.isArray(value)) {\n\t\t\t\t\tif (!value.length) return \"\";\n\t\t\t\t\tvalue = JSON.stringify(value);\n\t\t\t\t}\n\t\t\t\treturn `${field}=${encodeURIComponent(value)}`;\n\t\t\t})\n\t\t\t.filter(Boolean)\n\t\t\t.join(\"&\");\n\n\t\tlet full_url = window.location.href.replace(window.location.search, \"\");\n\t\tif (query_params) {\n\t\t\tfull_url += \"?\" + query_params;\n\t\t}\n\t\treturn full_url;\n\t}\n\n\tset_default_secondary_action() {\n\t\tthis.refresh_button && this.refresh_button.remove();\n\t\tthis.refresh_button = this.page.add_action_icon(\n\t\t\t\"es-line-reload\",\n\t\t\t() => {\n\t\t\t\tthis.setup_progress_bar();\n\t\t\t\tthis.refresh();\n\t\t\t},\n\t\t\t\"\",\n\t\t\t__(\"Reload Report\")\n\t\t);\n\t}\n\n\tget_no_result_message() {\n\t\treturn `<div class=\"msg-box no-border\">\n\t\t\t<div>\n\t\t\t\t<img src=\"/assets/frappe/images/ui-states/list-empty-state.svg\" alt=\"Generic Empty State\" class=\"null-state\">\n\t\t\t</div>\n\t\t\t<p>${__(\"Nothing to show\")}</p>\n\t\t</div>`;\n\t}\n\n\tsetup_events() {\n\t\tfrappe.realtime.on(\"report_generated\", (data) => {\n\t\t\tthis.toggle_primary_button_disabled(false);\n\t\t\tif (data.report_name) {\n\t\t\t\tthis.prepared_report_action = \"Rebuild\";\n\t\t\t\t// If generated report and currently active Prepared Report has same fiters\n\t\t\t\t// then refresh the Prepared Report\n\t\t\t\t// Otherwise show alert with the link to the Prepared Report\n\t\t\t\tif (data.name == this.prepared_report_doc_name) {\n\t\t\t\t\tthis.refresh();\n\t\t\t\t} else {\n\t\t\t\t\tlet alert_message = `Report ${this.report_name} generated.\n\t\t\t\t\t\t<a href=\"#query-report/${this.report_name}/?prepared_report_name=${data.name}\">View</a>`;\n\t\t\t\t\tfrappe.show_alert({ message: alert_message, indicator: \"orange\" });\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tthis.page.wrapper.on(\"click\", \"[data-action]\", (e) => {\n\t\t\tlet action_name = $(e.currentTarget).data(\"action\");\n\t\t\tlet action = this[action_name];\n\t\t\tif (action.call) {\n\t\t\t\taction.call(this, e);\n\t\t\t}\n\t\t});\n\t}\n\n\tload() {\n\t\tif (frappe.get_route().length < 2) {\n\t\t\tthis.toggle_nothing_to_show(true);\n\t\t\treturn;\n\t\t}\n\n\t\tlet route_options = {};\n\t\troute_options = Object.assign(route_options, frappe.route_options);\n\n\t\tif (this.report_name !== frappe.get_route()[1]) {\n\t\t\t// different report\n\t\t\tthis.load_report(route_options);\n\t\t} else if (frappe.has_route_options()) {\n\t\t\t// filters passed through routes\n\t\t\t// so refresh report again\n\t\t\tthis.refresh_report(route_options);\n\t\t} else {\n\t\t\t// same report\n\t\t\t// don't do anything to preserve state\n\t\t\t// like filters and datatable column widths\n\t\t}\n\t}\n\n\tload_report(route_options) {\n\t\tthis.page.clear_inner_toolbar();\n\t\tthis.route = frappe.get_route();\n\t\tthis.page_name = frappe.get_route_str();\n\t\tthis.report_name = this.route[1];\n\t\tthis.page_title = __(this.report_name);\n\t\tthis.show_save = false;\n\t\tthis.menu_items = this.get_menu_items();\n\t\tthis.datatable = null;\n\t\tthis.prepared_report_action = \"New\";\n\n\t\tfrappe.run_serially([\n\t\t\t() => this.get_report_doc(),\n\t\t\t() => this.get_report_settings(),\n\t\t\t() => this.setup_progress_bar(),\n\t\t\t() => this.setup_page_head(),\n\t\t\t() => this.refresh_report(route_options),\n\t\t\t() => this.add_chart_buttons_to_toolbar(true),\n\t\t\t() => this.add_card_button_to_toolbar(true),\n\t\t]);\n\t}\n\n\tadd_card_button_to_toolbar() {\n\t\tif (!frappe.model.can_create(\"Number Card\")) return;\n\t\tthis.page.add_inner_button(\n\t\t\t__(\"Create Card\"),\n\t\t\t() => {\n\t\t\t\tthis.add_card_to_dashboard();\n\t\t\t},\n\t\t\t__(\"Actions\")\n\t\t);\n\t}\n\n\tadd_chart_buttons_to_toolbar(show) {\n\t\tif (!frappe.model.can_create(\"Dashboard Chart\")) return;\n\t\tif (show) {\n\t\t\tthis.create_chart_button && this.create_chart_button.remove();\n\t\t\tthis.create_chart_button = this.page.add_inner_button(\n\t\t\t\t__(\"Set Chart\"),\n\t\t\t\t() => {\n\t\t\t\t\tthis.open_create_chart_dialog();\n\t\t\t\t},\n\t\t\t\t__(\"Actions\")\n\t\t\t);\n\n\t\t\tif (this.chart_fields || this.chart_options) {\n\t\t\t\tthis.add_to_dashboard_button && this.add_to_dashboard_button.remove();\n\t\t\t\tthis.add_to_dashboard_button = this.page.add_inner_button(\n\t\t\t\t\t__(\"Add Chart to Dashboard\"),\n\t\t\t\t\t() => {\n\t\t\t\t\t\tthis.add_chart_to_dashboard();\n\t\t\t\t\t},\n\t\t\t\t\t__(\"Actions\")\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.create_chart_button && this.create_chart_button.remove();\n\t\t\tthis.add_to_dashboard_button && this.add_to_dashboard_button.remove();\n\t\t}\n\t}\n\n\tadd_card_to_dashboard() {\n\t\tlet field_options = frappe.report_utils.get_field_options_from_report(\n\t\t\tthis.columns,\n\t\t\tthis.raw_data\n\t\t);\n\t\tconst dashboard_field = frappe.dashboard_utils.get_dashboard_link_field();\n\t\tconst set_standard = frappe.boot.developer_mode;\n\n\t\tconst dialog = new frappe.ui.Dialog({\n\t\t\ttitle: __(\"Create Card\"),\n\t\t\tfields: [\n\t\t\t\t{\n\t\t\t\t\tfieldname: \"report_field\",\n\t\t\t\t\tlabel: __(\"Field\"),\n\t\t\t\t\tfieldtype: \"Select\",\n\t\t\t\t\toptions: field_options.numeric_fields,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tfieldname: \"cb_1\",\n\t\t\t\t\tfieldtype: \"Column Break\",\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tfieldname: \"report_function\",\n\t\t\t\t\tlabel: __(\"Function\"),\n\t\t\t\t\toptions: [\"Sum\", \"Average\", \"Minimum\", \"Maximum\"],\n\t\t\t\t\tfieldtype: \"Select\",\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tfieldname: \"sb_1\",\n\t\t\t\t\tlabel: __(\"Add to Dashboard\"),\n\t\t\t\t\tfieldtype: \"Section Break\",\n\t\t\t\t},\n\t\t\t\tdashboard_field,\n\t\t\t\t{\n\t\t\t\t\tfieldname: \"cb_2\",\n\t\t\t\t\tfieldtype: \"Column Break\",\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tfieldname: \"label\",\n\t\t\t\t\tlabel: __(\"Card Label\"),\n\t\t\t\t\tfieldtype: \"Data\",\n\t\t\t\t},\n\t\t\t],\n\t\t\tprimary_action_label: __(\"Add\"),\n\t\t\tprimary_action: (values) => {\n\t\t\t\tif (!values.label) {\n\t\t\t\t\tvalues.label = `${values.report_function} of ${toTitle(values.report_field)}`;\n\t\t\t\t}\n\t\t\t\tthis.create_number_card(values, values.dashboard, values.label, set_standard);\n\t\t\t\tdialog.hide();\n\t\t\t},\n\t\t});\n\n\t\tdialog.show();\n\t}\n\n\tadd_chart_to_dashboard() {\n\t\tif (this.chart_fields || this.chart_options) {\n\t\t\tconst dashboard_field = frappe.dashboard_utils.get_dashboard_link_field();\n\t\t\tconst set_standard = frappe.boot.developer_mode;\n\n\t\t\tconst dialog = new frappe.ui.Dialog({\n\t\t\t\ttitle: __(\"Create Chart\"),\n\t\t\t\tfields: [\n\t\t\t\t\t{\n\t\t\t\t\t\tfieldname: \"dashboard_chart_name\",\n\t\t\t\t\t\tlabel: \"Chart Name\",\n\t\t\t\t\t\tfieldtype: \"Data\",\n\t\t\t\t\t},\n\t\t\t\t\tdashboard_field,\n\t\t\t\t],\n\t\t\t\tprimary_action_label: __(\"Add\"),\n\t\t\t\tprimary_action: (values) => {\n\t\t\t\t\tthis.create_dashboard_chart(\n\t\t\t\t\t\tthis.chart_fields || this.chart_options,\n\t\t\t\t\t\tvalues.dashboard,\n\t\t\t\t\t\tvalues.dashboard_chart_name,\n\t\t\t\t\t\tset_standard\n\t\t\t\t\t);\n\t\t\t\t\tdialog.hide();\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tdialog.show();\n\t\t} else {\n\t\t\tfrappe.msgprint(__(\"Please Set Chart\"));\n\t\t}\n\t}\n\n\tcreate_number_card(values, dashboard_name, card_name, set_standard) {\n\t\tlet args = {\n\t\t\tdashboard: dashboard_name || null,\n\t\t\ttype: \"Report\",\n\t\t\treport_name: this.report_name,\n\t\t\tfilters_json: JSON.stringify(this.get_filter_values()),\n\t\t\tset_standard: set_standard,\n\t\t};\n\t\tObject.assign(args, values);\n\n\t\tthis.add_to_dashboard(\n\t\t\t\"frappe.desk.doctype.number_card.number_card.create_report_number_card\",\n\t\t\targs,\n\t\t\tdashboard_name,\n\t\t\tcard_name,\n\t\t\t\"Number Card\"\n\t\t);\n\t}\n\n\tcreate_dashboard_chart(chart_args, dashboard_name, chart_name, set_standard) {\n\t\tlet args = {\n\t\t\tdashboard: dashboard_name || null,\n\t\t\tchart_type: \"Report\",\n\t\t\treport_name: this.report_name,\n\t\t\ttype: chart_args.chart_type || frappe.model.unscrub(chart_args.type),\n\t\t\tcolor: chart_args.color,\n\t\t\tfilters_json: JSON.stringify(this.get_filter_values()),\n\t\t\tcustom_options: {},\n\t\t\tset_standard: set_standard,\n\t\t};\n\n\t\tfor (let key in chart_args) {\n\t\t\tif (key != \"data\") {\n\t\t\t\targs[\"custom_options\"][key] = chart_args[key];\n\t\t\t}\n\t\t}\n\n\t\tif (this.chart_fields) {\n\t\t\tlet x_field_title = toTitle(chart_args.x_field);\n\t\t\tlet y_field_title = toTitle(chart_args.y_fields[0]);\n\t\t\tchart_name = chart_name || `${this.report_name}: ${x_field_title} vs ${y_field_title}`;\n\n\t\t\tObject.assign(args, {\n\t\t\t\tchart_name: chart_name,\n\t\t\t\tx_field: chart_args.x_field,\n\t\t\t\ty_axis: chart_args.y_axis_fields.map((f) => {\n\t\t\t\t\treturn { y_field: f.y_field, color: f.color };\n\t\t\t\t}),\n\t\t\t\tuse_report_chart: 0,\n\t\t\t});\n\t\t} else {\n\t\t\tchart_name = chart_name || this.report_name;\n\t\t\tObject.assign(args, {\n\t\t\t\tchart_name: chart_name,\n\t\t\t\tuse_report_chart: 1,\n\t\t\t});\n\t\t}\n\n\t\tthis.add_to_dashboard(\n\t\t\t\"frappe.desk.doctype.dashboard_chart.dashboard_chart.create_report_chart\",\n\t\t\targs,\n\t\t\tdashboard_name,\n\t\t\tchart_name,\n\t\t\t\"Dashboard Chart\"\n\t\t);\n\t}\n\n\tadd_to_dashboard(method, args, dashboard_name, name, doctype) {\n\t\tfrappe.xcall(method, { args: args }).then(() => {\n\t\t\tlet message;\n\t\t\tif (dashboard_name) {\n\t\t\t\tlet dashboard_route_html = `<a href=\"/app/dashboard-view/${dashboard_name}\">${dashboard_name}</a>`;\n\t\t\t\tmessage = __(\"New {0} {1} added to Dashboard {2}\", [\n\t\t\t\t\t__(doctype),\n\t\t\t\t\tname,\n\t\t\t\t\tdashboard_route_html,\n\t\t\t\t]);\n\t\t\t} else {\n\t\t\t\tmessage = __(\"New {0} {1} created\", [__(doctype), name]);\n\t\t\t}\n\n\t\t\tfrappe.msgprint(message, __(\"New {0} Created\", [__(doctype)]));\n\t\t});\n\t}\n\n\trefresh_report(route_options) {\n\t\tthis.toggle_message(true);\n\t\tthis.toggle_report(false);\n\n\t\treturn frappe.run_serially([\n\t\t\t() => this.setup_filters(),\n\t\t\t() => this.set_route_filters(route_options),\n\t\t\t() => this.page.clear_custom_actions(),\n\t\t\t() => this.report_settings.onload && this.report_settings.onload(this),\n\t\t\t() => this.refresh(),\n\t\t]);\n\t}\n\n\tget_report_doc() {\n\t\treturn frappe.model\n\t\t\t.with_doc(\"Report\", this.report_name)\n\t\t\t.then((doc) => {\n\t\t\t\tthis.report_doc = doc;\n\t\t\t})\n\t\t\t.then(() => frappe.model.with_doctype(this.report_doc.ref_doctype));\n\t}\n\n\tget_report_settings() {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif (frappe.query_reports[this.report_name]) {\n\t\t\t\tthis.report_settings = frappe.query_reports[this.report_name];\n\t\t\t\tresolve();\n\t\t\t} else {\n\t\t\t\tfrappe\n\t\t\t\t\t.xcall(\"frappe.desk.query_report.get_script\", {\n\t\t\t\t\t\treport_name: this.report_name,\n\t\t\t\t\t})\n\t\t\t\t\t.then((settings) => {\n\t\t\t\t\t\tfrappe.dom.eval(settings.script || \"\");\n\t\t\t\t\t\tfrappe.after_ajax(() => {\n\t\t\t\t\t\t\tthis.report_settings = this.get_local_report_settings(\n\t\t\t\t\t\t\t\tsettings.custom_report_name\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tthis.report_settings.html_format = settings.html_format;\n\t\t\t\t\t\t\tthis.report_settings.execution_time = settings.execution_time || 0;\n\t\t\t\t\t\t\tfrappe.query_reports[this.report_name] = this.report_settings;\n\n\t\t\t\t\t\t\tif (this.report_doc.filters && !this.report_settings.filters) {\n\t\t\t\t\t\t\t\t// add configured filters\n\t\t\t\t\t\t\t\tthis.report_settings.filters = this.report_doc.filters;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t\t.catch(reject);\n\t\t\t}\n\t\t});\n\t}\n\n\tget_local_report_settings(custom_report_name) {\n\t\tlet report_script_name =\n\t\t\tthis.report_doc.report_type === \"Custom Report\"\n\t\t\t\t? custom_report_name\n\t\t\t\t\t? custom_report_name\n\t\t\t\t\t: this.report_doc.reference_report\n\t\t\t\t: this.report_name;\n\t\treturn frappe.query_reports[report_script_name] || {};\n\t}\n\n\tsetup_progress_bar() {\n\t\tlet seconds_elapsed = 0;\n\t\tconst execution_time = this.report_settings.execution_time || 0;\n\n\t\tif (execution_time < 5) return;\n\n\t\tthis.interval = setInterval(function () {\n\t\t\tseconds_elapsed += 1;\n\t\t\tfrappe.show_progress(__(\"Preparing Report\"), seconds_elapsed, execution_time);\n\t\t}, 1000);\n\t}\n\n\trefresh_filters_dependency() {\n\t\tthis.filters.forEach((filter) => {\n\t\t\tfilter.guardian_has_value = true;\n\n\t\t\tif (filter.df.depends_on) {\n\t\t\t\tfilter.guardian_has_value = this.evaluate_depends_on_value(\n\t\t\t\t\tfilter.df.depends_on,\n\t\t\t\t\tfilter.df.label\n\t\t\t\t);\n\n\t\t\t\tif (filter.guardian_has_value) {\n\t\t\t\t\tif (filter.df.hidden_due_to_dependency) {\n\t\t\t\t\t\tfilter.df.hidden_due_to_dependency = false;\n\t\t\t\t\t\tthis.toggle_filter_display(filter.df.fieldname, false);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!filter.df.hidden_due_to_dependency) {\n\t\t\t\t\t\tfilter.df.hidden_due_to_dependency = true;\n\t\t\t\t\t\tthis.toggle_filter_display(filter.df.fieldname, true);\n\t\t\t\t\t\tfilter.set_value(filter.df.default || null);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tevaluate_depends_on_value(expression, filter_label) {\n\t\tlet out = null;\n\t\tlet doc = this.get_filter_values();\n\t\tif (doc) {\n\t\t\tif (typeof expression === \"boolean\") {\n\t\t\t\tout = expression;\n\t\t\t} else if (expression.substr(0, 5) == \"eval:\") {\n\t\t\t\ttry {\n\t\t\t\t\tout = frappe.utils.eval(expression.substr(5), { doc });\n\t\t\t\t} catch (e) {\n\t\t\t\t\tfrappe.throw(\n\t\t\t\t\t\t__('Invalid \"depends_on\" expression set in filter {0}', [filter_label])\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar value = doc[expression];\n\t\t\t\tif ($.isArray(value)) {\n\t\t\t\t\tout = !!value.length;\n\t\t\t\t} else {\n\t\t\t\t\tout = !!value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn out;\n\t}\n\n\tsetup_filters() {\n\t\tthis.clear_filters();\n\t\tconst { filters = [] } = this.report_settings;\n\n\t\tlet filter_area = this.page.page_form;\n\n\t\tthis.filters = filters\n\t\t\t.map((df) => {\n\t\t\t\tif (df.fieldtype === \"Break\") return;\n\n\t\t\t\tlet f = this.page.add_field(df, filter_area);\n\n\t\t\t\tif (df.default) {\n\t\t\t\t\tf.set_input(df.default);\n\t\t\t\t}\n\n\t\t\t\tif (df.get_query) f.get_query = df.get_query;\n\t\t\t\tif (df.on_change) f.on_change = df.on_change;\n\n\t\t\t\tdf.onchange = () => {\n\t\t\t\t\tthis.refresh_filters_dependency();\n\n\t\t\t\t\tlet current_filters = this.get_filter_values();\n\t\t\t\t\tif (\n\t\t\t\t\t\tthis.previous_filters &&\n\t\t\t\t\t\tJSON.stringify(this.previous_filters) === JSON.stringify(current_filters)\n\t\t\t\t\t) {\n\t\t\t\t\t\t// filter values have not changed\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// clear previous_filters after 10 seconds, to allow refresh for new data\n\t\t\t\t\tthis.previous_filters = current_filters;\n\t\t\t\t\tsetTimeout(() => (this.previous_filters = null), 10000);\n\n\t\t\t\t\tif (f.on_change) {\n\t\t\t\t\t\tf.on_change(this);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (this.prepared_report) {\n\t\t\t\t\t\t\tthis.reset_report_view();\n\t\t\t\t\t\t} else if (!this._no_refresh) {\n\t\t\t\t\t\t\tthis.refresh(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tf = Object.assign(f, df);\n\n\t\t\t\treturn f;\n\t\t\t})\n\t\t\t.filter(Boolean);\n\n\t\tthis.refresh_filters_dependency();\n\t\tif (this.filters.length === 0) {\n\t\t\t// hide page form if no filters\n\t\t\tthis.page.hide_form();\n\t\t} else {\n\t\t\tthis.page.show_form();\n\t\t}\n\t}\n\n\tset_filters(filters) {\n\t\tthis.filters.map((f) => {\n\t\t\tf.set_input(filters[f.fieldname]);\n\t\t});\n\t}\n\n\tset_route_filters(route_options) {\n\t\tif (!route_options) route_options = frappe.route_options;\n\n\t\tif (route_options) {\n\t\t\tconst fields = Object.keys(route_options);\n\n\t\t\tconst filters_to_set = this.filters.filter((f) => fields.includes(f.df.fieldname));\n\n\t\t\tconst promises = filters_to_set.map((f) => {\n\t\t\t\treturn () => {\n\t\t\t\t\tlet value = route_options[f.df.fieldname];\n\t\t\t\t\tif (typeof value === \"string\" && value[0] === \"[\") {\n\t\t\t\t\t\t// multiselect array\n\t\t\t\t\t\tvalue = JSON.parse(value);\n\t\t\t\t\t}\n\t\t\t\t\tf.set_value(value);\n\t\t\t\t};\n\t\t\t});\n\t\t\tpromises.push(() => {\n\t\t\t\tfrappe.route_options = null;\n\t\t\t});\n\n\t\t\tthis.ignore_prepared_report = route_options[\"ignore_prepared_report\"] || false;\n\n\t\t\treturn frappe.run_serially(promises);\n\t\t}\n\t}\n\n\tclear_filters() {\n\t\tthis.page.clear_fields();\n\t}\n\n\trefresh(have_filters_changed) {\n\t\tthis.toggle_message(true);\n\t\tthis.toggle_report(false);\n\t\tlet filters = this.get_filter_values(true);\n\n\t\t// for custom reports,\n\t\t// are_default_filters is true if the filters haven't been modified and for all filters,\n\t\t// the filter value is the default value or there's no default value for the filter and the current value is empty.\n\t\t// are_default_filters is false otherwise.\n\n\t\tlet are_default_filters = this.filters\n\t\t\t.map((filter) => {\n\t\t\t\treturn (\n\t\t\t\t\t!have_filters_changed &&\n\t\t\t\t\t(filter.default === filter.value || (!filter.default && !filter.value))\n\t\t\t\t);\n\t\t\t})\n\t\t\t.every((res) => res === true);\n\n\t\tthis.show_loading_screen();\n\n\t\t// only one refresh at a time\n\t\tif (this.last_ajax) {\n\t\t\tthis.last_ajax.abort();\n\t\t}\n\n\t\tconst query_params = this.get_query_params();\n\n\t\tif (query_params.prepared_report_name) {\n\t\t\tfilters.prepared_report_name = query_params.prepared_report_name;\n\t\t}\n\n\t\treturn new Promise((resolve) => {\n\t\t\tthis.last_ajax = frappe.call({\n\t\t\t\tmethod: \"frappe.desk.query_report.run\",\n\t\t\t\ttype: \"GET\",\n\t\t\t\targs: {\n\t\t\t\t\treport_name: this.report_name,\n\t\t\t\t\tfilters: filters,\n\t\t\t\t\tignore_prepared_report: this.ignore_prepared_report,\n\t\t\t\t\tis_tree: this.report_settings.tree,\n\t\t\t\t\tparent_field: this.report_settings.parent_field,\n\t\t\t\t\tare_default_filters: are_default_filters,\n\t\t\t\t},\n\t\t\t\tcallback: resolve,\n\t\t\t\talways: () => this.page.btn_secondary.prop(\"disabled\", false),\n\t\t\t});\n\t\t})\n\t\t\t.then((r) => {\n\t\t\t\tlet data = r.message;\n\t\t\t\tthis.hide_status();\n\t\t\t\tclearInterval(this.interval);\n\n\t\t\t\tthis.execution_time = data.execution_time || 0.1;\n\n\t\t\t\tif (data.custom_filters) {\n\t\t\t\t\tthis.set_filters(data.custom_filters);\n\t\t\t\t\tthis.previous_filters = data.custom_filters;\n\t\t\t\t}\n\n\t\t\t\tif (data.prepared_report) {\n\t\t\t\t\tthis.prepared_report = true;\n\t\t\t\t\tthis.prepared_report_document = data.doc;\n\t\t\t\t\t// If query_string contains prepared_report_name then set filters\n\t\t\t\t\t// to match the mentioned prepared report doc and disable editing\n\t\t\t\t\tif (query_params.prepared_report_name) {\n\t\t\t\t\t\tthis.prepared_report_action = \"Edit\";\n\t\t\t\t\t\tconst filters_from_report = JSON.parse(data.doc.filters);\n\t\t\t\t\t\tObject.values(this.filters).forEach(function (field) {\n\t\t\t\t\t\t\tif (filters_from_report[field.fieldname]) {\n\t\t\t\t\t\t\t\tfield.set_input(filters_from_report[field.fieldname]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (field.input) {\n\t\t\t\t\t\t\t\tfield.input.disabled = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tthis.add_prepared_report_buttons(data.doc);\n\t\t\t\t}\n\n\t\t\t\tif (data.report_summary) {\n\t\t\t\t\tthis.$summary.empty();\n\t\t\t\t\tthis.render_summary(data.report_summary);\n\t\t\t\t}\n\n\t\t\t\tif (data.message && !data.prepared_report) this.show_status(data.message);\n\n\t\t\t\tthis.toggle_message(false);\n\t\t\t\tif (data.result && data.result.length) {\n\t\t\t\t\tthis.prepare_report_data(data);\n\t\t\t\t\tthis.chart_options = this.get_chart_options(data);\n\n\t\t\t\t\tthis.$chart.empty();\n\t\t\t\t\tif (this.chart_options) {\n\t\t\t\t\t\tthis.render_chart(this.chart_options);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.$chart.empty();\n\t\t\t\t\t\tif (this.chart_fields) {\n\t\t\t\t\t\t\tthis.chart_options = frappe.report_utils.make_chart_options(\n\t\t\t\t\t\t\t\tthis.columns,\n\t\t\t\t\t\t\t\tthis.raw_data,\n\t\t\t\t\t\t\t\tthis.chart_fields\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tthis.chart_options && this.render_chart(this.chart_options);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.render_datatable();\n\t\t\t\t\tthis.add_chart_buttons_to_toolbar(true);\n\t\t\t\t\tthis.add_card_button_to_toolbar();\n\t\t\t\t\tthis.$report.show();\n\t\t\t\t} else {\n\t\t\t\t\tthis.data = [];\n\t\t\t\t\tthis.toggle_nothing_to_show(true);\n\t\t\t\t\tthis.add_chart_buttons_to_toolbar(false);\n\t\t\t\t}\n\n\t\t\t\tthis.show_footer_message();\n\t\t\t\tfrappe.hide_progress();\n\t\t\t})\n\t\t\t.finally(() => {\n\t\t\t\tthis.hide_loading_screen();\n\t\t\t\tthis.update_url_with_filters();\n\t\t\t});\n\t}\n\n\trender_summary(data) {\n\t\tdata.forEach((summary) => {\n\t\t\tfrappe.utils.build_summary_item(summary).appendTo(this.$summary);\n\t\t});\n\n\t\tthis.$summary.show();\n\t}\n\n\tget_query_params() {\n\t\tconst query_string = frappe.utils.get_query_string(frappe.get_route_str());\n\t\treturn frappe.utils.get_query_params(query_string);\n\t}\n\n\tadd_prepared_report_buttons(doc) {\n\t\tif (doc) {\n\t\t\tthis.page.add_inner_button(__(\"Download Report\"), function () {\n\t\t\t\twindow.open(\n\t\t\t\t\tfrappe.urllib.get_full_url(\n\t\t\t\t\t\t\"/api/method/frappe.core.doctype.prepared_report.prepared_report.download_attachment?\" +\n\t\t\t\t\t\t\t\"dn=\" +\n\t\t\t\t\t\t\tencodeURIComponent(doc.name)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t});\n\n\t\t\tlet pretty_diff = frappe.datetime.comment_when(doc.report_end_time);\n\t\t\tconst days_old = frappe.datetime.get_day_diff(\n\t\t\t\tfrappe.datetime.now_datetime(),\n\t\t\t\tdoc.report_end_time\n\t\t\t);\n\t\t\tif (days_old > 1) {\n\t\t\t\tpretty_diff = `<span style=\"color:var(--red-600)\">${pretty_diff}</span>`;\n\t\t\t}\n\t\t\tconst part1 = __(\"This report was generated {0}.\", [pretty_diff]);\n\t\t\tconst part2 = __(\"To get the updated report, click on {0}.\", [__(\"Rebuild\")]);\n\t\t\tconst part3 = __(\"See all past reports.\");\n\n\t\t\tthis.show_status(`\n\t\t\t\t<div class=\"indicator orange\">\n\t\t\t\t\t<span>\n\t\t\t\t\t\t${part1}\n\t\t\t\t\t\t${part2}\n\t\t\t\t\t\t<a href=\"/app/List/Prepared%20Report?report_name=${this.report_name}\"> ${part3}</a>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t`);\n\t\t}\n\n\t\t// Three cases\n\t\t// 1. First time with given filters, no data.\n\t\t// 2. Showing data from specific report\n\t\t// 3. Showing data from an old report without specific report name\n\t\tthis.primary_action_map = {\n\t\t\tNew: {\n\t\t\t\tlabel: __(\"Generate New Report\"),\n\t\t\t\tclick: () => {\n\t\t\t\t\tthis.show_warning_or_generate_report();\n\t\t\t\t},\n\t\t\t},\n\t\t\tEdit: {\n\t\t\t\tlabel: __(\"Edit\"),\n\t\t\t\tclick: () => {\n\t\t\t\t\tfrappe.set_route(frappe.get_route());\n\t\t\t\t},\n\t\t\t},\n\t\t\tRebuild: {\n\t\t\t\tlabel: __(\"Rebuild\"),\n\t\t\t\tclick: () => {\n\t\t\t\t\tthis.show_warning_or_generate_report();\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\n\t\tlet primary_action = this.primary_action_map[this.prepared_report_action];\n\n\t\tif (!this.primary_button || this.primary_button.text() !== primary_action.label) {\n\t\t\tthis.primary_button = this.page.set_primary_action(\n\t\t\t\tprimary_action.label,\n\t\t\t\tprimary_action.click\n\t\t\t);\n\t\t}\n\t}\n\n\ttoggle_primary_button_disabled(disable) {\n\t\tthis.primary_button.prop(\"disabled\", disable);\n\t}\n\n\tshow_warning_or_generate_report() {\n\t\tfrappe\n\t\t\t.xcall(\n\t\t\t\t\"frappe.core.doctype.prepared_report.prepared_report.get_reports_in_queued_state\",\n\t\t\t\t{\n\t\t\t\t\tfilters: this.get_filter_values(),\n\t\t\t\t\treport_name: this.report_name,\n\t\t\t\t}\n\t\t\t)\n\t\t\t.then((reports) => {\n\t\t\t\tthis.queued_prepared_reports = reports;\n\n\t\t\t\tif (reports.length) {\n\t\t\t\t\tconst message = this.get_queued_prepared_reports_warning_message(reports);\n\t\t\t\t\tthis.prepared_report_dialog = frappe.warn(\n\t\t\t\t\t\t__(\"Reports already in Queue\"),\n\t\t\t\t\t\tmessage,\n\t\t\t\t\t\t() => this.generate_background_report(),\n\t\t\t\t\t\t__(\"Proceed Anyway\"),\n\t\t\t\t\t\ttrue\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.prepared_report_dialog.footer.prepend(`\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-sm btn-default pull-left\" data-action=\"delete_old_queued_reports\">\n\t\t\t\t\t\t${__(\"Delete and Generate New\")}\n\t\t\t\t\t</button>`);\n\n\t\t\t\t\tfrappe.utils.bind_actions_with_object(\n\t\t\t\t\t\tthis.prepared_report_dialog.wrapper,\n\t\t\t\t\t\tthis\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tthis.generate_background_report();\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tget_queued_prepared_reports_warning_message(reports) {\n\t\tconst route = `/app/List/Prepared Report/List?status=Queued&report_name=${this.report_name}`;\n\t\tconst report_link_html =\n\t\t\treports.length == 1\n\t\t\t\t? `<a class=\"underline\" href=\"${route}\">${__(\"1 Report\")}</a>`\n\t\t\t\t: `<a class=\"underline\" href=\"${route}\">${__(\"{0} Reports\", [\n\t\t\t\t\t\treports.length,\n\t\t\t\t  ])}</a>`;\n\n\t\tconst no_of_reports_html =\n\t\t\treports.length == 1\n\t\t\t\t? `${__(\"There is {0} with the same filters already in the queue:\", [\n\t\t\t\t\t\treport_link_html,\n\t\t\t\t  ])}`\n\t\t\t\t: `${__(\"There are {0} with the same filters already in the queue:\", [\n\t\t\t\t\t\treport_link_html,\n\t\t\t\t  ])}`;\n\n\t\tlet warning_message = `\n\t\t\t<p>\n\t\t\t\t${__(\"Are you sure you want to generate a new report?\")}\n\t\t\t\t${no_of_reports_html}\n\t\t\t</p>`;\n\n\t\tlet get_item_html = (item) =>\n\t\t\t`<a class=\"underline\" href=\"/app/prepared-report/${item.name}\">${item.name}</a>`;\n\n\t\twarning_message += reports.map(get_item_html).join(\", \");\n\n\t\treturn warning_message;\n\t}\n\n\tdelete_old_queued_reports() {\n\t\tthis.prepared_report_dialog.hide();\n\t\tfrappe\n\t\t\t.xcall(\"frappe.core.doctype.prepared_report.prepared_report.delete_prepared_reports\", {\n\t\t\t\treports: this.queued_prepared_reports,\n\t\t\t})\n\t\t\t.then(() => this.generate_background_report());\n\t}\n\n\tgenerate_background_report() {\n\t\tthis.toggle_primary_button_disabled(true);\n\t\tlet mandatory = this.filters.filter((f) => f.df.reqd);\n\t\tlet missing_mandatory = mandatory.filter((f) => !f.get_value());\n\t\tif (!missing_mandatory.length) {\n\t\t\tlet filters = this.get_filter_values(true);\n\t\t\treturn new Promise((resolve) =>\n\t\t\t\tfrappe.call({\n\t\t\t\t\tmethod: \"frappe.core.doctype.prepared_report.prepared_report.make_prepared_report\",\n\t\t\t\t\targs: {\n\t\t\t\t\t\treport_name: this.report_name,\n\t\t\t\t\t\tfilters: filters,\n\t\t\t\t\t},\n\t\t\t\t\tcallback: resolve,\n\t\t\t\t})\n\t\t\t).then((r) => {\n\t\t\t\tconst data = r.message;\n\t\t\t\t// Rememeber the name of Prepared Report doc\n\t\t\t\tthis.prepared_report_doc_name = data.name;\n\t\t\t\tlet alert_message =\n\t\t\t\t\t`<a href='/app/prepared-report/${data.name}'>` +\n\t\t\t\t\t__(\"Report initiated, click to view status\") +\n\t\t\t\t\t`</a>`;\n\t\t\t\tfrappe.show_alert({ message: alert_message, indicator: \"orange\" }, 10);\n\t\t\t\tthis.toggle_nothing_to_show(true);\n\t\t\t});\n\t\t}\n\t}\n\n\tprepare_report_data(data) {\n\t\tthis.raw_data = data;\n\t\tthis.columns = this.prepare_columns(data.columns);\n\t\tthis.custom_columns = [];\n\t\tthis.data = this.prepare_data(data.result);\n\t\tthis.linked_doctypes = this.get_linked_doctypes();\n\t\tthis.tree_report = this.data.some((d) => \"indent\" in d);\n\t}\n\n\trender_datatable() {\n\t\tlet data = this.data;\n\t\tlet columns = this.columns.filter((col) => !col.hidden);\n\n\t\tif (this.raw_data.add_total_row && !this.report_settings.tree) {\n\t\t\tdata = data.slice();\n\t\t\tdata.splice(-1, 1);\n\t\t}\n\n\t\tthis.$report.show();\n\t\tif (\n\t\t\tthis.datatable &&\n\t\t\tthis.datatable.options &&\n\t\t\tthis.datatable.options.showTotalRow === this.raw_data.add_total_row\n\t\t) {\n\t\t\tthis.datatable.options.treeView = this.tree_report;\n\t\t\tthis.datatable.refresh(data, columns);\n\t\t} else {\n\t\t\tlet datatable_options = {\n\t\t\t\tcolumns: columns,\n\t\t\t\tdata: data,\n\t\t\t\tinlineFilters: true,\n\t\t\t\tlanguage: frappe.boot.lang,\n\t\t\t\ttranslations: frappe.utils.datatable.get_translations(),\n\t\t\t\ttreeView: this.tree_report,\n\t\t\t\tlayout: \"fixed\",\n\t\t\t\tcellHeight: 33,\n\t\t\t\tshowTotalRow: this.raw_data.add_total_row && !this.report_settings.tree,\n\t\t\t\tdirection: frappe.utils.is_rtl() ? \"rtl\" : \"ltr\",\n\t\t\t\thooks: {\n\t\t\t\t\tcolumnTotal: frappe.utils.report_column_total,\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tif (this.report_settings.get_datatable_options) {\n\t\t\t\tdatatable_options = this.report_settings.get_datatable_options(datatable_options);\n\t\t\t}\n\t\t\tthis.datatable = new window.DataTable(this.$report[0], datatable_options);\n\t\t}\n\n\t\tif (typeof this.report_settings.initial_depth == \"number\") {\n\t\t\tthis.datatable.rowmanager.setTreeDepth(this.report_settings.initial_depth);\n\t\t}\n\t\tif (this.report_settings.after_datatable_render) {\n\t\t\tthis.report_settings.after_datatable_render(this.datatable);\n\t\t}\n\t}\n\n\tshow_loading_screen() {\n\t\tconst loading_state = `<div class=\"msg-box no-border\">\n\t\t\t<div>\n\t\t\t\t<img src=\"/assets/frappe/images/ui-states/list-empty-state.svg\" alt=\"Generic Empty State\" class=\"null-state\">\n\t\t\t</div>\n\t\t\t<p>${__(\"Loading\")}...</p>\n\t\t</div>`;\n\n\t\tthis.$loading.find(\"div\").html(loading_state);\n\t\tthis.$report.hide();\n\t\tthis.$loading.show();\n\t}\n\n\thide_loading_screen() {\n\t\tthis.$loading.hide();\n\t}\n\n\tget_chart_options(data) {\n\t\tlet options = this.report_settings.get_chart_data\n\t\t\t? this.report_settings.get_chart_data(data.columns, data.result)\n\t\t\t: data.chart\n\t\t\t? data.chart\n\t\t\t: undefined;\n\n\t\tif (!(options && options.data && options.data.labels && options.data.labels.length > 0))\n\t\t\treturn;\n\n\t\tif (options.fieldtype) {\n\t\t\toptions.tooltipOptions = {\n\t\t\t\tformatTooltipY: (d) =>\n\t\t\t\t\tfrappe.format(d, {\n\t\t\t\t\t\tfieldtype: options.fieldtype,\n\t\t\t\t\t\toptions: options.options,\n\t\t\t\t\t}),\n\t\t\t};\n\t\t}\n\t\toptions.axisOptions = {\n\t\t\tshortenYAxisNumbers: 1,\n\t\t\tnumberFormatter: frappe.utils.format_chart_axis_number,\n\t\t};\n\t\toptions.height = 280;\n\t\treturn options;\n\t}\n\n\trender_chart(options) {\n\t\tthis.$chart.empty();\n\t\tthis.$chart.show();\n\t\tthis.chart = new frappe.Chart(this.$chart[0], options);\n\t}\n\n\topen_create_chart_dialog() {\n\t\tconst me = this;\n\t\tlet field_options = frappe.report_utils.get_field_options_from_report(\n\t\t\tthis.columns,\n\t\t\tthis.raw_data\n\t\t);\n\n\t\tfunction set_chart_values(values) {\n\t\t\tvalues.y_fields = [];\n\t\t\tvalues.colors = [];\n\t\t\tif (values.y_axis_fields) {\n\t\t\t\tvalues.y_axis_fields.map((f) => {\n\t\t\t\t\tvalues.y_fields.push(f.y_field);\n\t\t\t\t\tvalues.colors.push(f.color);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tvalues.y_fields = values.y_fields.map((d) => d.trim()).filter(Boolean);\n\n\t\t\treturn values;\n\t\t}\n\n\t\tfunction preview_chart() {\n\t\t\tconst wrapper = $(dialog.fields_dict[\"chart_preview\"].wrapper);\n\t\t\tlet values = dialog.get_values(true);\n\t\t\tvalues = set_chart_values(values);\n\n\t\t\tif (values.x_field && values.y_fields.length) {\n\t\t\t\tlet options = frappe.report_utils.make_chart_options(\n\t\t\t\t\tme.columns,\n\t\t\t\t\tme.raw_data,\n\t\t\t\t\tvalues\n\t\t\t\t);\n\t\t\t\tme.chart_fields = values;\n\t\t\t\twrapper.empty();\n\t\t\t\tnew frappe.Chart(wrapper[0], options);\n\t\t\t\twrapper.find(\".chart-container .title, .chart-container .sub-title\").hide();\n\t\t\t\twrapper.show();\n\n\t\t\t\tdialog.fields_dict[\"create_dashoard_chart\"].df.hidden = 0;\n\t\t\t\tdialog.refresh();\n\t\t\t} else {\n\t\t\t\twrapper[0].innerHTML = `<div class=\"flex justify-center align-center text-muted\" style=\"height: 120px; display: flex;\">\n\t\t\t\t\t<div>${__(\"Please select X and Y fields\")}</div>\n\t\t\t\t</div>`;\n\t\t\t}\n\t\t}\n\n\t\tconst dialog = new frappe.ui.Dialog({\n\t\t\ttitle: __(\"Create Chart\"),\n\t\t\tfields: [\n\t\t\t\t{\n\t\t\t\t\tfieldname: \"x_field\",\n\t\t\t\t\tlabel: \"X Field\",\n\t\t\t\t\tfieldtype: \"Select\",\n\t\t\t\t\tdefault: me.chart_fields ? me.chart_fields.x_field : null,\n\t\t\t\t\toptions: field_options.non_numeric_fields,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tfieldname: \"cb_1\",\n\t\t\t\t\tfieldtype: \"Column Break\",\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tfieldname: \"chart_type\",\n\t\t\t\t\tlabel: \"Type of Chart\",\n\t\t\t\t\tfieldtype: \"Select\",\n\t\t\t\t\toptions: [\"Bar\", \"Line\", \"Percentage\", \"Pie\", \"Donut\"],\n\t\t\t\t\tdefault: me.chart_fields ? me.chart_fields.chart_type : \"Bar\",\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tfieldname: \"sb_1\",\n\t\t\t\t\tfieldtype: \"Section Break\",\n\t\t\t\t\tlabel: \"Y Axis\",\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tfieldname: \"y_axis_fields\",\n\t\t\t\t\tfieldtype: \"Table\",\n\t\t\t\t\tfields: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfieldtype: \"Select\",\n\t\t\t\t\t\t\tfieldname: \"y_field\",\n\t\t\t\t\t\t\tname: \"y_field\",\n\t\t\t\t\t\t\tlabel: __(\"Y Field\"),\n\t\t\t\t\t\t\toptions: field_options.numeric_fields,\n\t\t\t\t\t\t\tin_list_view: 1,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfieldtype: \"Color\",\n\t\t\t\t\t\t\tfieldname: \"color\",\n\t\t\t\t\t\t\tname: \"color\",\n\t\t\t\t\t\t\tlabel: __(\"Color\"),\n\t\t\t\t\t\t\tin_list_view: 1,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tfieldname: \"preview_chart_button\",\n\t\t\t\t\tfieldtype: \"Button\",\n\t\t\t\t\tlabel: \"Preview Chart\",\n\t\t\t\t\tclick: preview_chart,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tfieldname: \"sb_2\",\n\t\t\t\t\tfieldtype: \"Section Break\",\n\t\t\t\t\tlabel: \"Chart Preview\",\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tfieldname: \"chart_preview\",\n\t\t\t\t\tlabel: \"Chart Preview\",\n\t\t\t\t\tfieldtype: \"HTML\",\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tfieldname: \"create_dashoard_chart\",\n\t\t\t\t\tlabel: \"Add Chart to Dashboard\",\n\t\t\t\t\tfieldtype: \"Button\",\n\t\t\t\t\thidden: 1,\n\t\t\t\t\tclick: () => {\n\t\t\t\t\t\tdialog.hide();\n\t\t\t\t\t\tthis.add_chart_to_dashboard();\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t\tprimary_action_label: __(\"Create\"),\n\t\t\tprimary_action: (values) => {\n\t\t\t\tvalues = set_chart_values(values);\n\n\t\t\t\tlet options = frappe.report_utils.make_chart_options(\n\t\t\t\t\tthis.columns,\n\t\t\t\t\tthis.raw_data,\n\t\t\t\t\tvalues\n\t\t\t\t);\n\t\t\t\tme.chart_fields = values;\n\n\t\t\t\tlet x_field_label = field_options.numeric_fields.filter(\n\t\t\t\t\t(field) => field.value == values.y_fields[0]\n\t\t\t\t)[0].label;\n\t\t\t\tlet y_field_label = field_options.non_numeric_fields.filter(\n\t\t\t\t\t(field) => field.value == values.x_field\n\t\t\t\t)[0].label;\n\n\t\t\t\toptions.title = __(\"{0}: {1} vs {2}\", [\n\t\t\t\t\tthis.report_name,\n\t\t\t\t\tx_field_label,\n\t\t\t\t\ty_field_label,\n\t\t\t\t]);\n\n\t\t\t\tthis.render_chart(options);\n\t\t\t\tthis.add_chart_buttons_to_toolbar(true);\n\n\t\t\t\tdialog.hide();\n\t\t\t},\n\t\t});\n\n\t\tdialog.show();\n\n\t\t// load preview after dialog animation\n\t\tsetTimeout(preview_chart, 500);\n\t}\n\n\tprepare_columns(columns) {\n\t\treturn columns.map((column) => {\n\t\t\tcolumn = frappe.report_utils.prepare_field_from_column(column);\n\n\t\t\tconst format_cell = (value, row, column, data) => {\n\t\t\t\tif (column.isHeader && !data && this.data) {\n\t\t\t\t\t// totalRow doesn't have a data object\n\t\t\t\t\t// proxy it using the first data object\n\t\t\t\t\t// applied to Float, Currency fields, needed only for currency formatting.\n\t\t\t\t\t// make first data column have value 'Total'\n\t\t\t\t\tlet index = 1;\n\n\t\t\t\t\tif (this.report_settings.get_datatable_options) {\n\t\t\t\t\t\tlet datatable = this.report_settings.get_datatable_options({});\n\t\t\t\t\t\tif (datatable && datatable.checkboxColumn) index = 2;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (column.colIndex === index && !value) {\n\t\t\t\t\t\tvalue = \"Total\";\n\t\t\t\t\t\tcolumn = { fieldtype: \"Data\" }; // avoid type issues for value if Date column\n\t\t\t\t\t} else if ([\"Currency\", \"Float\"].includes(column.fieldtype)) {\n\t\t\t\t\t\t// proxy for currency and float\n\t\t\t\t\t\tdata = this.data[0];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn frappe.format(\n\t\t\t\t\tvalue,\n\t\t\t\t\tcolumn,\n\t\t\t\t\t{ for_print: false, always_show_decimals: true },\n\t\t\t\t\tdata\n\t\t\t\t);\n\t\t\t};\n\n\t\t\tlet compareFn = null;\n\t\t\tif (column.fieldtype === \"Date\") {\n\t\t\t\tcompareFn = (cell, keyword) => {\n\t\t\t\t\tif (!cell.content) return null;\n\t\t\t\t\tif (keyword.length !== \"YYYY-MM-DD\".length) return null;\n\n\t\t\t\t\tconst keywordValue = frappe.datetime.user_to_obj(keyword);\n\t\t\t\t\tconst cellValue = frappe.datetime.str_to_obj(cell.content);\n\t\t\t\t\treturn [+cellValue, +keywordValue];\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn Object.assign(column, {\n\t\t\t\tid: column.fieldname,\n\t\t\t\t// The column label should have already been translated in the\n\t\t\t\t// backend. Translating it again would cause unexpected behaviour.\n\t\t\t\tname: column.label,\n\t\t\t\twidth: parseInt(column.width) || null,\n\t\t\t\teditable: false,\n\t\t\t\tcompareValue: compareFn,\n\t\t\t\tformat: (value, row, column, data, filter) => {\n\t\t\t\t\tif (this.report_settings.formatter) {\n\t\t\t\t\t\treturn this.report_settings.formatter(\n\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\trow,\n\t\t\t\t\t\t\tcolumn,\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t\tformat_cell,\n\t\t\t\t\t\t\tfilter\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\treturn format_cell(value, row, column, data);\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tprepare_data(data) {\n\t\treturn data.map((row) => {\n\t\t\tlet row_obj = {};\n\t\t\tif (Array.isArray(row)) {\n\t\t\t\tthis.columns.forEach((column, i) => {\n\t\t\t\t\trow_obj[column.id] = row[i];\n\t\t\t\t});\n\n\t\t\t\treturn row_obj;\n\t\t\t}\n\t\t\treturn row;\n\t\t});\n\t}\n\n\tget_visible_columns() {\n\t\tconst visible_column_ids = this.datatable.datamanager\n\t\t\t.getColumns(true)\n\t\t\t.map((col) => col.id);\n\n\t\treturn visible_column_ids\n\t\t\t.map((id) => this.columns.find((col) => col.id === id))\n\t\t\t.filter(Boolean);\n\t}\n\n\tget_filter_values(raise) {\n\t\t// check for mandatory property for filters added via UI\n\t\tconst mandatory = this.filters.filter((f) => f.df.reqd || f.df.mandatory);\n\t\tconst missing_mandatory = mandatory.filter((f) => !f.get_value());\n\t\tif (raise && missing_mandatory.length > 0) {\n\t\t\tlet message = __(\"Please set filters\");\n\t\t\tthis.hide_loading_screen();\n\t\t\tthis.toggle_message(raise, message);\n\t\t\tthrow \"Filter missing\";\n\t\t}\n\n\t\traise && this.toggle_message(false);\n\n\t\treturn this.filters\n\t\t\t.filter((f) => f.get_value())\n\t\t\t.map((f) => {\n\t\t\t\tvar v = f.get_value();\n\t\t\t\t// hidden fields dont have $input\n\t\t\t\tif (f.df.hidden) v = f.value;\n\t\t\t\tif (v === \"%\") v = null;\n\t\t\t\tif (f.df.wildcard_filter) {\n\t\t\t\t\tv = `%${v}%`;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\t[f.df.fieldname]: v,\n\t\t\t\t};\n\t\t\t})\n\t\t\t.reduce((acc, f) => {\n\t\t\t\tObject.assign(acc, f);\n\t\t\t\treturn acc;\n\t\t\t}, {});\n\t}\n\n\tget_filter(fieldname) {\n\t\tconst field = (this.filters || []).find((f) => f.df.fieldname === fieldname);\n\t\tif (!field) {\n\t\t\tconsole.warn(`[Query Report] Invalid filter: ${fieldname}`);\n\t\t}\n\t\treturn field;\n\t}\n\n\tget_filter_value(fieldname) {\n\t\tconst field = this.get_filter(fieldname);\n\t\treturn field ? field.get_value() : null;\n\t}\n\n\tset_filter_value(fieldname, value) {\n\t\tlet field_value_map = {};\n\t\tif (typeof fieldname === \"string\") {\n\t\t\tfield_value_map[fieldname] = value;\n\t\t} else {\n\t\t\tfield_value_map = fieldname;\n\t\t}\n\n\t\tthis._no_refresh = true;\n\t\tObject.keys(field_value_map).forEach((fieldname, i, arr) => {\n\t\t\tconst value = field_value_map[fieldname];\n\n\t\t\tif (i === arr.length - 1) {\n\t\t\t\tthis._no_refresh = false;\n\t\t\t}\n\n\t\t\tthis.get_filter(fieldname).set_value(value);\n\t\t});\n\t}\n\n\tset_breadcrumbs() {\n\t\tif (!this.report_doc || !this.report_doc.ref_doctype) return;\n\t\tconst ref_doctype = frappe.get_meta(this.report_doc.ref_doctype);\n\t\tfrappe.breadcrumbs.add(ref_doctype.module);\n\t}\n\n\tmake_access_log(method, file_format) {\n\t\tfrappe.call(\"frappe.core.doctype.access_log.access_log.make_access_log\", {\n\t\t\tdoctype: this.doctype || \"\",\n\t\t\treport_name: this.report_name,\n\t\t\tfilters: this.get_filter_values(),\n\t\t\tfile_type: file_format,\n\t\t\tmethod: method,\n\t\t});\n\t}\n\n\tprint_report(print_settings) {\n\t\tconst custom_format = this.report_settings.html_format || null;\n\t\tconst filters_html = this.get_filters_html_for_print();\n\t\tconst landscape = print_settings.orientation == \"Landscape\";\n\n\t\tthis.make_access_log(\"Print\", \"PDF\");\n\t\tfrappe.render_grid({\n\t\t\ttemplate: print_settings.columns ? \"print_grid\" : custom_format,\n\t\t\ttitle: __(this.report_name),\n\t\t\tsubtitle: filters_html,\n\t\t\tprint_settings: print_settings,\n\t\t\tlandscape: landscape,\n\t\t\tfilters: this.get_filter_values(),\n\t\t\tdata: this.get_data_for_print(),\n\t\t\tcolumns: this.get_columns_for_print(print_settings, custom_format),\n\t\t\toriginal_data: this.data,\n\t\t\treport: this,\n\t\t\tcan_use_smaller_font: this.report_doc.is_standard === \"Yes\" && custom_format ? 0 : 1,\n\t\t});\n\t}\n\n\tpdf_report(print_settings) {\n\t\tconst base_url = frappe.urllib.get_base_url();\n\t\tconst print_css = frappe.boot.print_css;\n\t\tconst landscape = print_settings.orientation == \"Landscape\";\n\n\t\tconst custom_format = this.report_settings.html_format || null;\n\t\tconst columns = this.get_columns_for_print(print_settings, custom_format);\n\t\tconst data = this.get_data_for_print();\n\t\tconst applied_filters = this.get_filter_values();\n\n\t\tconst filters_html = this.get_filters_html_for_print();\n\t\tconst template = print_settings.columns || !custom_format ? \"print_grid\" : custom_format;\n\t\tconst content = frappe.render_template(template, {\n\t\t\ttitle: __(this.report_name),\n\t\t\tsubtitle: filters_html,\n\t\t\tfilters: applied_filters,\n\t\t\tdata: data,\n\t\t\toriginal_data: this.data,\n\t\t\tcolumns: columns,\n\t\t\treport: this,\n\t\t});\n\n\t\t// Render Report in HTML\n\t\tconst html = frappe.render_template(\"print_template\", {\n\t\t\ttitle: __(this.report_name),\n\t\t\tcontent: content,\n\t\t\tbase_url: base_url,\n\t\t\tprint_css: print_css,\n\t\t\tprint_settings: print_settings,\n\t\t\tlandscape: landscape,\n\t\t\tcolumns: columns,\n\t\t\tlang: frappe.boot.lang,\n\t\t\tlayout_direction: frappe.utils.is_rtl() ? \"rtl\" : \"ltr\",\n\t\t\tcan_use_smaller_font: this.report_doc.is_standard === \"Yes\" && custom_format ? 0 : 1,\n\t\t});\n\n\t\tlet filter_values = [],\n\t\t\tname_len = 0;\n\t\tfor (var key of Object.keys(applied_filters)) {\n\t\t\tname_len = name_len + applied_filters[key].toString().length;\n\t\t\tif (name_len > 200) break;\n\t\t\tfilter_values.push(applied_filters[key]);\n\t\t}\n\n\t\tif (filter_values.length) {\n\t\t\tprint_settings.report_name = `${__(this.report_name)}_${filter_values.join(\"_\")}.pdf`;\n\t\t} else {\n\t\t\tprint_settings.report_name = `${__(this.report_name)}.pdf`;\n\t\t}\n\t\tfrappe.render_pdf(html, print_settings);\n\t}\n\n\tget_filters_html_for_print() {\n\t\tconst applied_filters = this.get_filter_values();\n\t\treturn Object.keys(applied_filters)\n\t\t\t.map((fieldname) => {\n\t\t\t\tconst docfield = frappe.query_report.get_filter(fieldname).df;\n\t\t\t\tconst value = applied_filters[fieldname];\n\t\t\t\treturn `<h6>${__(docfield.label)}: ${frappe.format(value, docfield)}</h6>`;\n\t\t\t})\n\t\t\t.join(\"\");\n\t}\n\n\texport_report() {\n\t\tif (this.export_dialog) {\n\t\t\tthis.export_dialog.clear();\n\t\t\tthis.export_dialog.show();\n\t\t\treturn;\n\t\t}\n\n\t\tlet extra_fields = [];\n\n\t\tif (this.tree_report) {\n\t\t\textra_fields.push({\n\t\t\t\tlabel: __(\"Include indentation\"),\n\t\t\t\tfieldname: \"include_indentation\",\n\t\t\t\tfieldtype: \"Check\",\n\t\t\t});\n\t\t}\n\n\t\tif (this.filters.length > 0) {\n\t\t\textra_fields.push({\n\t\t\t\tlabel: __(\"Include filters\"),\n\t\t\t\tfieldname: \"include_filters\",\n\t\t\t\tfieldtype: \"Check\",\n\t\t\t});\n\t\t}\n\n\t\tthis.export_dialog = frappe.report_utils.get_export_dialog(\n\t\t\t__(this.report_name),\n\t\t\textra_fields,\n\t\t\t({\n\t\t\t\tfile_format,\n\t\t\t\tinclude_indentation,\n\t\t\t\tinclude_filters,\n\t\t\t\tcsv_delimiter,\n\t\t\t\tcsv_quoting,\n\t\t\t}) => {\n\t\t\t\tthis.make_access_log(\"Export\", file_format);\n\n\t\t\t\tlet filters = this.get_filter_values(true);\n\t\t\t\tif (frappe.urllib.get_dict(\"prepared_report_name\")) {\n\t\t\t\t\tfilters = Object.assign(\n\t\t\t\t\t\tfrappe.urllib.get_dict(\"prepared_report_name\"),\n\t\t\t\t\t\tfilters\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tlet boolean_labels = { 1: __(\"Yes\"), 0: __(\"No\") };\n\t\t\t\tlet applied_filters = Object.fromEntries(\n\t\t\t\t\tObject.entries(filters).map(([key, value]) => [\n\t\t\t\t\t\tfrappe.query_report.get_filter(key).df.label,\n\t\t\t\t\t\tfrappe.query_report.get_filter(key).df.fieldtype == \"Check\"\n\t\t\t\t\t\t\t? boolean_labels[value]\n\t\t\t\t\t\t\t: value,\n\t\t\t\t\t])\n\t\t\t\t);\n\n\t\t\t\tconst visible_idx = this.datatable.bodyRenderer.visibleRowIndices;\n\t\t\t\tif (visible_idx.length + 1 === this.data.length) {\n\t\t\t\t\tvisible_idx.push(visible_idx.length);\n\t\t\t\t}\n\n\t\t\t\tconst args = {\n\t\t\t\t\tcmd: \"frappe.desk.query_report.export_query\",\n\t\t\t\t\treport_name: this.report_name,\n\t\t\t\t\tcustom_columns: this.custom_columns.length ? this.custom_columns : [],\n\t\t\t\t\tfile_format_type: file_format,\n\t\t\t\t\tfilters: filters,\n\t\t\t\t\tapplied_filters: applied_filters,\n\t\t\t\t\tvisible_idx,\n\t\t\t\t\tcsv_delimiter,\n\t\t\t\t\tcsv_quoting,\n\t\t\t\t\tinclude_indentation,\n\t\t\t\t\tinclude_filters,\n\t\t\t\t};\n\n\t\t\t\topen_url_post(frappe.request.url, args);\n\n\t\t\t\tthis.export_dialog.hide();\n\t\t\t}\n\t\t);\n\n\t\tthis.export_dialog.show();\n\t}\n\n\tget_data_for_csv(include_indentation) {\n\t\tconst rows = this.datatable.bodyRenderer.visibleRows;\n\t\tif (this.raw_data.add_total_row) {\n\t\t\trows.push(this.datatable.bodyRenderer.getTotalRow());\n\t\t}\n\t\treturn rows.map((row) => {\n\t\t\tconst standard_column_count = this.datatable.datamanager.getStandardColumnCount();\n\t\t\treturn row.slice(standard_column_count).map((cell, i) => {\n\t\t\t\tif (cell.column.fieldtype === \"Duration\") {\n\t\t\t\t\tcell.content = frappe.utils.get_formatted_duration(cell.content);\n\t\t\t\t}\n\t\t\t\tif (include_indentation && i === 0) {\n\t\t\t\t\tcell.content = \"   \".repeat(row.meta.indent) + (cell.content ?? \"\");\n\t\t\t\t}\n\t\t\t\treturn cell.content ?? \"\";\n\t\t\t});\n\t\t});\n\t}\n\n\tget_data_for_print() {\n\t\tif (!this.data.length) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst rows = this.datatable.datamanager.rowViewOrder\n\t\t\t.map((index) => {\n\t\t\t\tif (this.datatable.bodyRenderer.visibleRowIndices.includes(index)) {\n\t\t\t\t\treturn this.data[index];\n\t\t\t\t}\n\t\t\t})\n\t\t\t.filter(Boolean);\n\n\t\tif (this.raw_data.add_total_row && !this.report_settings.tree) {\n\t\t\tlet totalRow = this.datatable.bodyRenderer.getTotalRow().reduce((row, cell) => {\n\t\t\t\trow[cell.column.id] = cell.content;\n\t\t\t\trow.is_total_row = true;\n\t\t\t\treturn row;\n\t\t\t}, {});\n\n\t\t\trows.push(totalRow);\n\t\t}\n\t\treturn rows;\n\t}\n\n\tget_columns_for_print(print_settings, custom_format) {\n\t\tlet columns = [];\n\n\t\tif (print_settings && print_settings.columns) {\n\t\t\tcolumns = this.get_visible_columns().filter((column) =>\n\t\t\t\tprint_settings.columns.includes(column.fieldname)\n\t\t\t);\n\t\t} else {\n\t\t\tcolumns = custom_format ? this.columns : this.get_visible_columns();\n\t\t}\n\n\t\treturn columns;\n\t}\n\n\tget_menu_items() {\n\t\tlet items = [\n\t\t\t{\n\t\t\t\tlabel: __(\"Refresh\"),\n\t\t\t\taction: () => this.refresh(),\n\t\t\t\tclass: \"visible-xs\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Edit\"),\n\t\t\t\taction: () => frappe.set_route(\"Form\", \"Report\", this.report_name),\n\t\t\t\tcondition: () => frappe.user.is_report_manager(),\n\t\t\t\tstandard: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Print\"),\n\t\t\t\taction: () => {\n\t\t\t\t\tlet dialog = frappe.ui.get_print_settings(\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t(print_settings) => this.print_report(print_settings),\n\t\t\t\t\t\tthis.report_doc.letter_head,\n\t\t\t\t\t\tthis.get_visible_columns()\n\t\t\t\t\t);\n\t\t\t\t\tthis.add_portrait_warning(dialog);\n\t\t\t\t},\n\t\t\t\tcondition: () => frappe.model.can_print(this.report_doc.ref_doctype),\n\t\t\t\tstandard: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"PDF\"),\n\t\t\t\taction: () => {\n\t\t\t\t\tlet dialog = frappe.ui.get_print_settings(\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t(print_settings) => this.pdf_report(print_settings),\n\t\t\t\t\t\tthis.report_doc.letter_head,\n\t\t\t\t\t\tthis.get_visible_columns()\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.add_portrait_warning(dialog);\n\t\t\t\t},\n\t\t\t\tcondition: () => frappe.model.can_print(this.report_doc.ref_doctype),\n\t\t\t\tstandard: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Export\"),\n\t\t\t\taction: () => this.export_report(),\n\t\t\t\tcondition: () => frappe.model.can_export(this.report_doc.ref_doctype),\n\t\t\t\tstandard: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Setup Auto Email\"),\n\t\t\t\taction: () =>\n\t\t\t\t\tfrappe.set_route(\"List\", \"Auto Email Report\", { report: this.report_name }),\n\t\t\t\tstandard: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Add Column\"),\n\t\t\t\taction: () => {\n\t\t\t\t\tlet d = new frappe.ui.Dialog({\n\t\t\t\t\t\ttitle: __(\"Add Column\"),\n\t\t\t\t\t\tfields: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tfieldtype: \"Select\",\n\t\t\t\t\t\t\t\tfieldname: \"doctype\",\n\t\t\t\t\t\t\t\tlabel: __(\"From Document Type\"),\n\t\t\t\t\t\t\t\toptions: this.linked_doctypes.map((df) => ({\n\t\t\t\t\t\t\t\t\tlabel: df.doctype,\n\t\t\t\t\t\t\t\t\tvalue: df.doctype,\n\t\t\t\t\t\t\t\t})),\n\t\t\t\t\t\t\t\tchange: () => {\n\t\t\t\t\t\t\t\t\tlet doctype = d.get_value(\"doctype\");\n\t\t\t\t\t\t\t\t\tfrappe.model.with_doctype(doctype, () => {\n\t\t\t\t\t\t\t\t\t\tlet options = frappe.meta\n\t\t\t\t\t\t\t\t\t\t\t.get_docfields(doctype)\n\t\t\t\t\t\t\t\t\t\t\t.filter(frappe.model.is_value_type)\n\t\t\t\t\t\t\t\t\t\t\t.map((df) => ({\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: df.label,\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: df.fieldname,\n\t\t\t\t\t\t\t\t\t\t\t}));\n\n\t\t\t\t\t\t\t\t\t\td.set_df_property(\n\t\t\t\t\t\t\t\t\t\t\t\"field\",\n\t\t\t\t\t\t\t\t\t\t\t\"options\",\n\t\t\t\t\t\t\t\t\t\t\toptions.sort(function (a, b) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (a.label < b.label) {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tif (a.label > b.label) {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tfieldtype: \"Select\",\n\t\t\t\t\t\t\t\tlabel: __(\"Field\"),\n\t\t\t\t\t\t\t\tfieldname: \"field\",\n\t\t\t\t\t\t\t\toptions: [],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tfieldtype: \"Select\",\n\t\t\t\t\t\t\t\tlabel: __(\"Insert After\"),\n\t\t\t\t\t\t\t\tfieldname: \"insert_after\",\n\t\t\t\t\t\t\t\toptions: this.columns.map((df) => df.label),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t\tprimary_action: (values) => {\n\t\t\t\t\t\t\tconst custom_columns = [];\n\t\t\t\t\t\t\tlet df = frappe.meta.get_docfield(values.doctype, values.field);\n\t\t\t\t\t\t\tconst insert_after_index = this.columns.findIndex(\n\t\t\t\t\t\t\t\t(column) => column.label === values.insert_after\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tcustom_columns.push({\n\t\t\t\t\t\t\t\tfieldname: this.columns\n\t\t\t\t\t\t\t\t\t.map((column) => column.fieldname)\n\t\t\t\t\t\t\t\t\t.includes(df.fieldname)\n\t\t\t\t\t\t\t\t\t? df.fieldname + \"-\" + frappe.scrub(values.doctype)\n\t\t\t\t\t\t\t\t\t: df.fieldname,\n\t\t\t\t\t\t\t\tfieldtype: df.fieldtype,\n\t\t\t\t\t\t\t\tlabel: df.label,\n\t\t\t\t\t\t\t\tinsert_after_index: insert_after_index,\n\t\t\t\t\t\t\t\tlink_field: this.doctype_field_map[values.doctype],\n\t\t\t\t\t\t\t\tdoctype: values.doctype,\n\t\t\t\t\t\t\t\toptions: df.options,\n\t\t\t\t\t\t\t\twidth: 100,\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tthis.custom_columns = this.custom_columns.concat(custom_columns);\n\t\t\t\t\t\t\tfrappe.call({\n\t\t\t\t\t\t\t\tmethod: \"frappe.desk.query_report.get_data_for_custom_field\",\n\t\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\t\tfield: values.field,\n\t\t\t\t\t\t\t\t\tdoctype: values.doctype,\n\t\t\t\t\t\t\t\t\tnames: Array.from(\n\t\t\t\t\t\t\t\t\t\tthis.doctype_field_map[values.doctype].names\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcallback: (r) => {\n\t\t\t\t\t\t\t\t\tconst custom_data = r.message;\n\t\t\t\t\t\t\t\t\tconst link_field =\n\t\t\t\t\t\t\t\t\t\tthis.doctype_field_map[values.doctype].fieldname;\n\t\t\t\t\t\t\t\t\tthis.add_custom_column(\n\t\t\t\t\t\t\t\t\t\tcustom_columns,\n\t\t\t\t\t\t\t\t\t\tcustom_data,\n\t\t\t\t\t\t\t\t\t\tlink_field,\n\t\t\t\t\t\t\t\t\t\tvalues,\n\t\t\t\t\t\t\t\t\t\tinsert_after_index\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\td.hide();\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.set_menu_items();\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\n\t\t\t\t\td.show();\n\t\t\t\t},\n\t\t\t\tstandard: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"User Permissions\"),\n\t\t\t\taction: () =>\n\t\t\t\t\tfrappe.set_route(\"List\", \"User Permission\", {\n\t\t\t\t\t\tdoctype: \"Report\",\n\t\t\t\t\t\tname: this.report_name,\n\t\t\t\t\t}),\n\t\t\t\tcondition: () => frappe.user.has_role(\"System Manager\"),\n\t\t\t\tstandard: true,\n\t\t\t},\n\t\t];\n\n\t\tif (frappe.user.is_report_manager()) {\n\t\t\titems.push({\n\t\t\t\tlabel: __(\"Save\"),\n\t\t\t\taction: () => {\n\t\t\t\t\tlet d = new frappe.ui.Dialog({\n\t\t\t\t\t\ttitle: __(\"Save Report\"),\n\t\t\t\t\t\tfields: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tfieldtype: \"Data\",\n\t\t\t\t\t\t\t\tfieldname: \"report_name\",\n\t\t\t\t\t\t\t\tlabel: __(\"Report Name\"),\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\tthis.report_doc.is_standard == \"No\" ? this.report_name : \"\",\n\t\t\t\t\t\t\t\treqd: true,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t\tprimary_action: (values) => {\n\t\t\t\t\t\t\tfrappe.call({\n\t\t\t\t\t\t\t\tmethod: \"frappe.desk.query_report.save_report\",\n\t\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\t\treference_report: this.report_name,\n\t\t\t\t\t\t\t\t\treport_name: values.report_name,\n\t\t\t\t\t\t\t\t\tcolumns: this.get_visible_columns(),\n\t\t\t\t\t\t\t\t\tfilters: this.get_filter_values(),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcallback: function (r) {\n\t\t\t\t\t\t\t\t\tthis.show_save = false;\n\t\t\t\t\t\t\t\t\td.hide();\n\t\t\t\t\t\t\t\t\tfrappe.set_route(\"query-report\", r.message);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t\td.show();\n\t\t\t\t},\n\t\t\t\tstandard: true,\n\t\t\t});\n\t\t}\n\n\t\treturn items;\n\t}\n\n\tadd_portrait_warning(dialog) {\n\t\tif (this.columns.length > 10) {\n\t\t\tdialog.set_df_property(\"orientation\", \"change\", () => {\n\t\t\t\tlet value = dialog.get_value(\"orientation\");\n\t\t\t\tlet description =\n\t\t\t\t\tvalue === \"Portrait\"\n\t\t\t\t\t\t? __(\"Report with more than 10 columns looks better in Landscape mode.\")\n\t\t\t\t\t\t: \"\";\n\t\t\t\tdialog.set_df_property(\"orientation\", \"description\", description);\n\t\t\t});\n\t\t}\n\t}\n\n\tadd_custom_column(\n\t\tcustom_column,\n\t\tcustom_data,\n\t\tlink_field,\n\t\tnew_column_data,\n\t\tinsert_after_index\n\t) {\n\t\tconst column = this.prepare_columns(custom_column);\n\t\tconst column_field = new_column_data.field;\n\n\t\tthis.columns.splice(insert_after_index + 1, 0, column[0]);\n\n\t\tthis.data.forEach((row) => {\n\t\t\tif (column[0].fieldname.includes(\"-\")) {\n\t\t\t\trow[column_field + \"-\" + frappe.scrub(new_column_data.doctype)] =\n\t\t\t\t\tcustom_data[row[link_field]];\n\t\t\t} else {\n\t\t\t\trow[column_field] = custom_data[row[link_field]];\n\t\t\t}\n\t\t});\n\n\t\tthis.render_datatable();\n\t}\n\n\tget_linked_doctypes() {\n\t\tlet doctypes = [];\n\t\tlet dynamic_links = [];\n\t\tlet dynamic_doctypes = new Set();\n\t\tthis.doctype_field_map = {};\n\n\t\tthis.columns.forEach((df) => {\n\t\t\tif (df.fieldtype == \"Link\" && df.options && df.options != \"Currency\") {\n\t\t\t\tdoctypes.push({\n\t\t\t\t\tdoctype: df.options,\n\t\t\t\t\tfieldname: df.fieldname,\n\t\t\t\t});\n\t\t\t} else if (df.fieldtype == \"Dynamic Link\" && df.options) {\n\t\t\t\tdynamic_links.push({\n\t\t\t\t\tlink_name: df.options,\n\t\t\t\t\tfieldname: df.fieldname,\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tthis.data.forEach((row) => {\n\t\t\tdynamic_links.forEach((field) => {\n\t\t\t\tif (row[field.link_name]) {\n\t\t\t\t\tdynamic_doctypes.add(row[field.link_name] + \":\" + field.fieldname);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\tdoctypes = doctypes.concat(\n\t\t\tArray.from(dynamic_doctypes).map((d) => {\n\t\t\t\tconst doc_field_pair = d.split(\":\");\n\t\t\t\treturn {\n\t\t\t\t\tdoctype: doc_field_pair[0],\n\t\t\t\t\tfieldname: doc_field_pair[1],\n\t\t\t\t};\n\t\t\t})\n\t\t);\n\n\t\tdoctypes.forEach((doc) => {\n\t\t\tthis.doctype_field_map[doc.doctype] = { fieldname: doc.fieldname, names: new Set() };\n\t\t});\n\n\t\tthis.data.forEach((row) => {\n\t\t\tdoctypes.forEach((doc) => {\n\t\t\t\tthis.doctype_field_map[doc.doctype].names.add(row[doc.fieldname]);\n\t\t\t});\n\t\t});\n\n\t\treturn doctypes;\n\t}\n\n\tsetup_report_wrapper() {\n\t\tif (this.$report) return;\n\n\t\t// Remove border from\n\t\t$(\".page-head-content\").removeClass(\"border-bottom\");\n\n\t\tlet page_form = this.page.main.find(\".page-form\");\n\t\tthis.$status = $(`<div class=\"form-message text-muted small\"></div>`)\n\t\t\t.hide()\n\t\t\t.insertAfter(page_form);\n\n\t\tthis.$summary = $(`<div class=\"report-summary\"></div>`).hide().appendTo(this.page.main);\n\n\t\tthis.$chart = $('<div class=\"chart-wrapper\">').hide().appendTo(this.page.main);\n\n\t\tthis.$loading = $(this.message_div(\"\")).hide().appendTo(this.page.main);\n\t\tthis.$report = $('<div class=\"report-wrapper\">').appendTo(this.page.main);\n\t\tthis.$message = $(this.message_div(\"\")).hide().appendTo(this.page.main);\n\t}\n\n\tshow_status(status_message) {\n\t\tthis.$status.html(status_message).show();\n\t}\n\n\thide_status() {\n\t\tthis.$status.hide();\n\t}\n\n\tshow_footer_message() {\n\t\tthis.$report_footer && this.$report_footer.remove();\n\t\tthis.$report_footer = $(`<div class=\"report-footer text-muted\"></div>`).appendTo(\n\t\t\tthis.page.main\n\t\t);\n\t\tif (this.tree_report) {\n\t\t\tthis.$tree_footer = $(`<div class=\"tree-footer col-md-6\">\n\t\t\t\t<button class=\"btn btn-xs btn-default\" data-action=\"expand_all_rows\">\n\t\t\t\t\t${__(\"Expand All\")}</button>\n\t\t\t\t<button class=\"btn btn-xs btn-default\" data-action=\"collapse_all_rows\">\n\t\t\t\t\t${__(\"Collapse All\")}</button>\n\t\t\t</div>`);\n\t\t\t$(this.$report_footer).append(this.$tree_footer);\n\t\t\tthis.$tree_footer.find(\"[data-action=collapse_all_rows]\").show();\n\t\t\tthis.$tree_footer.find(\"[data-action=expand_all_rows]\").hide();\n\t\t}\n\n\t\tconst message = __(\n\t\t\t\"For comparison, use >5, <10 or =324. For ranges, use 5:10 (for values between 5 & 10).\"\n\t\t);\n\t\tconst execution_time_msg = __(\"Execution Time: {0} sec\", [this.execution_time || 0.1]);\n\n\t\tthis.$report_footer.append(`<div class=\"col-md-12\">\n\t\t\t<span\">${message}</span><span class=\"pull-right\">${execution_time_msg}</span>\n\t\t</div>`);\n\t}\n\n\texpand_all_rows() {\n\t\tthis.$tree_footer.find(\"[data-action=expand_all_rows]\").hide();\n\t\tthis.datatable.rowmanager.expandAllNodes();\n\t\tthis.$tree_footer.find(\"[data-action=collapse_all_rows]\").show();\n\t}\n\n\tcollapse_all_rows() {\n\t\tthis.$tree_footer.find(\"[data-action=collapse_all_rows]\").hide();\n\t\tthis.datatable.rowmanager.collapseAllNodes();\n\t\tthis.$tree_footer.find(\"[data-action=expand_all_rows]\").show();\n\t}\n\n\tmessage_div(message) {\n\t\treturn `<div class='flex justify-center align-center text-muted' style='height: 50vh;'>\n\t\t\t<div>${message}</div>\n\t\t</div>`;\n\t}\n\n\treset_report_view() {\n\t\tthis.hide_status();\n\t\tthis.toggle_nothing_to_show(true);\n\t\tthis.refresh();\n\t}\n\n\ttoggle_nothing_to_show(flag) {\n\t\tlet message =\n\t\t\tthis.prepared_report && !this.prepared_report_document\n\t\t\t\t? __(\n\t\t\t\t\t\t\"This is a background report. Please set the appropriate filters and then generate a new one.\"\n\t\t\t\t  )\n\t\t\t\t: this.get_no_result_message();\n\n\t\tthis.toggle_message(flag, message);\n\n\t\tif (flag && this.prepared_report) {\n\t\t\tthis.prepared_report_action = \"New\";\n\t\t\tif (!this.primary_button.is(\":visible\")) {\n\t\t\t\tthis.add_prepared_report_buttons();\n\t\t\t}\n\t\t}\n\t}\n\n\ttoggle_message(flag, message) {\n\t\tif (flag) {\n\t\t\tthis.$message.find(\"div\").html(message);\n\t\t\tthis.$message.show();\n\t\t} else {\n\t\t\tthis.$message.hide();\n\t\t}\n\t}\n\n\ttoggle_filter_display(fieldname, flag) {\n\t\tthis.$page.find(`div[data-fieldname=${fieldname}]`).toggleClass(\"hide-control\", flag);\n\t}\n\n\ttoggle_report(flag) {\n\t\tthis.$report.toggle(flag);\n\t\tthis.$chart.toggle(flag);\n\t\tthis.$summary.toggle(flag);\n\t}\n\n\tget_checked_items(only_docnames) {\n\t\tconst indexes = this.datatable.rowmanager.getCheckedRows();\n\n\t\treturn indexes.reduce((items, i) => {\n\t\t\tif (i === undefined) return items;\n\n\t\t\tconst item = this.data[i];\n\t\t\titems.push(only_docnames ? item.name : item);\n\t\t\treturn items;\n\t\t}, []);\n\t}\n\n\t// backward compatibility\n\tget get_values() {\n\t\treturn this.get_filter_values;\n\t}\n};\n", "\n\tfrappe.templates['print_grid'] = `<!-- title -->\n{% if title %}\n<h2>{{ __(title) }}</h2>\n<hr>\n{% endif %}\n{% if subtitle %}\n{{ subtitle }}\n<hr>\n{% endif %}\n<table class=\"table table-bordered\">\n\t<!-- heading -->\n\t<thead>\n\t\t<tr>\n\t\t<th> # </th>\n\t\t{% for col in columns %}\n\t\t\t{% if col.name && col._id !== \"_check\" %}\n\t\t\t<th\n\t\t\t\t{% if col.minWidth %}\n\t\t\t\t\tstyle=\"min-width: {{ col.minWidth }}px\"\n\t\t\t\t{% endif %}\n\t\t\t\t{% if col.docfield && frappe.model.is_numeric_field(col.docfield) %}\n\t\t\t\t\tclass=\"text-right\"\n\t\t\t\t{% endif %}\n\t\t\t>\n\t\t\t\t{{ __(col.name) }}</th>\n\t\t\t{% endif %}\n\t\t{% endfor %}\n\t\t</tr>\n\t</thead>\n\t<!-- body -->\n\t<tbody>\n\t\t{% for row in data %}\n\t\t\t<tr style=\"height: 30px\">\n\t\t\t<td {% if row.bold == 1 %} style=\"font-weight: bold\" {% endif %}>\n\t\t\t\t<span> {{ row._index + 1 }} </span>\n\t\t\t</td>\n\t\t\t{% for col in columns %}\n\t\t\t\t{% if col.name && col._id !== \"_check\" %}\n\t\t\t\t\t{% var value = col.fieldname ? row[col.fieldname] : row[col.id] %}\n\t\t\t\t\t{% var longest_word = cstr(value).split(' ').reduce((longest, word) => word.length > longest.length ? word : longest, ''); %}\n\t\t\t\t\t<td {% if row.bold == 1 %} style=\"font-weight: bold\" {% endif %} {% if longest_word.length > 45 %} class=\"overflow-wrap-anywhere\" {% endif %}>\n\t\t\t\t\t\t<span {% if col._index == 0 %} style=\"padding-left: {%= cint(row.indent) * 2 %}em\" {% endif %}>\n\t\t\t\t\t\t\t{% format_data = row.is_total_row && [\"Currency\", \"Float\"].includes(col.fieldtype) ? data[0] : row %}\n\t\t\t\t\t\t\t{% if (row.is_total_row && col._index == 0) { %}\n\t\t\t\t\t\t\t\t{{ __(\"Total\") }}\n\t\t\t\t\t\t\t{% } else { %}\n\t\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\t\tcol.formatter\n\t\t\t\t\t\t\t\t\t\t? col.formatter(row._index, col._index, value, col, format_data, true)\n\t\t\t\t\t\t\t\t\t\t: col.format\n\t\t\t\t\t\t\t\t\t\t\t? col.format(value, row, col, format_data)\n\t\t\t\t\t\t\t\t\t\t\t: col.docfield\n\t\t\t\t\t\t\t\t\t\t\t\t? frappe.format(value, col.docfield)\n\t\t\t\t\t\t\t\t\t\t\t\t: value\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t{% } %}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</td>\n\t\t\t\t{% endif %}\n\t\t\t{% endfor %}\n\t\t\t</tr>\n\t\t{% endfor %}\n\t</tbody>\n</table>\n`;\n", "\n\tfrappe.templates['print_tree'] = `<!DOCTYPE html>\n<html lang=\"en\">\n\t<head>\n\t\t<meta charset=\"utf-8\">\n\t\t<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n\t\t<meta name=\"description\" content=\"\">\n\t\t<meta name=\"author\" content=\"\">\n\t\t<title>{{ title }}</title>\n\t\t<link href=\"{{ base_url }}/assets/frappe/css/bootstrap.css\" rel=\"stylesheet\">\n\t\t<link type=\"text/css\" rel=\"stylesheet\"\n\t\t\thref=\"{{ base_url }}/assets/frappe/css/fonts/fontawesome/font-awesome.min.css\">\n\t\t<link rel=\"stylesheet\" type=\"text/css\" href=\"{{ base_url }}/assets/frappe/css/tree.css\">\n\t\t<link rel=\"stylesheet\" type=\"text/css\" href=\"{{ base_url }}{{ print_format_css_path }}\">\n\t\t<style>\n\t\t\t{{ print_css }}\n\t\t</style>\n\t\t<style>\n\t\t\t.tree.opened::before,\n\t\t\t.tree-node.opened::before,\n\t\t\t.tree:last-child::after,\n\t\t\t.tree-node:last-child::after {\n\t\t\t\tz-index: 1;\n\t\t\t\tborder-left: 1px solid #d1d8dd;\n\t\t\t\tbackground: none;\n\t\t\t}\n\t\t\t.tree a,\n\t\t\t.tree-link {\n\t\t\t\ttext-decoration: none;\n\t\t\t\tcursor: default;\n\t\t\t}\n\t\t\t.tree.opened > .tree-children > .tree-node > .tree-link::before,\n\t\t\t.tree-node.opened > .tree-children > .tree-node > .tree-link::before {\n\t\t\t\tborder-top: 1px solid #d1d8dd;\n\t\t\t\tz-index: 1;\n\t\t\t\tbackground: none;\n\t\t\t}\n\t\t\ti.fa.fa-fw.fa-folder {\n\t\t\t\tz-index: 2;\n\t\t\t\tposition: relative;\n\t\t\t}\n\t\t\t.tree:last-child::after, .tree-node:last-child::after {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t\t.tree-node-toolbar {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t\ti.octicon.octicon-primitive-dot.text-extra-muted {\n\t\t\t\twidth: 7px;\n\t\t\t\theight: 7px;\n\t\t\t\tborder-radius: 50%;\n\t\t\t\tbackground: #d1d8dd;\n\t\t\t\tdisplay: inline-block;\n\t\t\t\tposition: relative;\n\t\t\t\tz-index: 2;\n\t\t\t}\n\n\t\t\t@media (max-width: 767px) {\n\t\t\t\tul.tree-children {\n\t\t\t\t\tpadding-left: 20px;\n\t\t\t\t}\n\t\t\t}\n\t\t</style>\n  \t</head>\n\t<body>\n\t\t<svg id=\"frappe-symbols\" aria-hidden=\"true\" style=\"position: absolute; width: 0; height: 0; overflow: hidden;\" class=\"d-block\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t<symbol viewBox=\"0 0 12 12\" xmlns=\"http://www.w3.org/2000/svg\" id=\"icon-primitive-dot\">\n\t\t\t\t<path d=\"M9.5 6a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0z\"></path>\n\t\t\t</symbol>\n\n\t\t\t<symbol viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\" id=\"icon-folder-open\">\n\t\t\t\t<path d=\"M8.024 6.5H3a.5.5 0 0 0-.5.5v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V9.5A.5.5 0 0 0 17 9h-6.783a.5.5 0 0 1-.417-.224L8.441 6.724a.5.5 0 0 0-.417-.224z\" stroke=\"var(--icon-stroke)\" stroke-miterlimit=\"10\" stroke-linecap=\"square\"></path>\n\t\t\t\t<path d=\"M3.88 4.5v-1a.5.5 0 0 1 .5-.5h11.24a.5.5 0 0 1 .5.5V7\" stroke=\"var(--icon-stroke)\" stroke-miterlimit=\"10\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path>\n\t\t\t</symbol>\n\n\t\t\t<symbol viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\" id=\"icon-folder-normal\">\n\t\t\t\t<path d=\"M2.5 4v10a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V6.5a1 1 0 0 0-1-1h-6.283a.5.5 0 0 1-.417-.224L8.441 3.224A.5.5 0 0 0 8.024 3H3.5a1 1 0 0 0-1 1z\" stroke=\"var(--icon-stroke)\" stroke-miterlimit=\"10\" stroke-linecap=\"square\"></path>\n\t\t\t</symbol>\n\t\t</svg>\n\t\t<div class=\"print-format-gutter\">\n\t\t\t{% if print_settings.repeat_header_footer %}\n\t\t\t\t<div id=\"footer-html\" class=\"visible-pdf\">\n\t\t\t\t\t{% if print_settings.letter_head && print_settings.letter_head.footer %}\n\t\t\t\t\t\t<div class=\"letter-head-footer\">\n\t\t\t\t\t\t\t{{ print_settings.letter_head.footer }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{% endif %}\n\t\t\t\t\t<p class=\"text-center small page-number visible-pdf\">\n\t\t\t\t\t\t{{ __(\"Page {0} of {1}\", [\\`<span class=\"page\"></span>\\`, \\`<span class=\"topage\"></span>\\`]) }}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t{% endif %}\n\n\t\t\t<div class=\"print-format {% if landscape %} landscape {% endif %}\">\n\t\t\t\t{% if print_settings.letter_head %}\n\t\t\t\t<div {% if print_settings.repeat_header_footer %} id=\"header-html\" class=\"hidden-pdf\" {% endif %}>\n\t\t\t\t\t<div class=\"letter-head\">{{ print_settings.letter_head.header }}</div>\n\t\t\t\t</div>\n\t\t\t\t\t{% endif %}\n\t\t\t\t\t<div class=\"tree opened\">\n\t\t\t\t\t\t{{ tree }}\n\t\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</body>\n</html>\n`;\n", "\n\tfrappe.templates['group_by'] = `<div class=\"group-by-box\">\n\t<div class=\"visible-xs flex justify-flex-end\">\n\t\t<span class=\"remove-group-by\">\n\t\t\t{{ __(\"Remove\") }}\n\t\t</span>\n\t</div>\n\t<div class=\"list_groupby row\">\n\t\t<div class=\"col-sm-8 form-group\">\n\t\t\t<select class=\"group-by form-control input-xs\">\n\t\t\t\t<option value=\"\" disabled selected>{{ __(\"Select Group By...\") }}</option>\n\t\t\t\t{% for (var parent_doctype in group_by_conditions) { %}\n\t\t\t\t\t{% for (var val in group_by_conditions[parent_doctype]) { %}\n\t\t\t\t\t\t<option\n\t\t\t\t\t\t\tdata-doctype=\"{{parent_doctype}}\"\n\t\t\t\t\t\t\tvalue=\"{{group_by_conditions[parent_doctype][val].fieldname}}\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ __(group_by_conditions[parent_doctype][val].label || group_by_conditions[parent_doctype][val].fieldname) }}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t{% } %}\n\t\t\t\t{% } %}\n\t\t\t</select>\n\t\t</div>\n\t\t<div class=\"col-sm-3 form-group\">\n\t\t\t<select class=\"aggregate-function form-control input-xs\">\n\t\t\t\t{% for condition in aggregate_function_conditions %}\n\t\t\t\t<option value=\"{{condition.name}}\">{{ __(condition.label) }}</option>\n\t\t\t\t{% endfor %}\n\t\t\t</select>\n\t\t</div>\n\t\t<div class=\"col-sm-4 col-xs-12\" style=\"display: none\">\n\t\t\t<select class=\"aggregate-on form-control input-xs\">\n\t\t\t\t<option value=\"\" disabled selected>{{ __(\"Select Field...\") }}</option>\n\t\t\t</select>\n\t\t</div>\n\t\t<div class=\"groupby-actions pull-left col-sm-1 hidden-xs\">\n\t\t\t<span class=\"remove-group-by\">\n\t\t\t\t<svg class=\"icon icon-sm\">\n\t\t\t\t\t<use href=\"#icon-close\"></use>\n\t\t\t\t</svg>\n\t\t\t</span>\n\t\t</div>\n\t</div>\n</div>\n`;\n", "frappe.provide(\"frappe.views\");\n\nfrappe.ui.GroupBy = class {\n\tconstructor(report_view) {\n\t\tthis.report_view = report_view;\n\t\tthis.page = report_view.page;\n\t\tthis.doctype = report_view.doctype;\n\t\tthis.make();\n\t}\n\n\tmake() {\n\t\tthis.make_group_by_button();\n\t\tthis.init_group_by_popover();\n\t\tthis.set_popover_events();\n\t}\n\n\tinit_group_by_popover() {\n\t\tconst sql_aggregate_functions = [\n\t\t\t{ name: \"count\", label: __(\"Count\") },\n\t\t\t{ name: \"sum\", label: __(\"Sum\") },\n\t\t\t{ name: \"avg\", label: __(\"Average\") },\n\t\t];\n\n\t\tconst group_by_template = $(\n\t\t\tfrappe.render_template(\"group_by\", {\n\t\t\t\tdoctype: this.doctype,\n\t\t\t\tgroup_by_conditions: this.get_group_by_fields(),\n\t\t\t\taggregate_function_conditions: sql_aggregate_functions,\n\t\t\t})\n\t\t);\n\n\t\tthis.group_by_button.popover({\n\t\t\tcontent: group_by_template,\n\t\t\ttemplate: `\n\t\t\t\t<div class=\"group-by-popover popover\">\n\t\t\t\t\t<div class=\"arrow\"></div>\n\t\t\t\t\t<div class=\"popover-body popover-content\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`,\n\t\t\thtml: true,\n\t\t\ttrigger: \"manual\",\n\t\t\tcontainer: \"body\",\n\t\t\tplacement: \"bottom\",\n\t\t\toffset: \"-100px, 0\",\n\t\t});\n\t}\n\n\t// TODO: make common with filter popover\n\tset_popover_events() {\n\t\t$(document.body).on(\"click\", (e) => {\n\t\t\tif (this.wrapper && this.wrapper.is(\":visible\")) {\n\t\t\t\tif (\n\t\t\t\t\t$(e.target).parents(\".group-by-popover\").length === 0 &&\n\t\t\t\t\t$(e.target).parents(\".group-by-box\").length === 0 &&\n\t\t\t\t\t$(e.target).parents(\".group-by-button\").length === 0 &&\n\t\t\t\t\t!$(e.target).is(this.group_by_button)\n\t\t\t\t) {\n\t\t\t\t\tthis.wrapper && this.group_by_button.popover(\"hide\");\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.group_by_button.on(\"click\", () => {\n\t\t\tthis.group_by_button.popover(\"toggle\");\n\t\t});\n\n\t\tthis.group_by_button.on(\"shown.bs.popover\", () => {\n\t\t\tif (!this.wrapper) {\n\t\t\t\tthis.wrapper = $(\".group-by-popover\");\n\t\t\t\tthis.setup_group_by_area();\n\t\t\t}\n\t\t});\n\n\t\tthis.group_by_button.on(\"hidden.bs.popover\", () => {\n\t\t\tthis.update_group_by_button();\n\t\t});\n\n\t\tfrappe.router.on(\"change\", () => {\n\t\t\tthis.group_by_button.popover(\"hide\");\n\t\t});\n\t}\n\n\tsetup_group_by_area() {\n\t\tthis.aggregate_on_html = ``;\n\t\tthis.group_by_select = this.wrapper.find(\"select.group-by\");\n\t\tthis.group_by_field && this.group_by_select.val(this.group_by_field);\n\t\tthis.aggregate_function_select = this.wrapper.find(\"select.aggregate-function\");\n\t\tthis.aggregate_on_select = this.wrapper.find(\"select.aggregate-on\");\n\t\tthis.remove_group_by_button = this.wrapper.find(\".remove-group-by\");\n\n\t\tif (this.aggregate_function) {\n\t\t\tthis.aggregate_function_select.val(this.aggregate_function);\n\t\t} else {\n\t\t\t// set default to count\n\t\t\tthis.aggregate_function_select.val(\"count\");\n\t\t\tthis.aggregate_function = \"count\";\n\t\t}\n\n\t\tthis.toggle_aggregate_on_field();\n\t\tthis.aggregate_on && this.aggregate_on_select.val(this.aggregate_on_field);\n\n\t\tthis.set_group_by_events();\n\t}\n\n\tset_group_by_events() {\n\t\t// try running on change\n\t\tthis.group_by_select.on(\"change\", () => {\n\t\t\tthis.group_by_field = this.group_by_select.val();\n\t\t\tthis.group_by_doctype = this.group_by_select.find(\":selected\").attr(\"data-doctype\");\n\t\t\tthis.apply_group_by_and_refresh();\n\t\t});\n\n\t\tthis.aggregate_function_select.on(\"change\", () => {\n\t\t\t//Set aggregate on options as numeric fields if function is sum or average\n\t\t\tthis.toggle_aggregate_on_field();\n\t\t\tthis.aggregate_function = this.aggregate_function_select.val();\n\t\t\tthis.apply_group_by_and_refresh();\n\t\t});\n\n\t\tthis.aggregate_on_select.on(\"change\", () => {\n\t\t\tthis.aggregate_on_field = this.aggregate_on_select.val();\n\t\t\tthis.aggregate_on_doctype = this.aggregate_on_select\n\t\t\t\t.find(\":selected\")\n\t\t\t\t.attr(\"data-doctype\");\n\t\t\tthis.apply_group_by_and_refresh();\n\t\t});\n\n\t\tthis.remove_group_by_button.on(\"click\", () => {\n\t\t\tif (this.group_by) {\n\t\t\t\tthis.remove_group_by();\n\t\t\t\tthis.toggle_aggregate_on_field_display(false);\n\t\t\t}\n\t\t});\n\t}\n\n\ttoggle_aggregate_on_field() {\n\t\tlet fn = this.aggregate_function_select.val();\n\t\tif (fn === \"sum\" || fn === \"avg\") {\n\t\t\tif (!this.aggregate_on_html.length) {\n\t\t\t\tthis.aggregate_on_html = `<option value=\"\" disabled selected>\n\t\t\t\t\t\t${__(\"Select Field...\")}\n\t\t\t\t\t</option>`;\n\n\t\t\t\tfor (let doctype in this.all_fields) {\n\t\t\t\t\tconst doctype_fields = this.all_fields[doctype];\n\t\t\t\t\tdoctype_fields.forEach((field) => {\n\t\t\t\t\t\t// pick numeric fields for sum / avg\n\t\t\t\t\t\tif (frappe.model.is_numeric_field(field.fieldtype)) {\n\t\t\t\t\t\t\tlet field_label = field.label\n\t\t\t\t\t\t\t\t? field.label\n\t\t\t\t\t\t\t\t: frappe.model.unscrub(field.fieldname);\n\t\t\t\t\t\t\tlet option_text =\n\t\t\t\t\t\t\t\tdoctype == this.doctype\n\t\t\t\t\t\t\t\t\t? field_label\n\t\t\t\t\t\t\t\t\t: `${__(field_label)} (${__(doctype)})`;\n\t\t\t\t\t\t\tthis.aggregate_on_html += `<option data-doctype=\"${doctype}\"\n\t\t\t\t\t\t\t\tvalue=\"${field.fieldname}\">${__(option_text)}</option>`;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.aggregate_on_select.html(this.aggregate_on_html);\n\t\t\tthis.toggle_aggregate_on_field_display(true);\n\t\t} else {\n\t\t\t// count, so no aggregate function\n\t\t\tthis.toggle_aggregate_on_field_display(false);\n\t\t}\n\t}\n\n\t//TODO: Fix this\n\ttoggle_aggregate_on_field_display(show) {\n\t\tthis.group_by_select.parent().toggleClass(\"col-sm-5\", show);\n\t\tthis.group_by_select.parent().toggleClass(\"col-sm-8\", !show);\n\t\tthis.aggregate_function_select.parent().toggleClass(\"col-sm-2\", show);\n\t\tthis.aggregate_function_select.parent().toggleClass(\"col-sm-3\", !show);\n\t\tthis.aggregate_on_select.parent().toggle(show);\n\t}\n\n\tget_settings() {\n\t\tif (this.group_by) {\n\t\t\treturn {\n\t\t\t\tgroup_by: this.group_by,\n\t\t\t\taggregate_function: this.aggregate_function,\n\t\t\t\taggregate_on: this.aggregate_on,\n\t\t\t};\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tapply_settings(settings) {\n\t\tlet get_fieldname = (name) => name.split(\".\")[1].replace(/`/g, \"\");\n\t\tlet get_doctype = (name) => name.split(\".\")[0].replace(/`/g, \"\").replace(\"tab\", \"\");\n\n\t\tif (!settings.group_by.startsWith(\"`tab\")) {\n\t\t\tsettings.group_by = \"`tab\" + this.doctype + \"`.`\" + settings.group_by + \"`\";\n\t\t}\n\n\t\tif (settings.aggregate_on && !settings.aggregate_on.startsWith(\"`tab\")) {\n\t\t\tconst aggregate_on_doctype = this.get_aggregate_on_doctype(settings);\n\t\t\tsettings.aggregate_on =\n\t\t\t\t\"`tab\" + aggregate_on_doctype + \"`.`\" + settings.aggregate_on + \"`\";\n\t\t}\n\n\t\t// Extract fieldname from `tabdoctype`.`fieldname`\n\t\tthis.group_by_field = get_fieldname(settings.group_by);\n\t\tthis.group_by_doctype = get_doctype(settings.group_by);\n\n\t\tthis.aggregate_function = settings.aggregate_function;\n\n\t\tif (settings.aggregate_on) {\n\t\t\tthis.aggregate_on_field = get_fieldname(settings.aggregate_on);\n\t\t\tthis.aggregate_on_doctype = get_doctype(settings.aggregate_on);\n\t\t}\n\n\t\tthis.apply_group_by();\n\t\tthis.update_group_by_button();\n\t}\n\n\tget_aggregate_on_doctype(settings) {\n\t\tfor (let doctype of Object.keys(this.all_fields)) {\n\t\t\tconst dt_fields = this.all_fields[doctype];\n\t\t\tif (dt_fields.find((field) => field.fieldname == settings.aggregate_on)) {\n\t\t\t\treturn doctype;\n\t\t\t}\n\t\t}\n\t}\n\n\tmake_group_by_button() {\n\t\tthis.page.wrapper.find(\".sort-selector\").before(\n\t\t\t$(`<div class=\"group-by-selector\">\n\t\t\t\t<button class=\"btn btn-default btn-sm group-by-button ellipsis\">\n\t\t\t\t\t<span class=\"group-by-icon\">\n\t\t\t\t\t\t${frappe.utils.icon(\"es-line-folder-alt\")}\n\t\t\t\t\t</span>\n\t\t\t\t\t<span class=\"button-label hidden-xs\">\n\t\t\t\t\t\t${__(\"Add Group\")}\n\t\t\t\t\t</span>\n\t\t\t\t</button>\n\t\t\t</div>`)\n\t\t);\n\n\t\tthis.group_by_button = this.page.wrapper.find(\".group-by-button\");\n\t}\n\n\tapply_group_by() {\n\t\tthis.group_by = \"`tab\" + this.group_by_doctype + \"`.`\" + this.group_by_field + \"`\";\n\n\t\tif (this.aggregate_function === \"count\") {\n\t\t\tthis.aggregate_on_field = null;\n\t\t\tthis.aggregate_on_doctype = null;\n\t\t} else {\n\t\t\tthis.aggregate_on =\n\t\t\t\t\"`tab\" + this.aggregate_on_doctype + \"`.`\" + this.aggregate_on_field + \"`\";\n\t\t}\n\n\t\t//All necessary fields must be set before applying group by\n\t\tif (\n\t\t\t!this.group_by ||\n\t\t\t!this.aggregate_function ||\n\t\t\t(!this.aggregate_on_field && this.aggregate_function !== \"count\")\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tapply_group_by_and_refresh() {\n\t\tif (this.apply_group_by()) {\n\t\t\tthis.report_view.refresh();\n\t\t}\n\t}\n\n\tset_args(args) {\n\t\tif (this.aggregate_function && this.group_by) {\n\t\t\tthis.report_view.group_by = this.group_by;\n\t\t\tthis.report_view.sort_by = \"_aggregate_column\";\n\t\t\tthis.report_view.sort_order = \"desc\";\n\n\t\t\t// save original fields\n\t\t\tif (!this.report_view.fields.map((f) => f[0]).includes(\"_aggregate_column\")) {\n\t\t\t\tthis.original_fields = this.report_view.fields.map((f) => f);\n\t\t\t}\n\n\t\t\tthis.report_view.fields = [[this.group_by_field, this.group_by_doctype]];\n\n\t\t\t// rebuild fields for group by\n\t\t\targs.fields = this.report_view.get_fields();\n\n\t\t\t// add aggregate column in both query args and report views\n\t\t\tthis.report_view.fields.push([\n\t\t\t\t\"_aggregate_column\",\n\t\t\t\tthis.aggregate_on_doctype || this.doctype,\n\t\t\t]);\n\n\t\t\t// setup columns in datatable\n\t\t\tthis.report_view.setup_columns();\n\n\t\t\tObject.assign(args, {\n\t\t\t\twith_comment_count: false,\n\t\t\t\taggregate_on_field: this.aggregate_on_field || \"name\",\n\t\t\t\taggregate_on_doctype: this.aggregate_on_doctype || this.doctype,\n\t\t\t\taggregate_function: this.aggregate_function || \"count\",\n\t\t\t\tgroup_by: this.report_view.group_by || null,\n\t\t\t\torder_by: \"_aggregate_column desc\",\n\t\t\t});\n\t\t}\n\t}\n\n\tget_group_by_docfield() {\n\t\t// called from build_column\n\t\tlet docfield = {};\n\t\tif (this.aggregate_function === \"count\") {\n\t\t\tdocfield = {\n\t\t\t\tfieldtype: \"Int\",\n\t\t\t\tlabel: __(\"Count\"),\n\t\t\t\tparent: this.doctype,\n\t\t\t\twidth: 200,\n\t\t\t};\n\t\t} else {\n\t\t\t// get properties of \"aggregate_on\", for example Net Total\n\t\t\tdocfield = Object.assign(\n\t\t\t\t{},\n\t\t\t\tfrappe.meta.docfield_map[this.aggregate_on_doctype][this.aggregate_on_field]\n\t\t\t);\n\n\t\t\tif (this.aggregate_function === \"sum\") {\n\t\t\t\tdocfield.label = __(\"Sum of {0}\", [__(docfield.label)]);\n\t\t\t} else {\n\t\t\t\tdocfield.label = __(\"Average of {0}\", [__(docfield.label)]);\n\t\t\t}\n\t\t}\n\n\t\tdocfield.fieldname = \"_aggregate_column\";\n\t\treturn docfield;\n\t}\n\n\tremove_group_by() {\n\t\tthis.order_by = \"\";\n\t\tthis.group_by = null;\n\t\tthis.group_by_field = null;\n\t\tthis.report_view.group_by = null;\n\t\tthis.aggregate_function = \"count\";\n\t\tthis.aggregate_on = null;\n\t\tthis.aggregate_on_field = null;\n\t\tthis.group_by_select.val(\"\");\n\t\tthis.aggregate_function_select.val(\"count\");\n\t\tthis.aggregate_on_select.empty().val(\"\");\n\t\tthis.aggregate_on_select.parent().hide();\n\n\t\t// restore original fields\n\t\tif (this.original_fields) {\n\t\t\tthis.report_view.fields = this.original_fields;\n\t\t} else {\n\t\t\tthis.report_view.set_default_fields();\n\t\t}\n\n\t\tthis.report_view.setup_columns();\n\t\tthis.original_fields = null;\n\t\tthis.report_view.refresh();\n\t}\n\n\tget_group_by_fields() {\n\t\tthis.group_by_fields = {};\n\t\tthis.all_fields = {};\n\n\t\tlet excluded_fields = [\"_liked_by\", \"idx\", \"name\"];\n\t\tconst standard_fields = frappe.model.std_fields.filter(\n\t\t\t(df) => !excluded_fields.includes(df.fieldname)\n\t\t);\n\n\t\tconst fields = this.report_view.meta.fields\n\t\t\t.concat(standard_fields)\n\t\t\t.filter((f) =>\n\t\t\t\t[\n\t\t\t\t\t\"Select\",\n\t\t\t\t\t\"Link\",\n\t\t\t\t\t\"Data\",\n\t\t\t\t\t\"Int\",\n\t\t\t\t\t\"Check\",\n\t\t\t\t\t\"Dynamic Link\",\n\t\t\t\t\t\"Autocomplete\",\n\t\t\t\t\t\"Date\",\n\t\t\t\t].includes(f.fieldtype)\n\t\t\t);\n\t\tthis.group_by_fields[this.doctype] = fields.sort((a, b) =>\n\t\t\t__(cstr(a.label)).localeCompare(cstr(__(b.label)))\n\t\t);\n\t\tthis.all_fields[this.doctype] = this.report_view.meta.fields;\n\n\t\tconst standard_fields_filter = (df) =>\n\t\t\t!frappe.model.no_value_type.includes(df.fieldtype) && !df.report_hide;\n\n\t\tconst table_fields = frappe.meta.get_table_fields(this.doctype).filter((df) => !df.hidden);\n\n\t\ttable_fields.forEach((df) => {\n\t\t\tconst cdt = df.options;\n\t\t\tconst child_table_fields = frappe.meta\n\t\t\t\t.get_docfields(cdt)\n\t\t\t\t.filter(standard_fields_filter)\n\t\t\t\t.sort((a, b) => __(cstr(a.label)).localeCompare(__(cstr(b.label))));\n\t\t\tthis.group_by_fields[cdt] = child_table_fields;\n\t\t\tthis.all_fields[cdt] = child_table_fields;\n\t\t});\n\n\t\treturn this.group_by_fields;\n\t}\n\n\tupdate_group_by_button() {\n\t\tconst group_by_applied = Boolean(this.group_by_field);\n\t\tconst button_label = group_by_applied\n\t\t\t? __(\"Grouped by <span style='font-weight:600;'>{0}</b>\", [\n\t\t\t\t\tthis.get_group_by_field_label(),\n\t\t\t  ])\n\t\t\t: __(\"Add Group\");\n\n\t\tthis.group_by_button\n\t\t\t.toggleClass(\"btn-default\", !group_by_applied)\n\t\t\t.toggleClass(\"btn-primary-light\", group_by_applied);\n\n\t\tthis.group_by_button.find(\".group-by-icon\").toggleClass(\"active\", group_by_applied);\n\n\t\tthis.group_by_button.find(\".button-label\").html(button_label);\n\t\tthis.group_by_button.attr(\n\t\t\t\"title\",\n\t\t\t`Results are Grouped by ${this.get_group_by_field_label()}`\n\t\t);\n\t}\n\n\tget_group_by_field_label() {\n\t\tlet field = this.group_by_fields[this.group_by_doctype]?.find(\n\t\t\t(field) => field.fieldname == this.group_by_field\n\t\t);\n\t\treturn field?.label || field?.fieldname;\n\t}\n};\n", "frappe.provide(\"frappe.report_utils\");\n\nfrappe.report_utils = {\n\tmake_chart_options: function (\n\t\tcolumns,\n\t\traw_data,\n\t\t{ y_fields, x_field, chart_type, colors, height }\n\t) {\n\t\tconst type = chart_type.toLowerCase();\n\n\t\tlet rows = raw_data.result.filter((value) => Object.keys(value).length);\n\n\t\tlet labels = get_column_values(x_field);\n\t\tlet datasets = y_fields.map((y_field) => ({\n\t\t\tname: frappe.model.unscrub(y_field),\n\t\t\tvalues: get_column_values(y_field).map((d) => Number(d)),\n\t\t}));\n\n\t\tif (raw_data.add_total_row) {\n\t\t\tlabels = labels.slice(0, -1);\n\t\t\tdatasets.forEach((dataset) => {\n\t\t\t\tdataset.values = dataset.values.slice(0, -1);\n\t\t\t});\n\t\t}\n\n\t\treturn {\n\t\t\tdata: {\n\t\t\t\tlabels: labels.length ? labels : null,\n\t\t\t\tdatasets: datasets,\n\t\t\t},\n\t\t\ttruncateLegends: 1,\n\t\t\ttype: type,\n\t\t\theight: height ? height : 280,\n\t\t\tcolors: colors,\n\t\t\taxisOptions: {\n\t\t\t\tshortenYAxisNumbers: 1,\n\t\t\t\txAxisMode: \"tick\",\n\t\t\t\tnumberFormatter: frappe.utils.format_chart_axis_number,\n\t\t\t},\n\t\t};\n\n\t\tfunction get_column_values(column_name) {\n\t\t\tif (Array.isArray(rows[0])) {\n\t\t\t\tlet column_index = columns.findIndex((column) => column.fieldname == column_name);\n\t\t\t\treturn rows.map((row) => row[column_index]);\n\t\t\t} else {\n\t\t\t\treturn rows.map((row) => row[column_name]);\n\t\t\t}\n\t\t}\n\t},\n\n\tget_field_options_from_report: function (columns, data) {\n\t\tconst rows = data.result.filter((value) => Object.keys(value).length);\n\t\tconst first_row = Array.isArray(rows[0])\n\t\t\t? rows[0]\n\t\t\t: columns.map((col) => rows[0][col.fieldname]);\n\n\t\tconst indices = first_row.reduce((accumulator, current_value, current_index) => {\n\t\t\tif (Number.isFinite(current_value)) {\n\t\t\t\taccumulator.push(current_index);\n\t\t\t}\n\t\t\treturn accumulator;\n\t\t}, []);\n\n\t\tfunction get_options(fields) {\n\t\t\treturn fields.map((field) => {\n\t\t\t\tif (field.fieldname) {\n\t\t\t\t\treturn { label: field.label, value: field.fieldname };\n\t\t\t\t} else {\n\t\t\t\t\tfield = frappe.report_utils.prepare_field_from_column(field);\n\t\t\t\t\treturn { label: field.label, value: field.fieldname };\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tconst numeric_fields = columns.filter((col, i) => indices.includes(i));\n\t\tconst non_numeric_fields = columns.filter((col, i) => !indices.includes(i));\n\n\t\tlet numeric_field_options = get_options(numeric_fields);\n\t\tlet non_numeric_field_options = get_options(non_numeric_fields);\n\n\t\treturn {\n\t\t\tnumeric_fields: numeric_field_options,\n\t\t\tnon_numeric_fields: non_numeric_field_options,\n\t\t};\n\t},\n\n\tprepare_field_from_column: function (column) {\n\t\tif (typeof column === \"string\") {\n\t\t\tif (column.includes(\":\")) {\n\t\t\t\tlet [label, fieldtype, width] = column.split(\":\");\n\t\t\t\tlet options;\n\n\t\t\t\tif (fieldtype.includes(\"/\")) {\n\t\t\t\t\t[fieldtype, options] = fieldtype.split(\"/\");\n\t\t\t\t}\n\n\t\t\t\tcolumn = {\n\t\t\t\t\tlabel,\n\t\t\t\t\tfieldname: label,\n\t\t\t\t\tfieldtype,\n\t\t\t\t\twidth,\n\t\t\t\t\toptions,\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tcolumn = {\n\t\t\t\t\tlabel: column,\n\t\t\t\t\tfieldname: column,\n\t\t\t\t\tfieldtype: \"Data\",\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\treturn column;\n\t},\n\n\tget_report_filters: function (report_name) {\n\t\tif (frappe.query_reports[report_name]) {\n\t\t\tlet filters = frappe.query_reports[report_name].filters;\n\t\t\treturn Promise.resolve(filters);\n\t\t}\n\n\t\treturn frappe\n\t\t\t.xcall(\"frappe.desk.query_report.get_script\", {\n\t\t\t\treport_name: report_name,\n\t\t\t})\n\t\t\t.then((r) => {\n\t\t\t\tfrappe.dom.eval(r.script || \"\");\n\t\t\t\treturn frappe.after_ajax(() => {\n\t\t\t\t\tif (\n\t\t\t\t\t\tfrappe.query_reports[report_name] &&\n\t\t\t\t\t\t!frappe.query_reports[report_name].filters &&\n\t\t\t\t\t\tr.filters\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn (frappe.query_reports[report_name].filters = r.filters);\n\t\t\t\t\t}\n\t\t\t\t\treturn (\n\t\t\t\t\t\tfrappe.query_reports[report_name] &&\n\t\t\t\t\t\tfrappe.query_reports[report_name].filters\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t});\n\t},\n\n\tget_filter_values(filters) {\n\t\treturn filters\n\t\t\t.map((f) => {\n\t\t\t\tvar v = f.default;\n\t\t\t\treturn {\n\t\t\t\t\t[f.fieldname]: v,\n\t\t\t\t};\n\t\t\t})\n\t\t\t.reduce((acc, f) => {\n\t\t\t\tObject.assign(acc, f);\n\t\t\t\treturn acc;\n\t\t\t}, {});\n\t},\n\n\tget_result_of_fn(fn, values) {\n\t\tconst get_result = {\n\t\t\tMinimum: (values) => values.reduce((min, val) => Math.min(min, val), values[0]),\n\t\t\tMaximum: (values) => values.reduce((min, val) => Math.max(min, val), values[0]),\n\t\t\tAverage: (values) => values.reduce((a, b) => a + b, 0) / values.length,\n\t\t\tSum: (values) => values.reduce((a, b) => a + b, 0),\n\t\t};\n\t\treturn get_result[fn](values);\n\t},\n\n\tget_export_dialog(report_name, extra_fields, callback) {\n\t\tconst fields = [\n\t\t\t{\n\t\t\t\tlabel: \"File Format\",\n\t\t\t\tfieldname: \"file_format\",\n\t\t\t\tfieldtype: \"Select\",\n\t\t\t\toptions: [\"Excel\", \"CSV\"],\n\t\t\t\tdefault: \"Excel\",\n\t\t\t\treqd: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Section Break\",\n\t\t\t\tfieldname: \"csv_settings\",\n\t\t\t\tlabel: \"Settings\",\n\t\t\t\tcollapsible: 1,\n\t\t\t\tdepends_on: \"eval:doc.file_format=='CSV'\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Data\",\n\t\t\t\tlabel: \"CSV Delimiter\",\n\t\t\t\tfieldname: \"csv_delimiter\",\n\t\t\t\tdefault: \",\",\n\t\t\t\tlength: 1,\n\t\t\t\tdepends_on: \"eval:doc.file_format=='CSV'\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Select\",\n\t\t\t\tlabel: \"CSV Quoting\",\n\t\t\t\tfieldname: \"csv_quoting\",\n\t\t\t\toptions: [\n\t\t\t\t\t{ value: 0, label: \"Minimal\" },\n\t\t\t\t\t{ value: 1, label: \"All\" },\n\t\t\t\t\t{ value: 2, label: \"Non-numeric\" },\n\t\t\t\t\t{ value: 3, label: \"None\" },\n\t\t\t\t],\n\t\t\t\tdefault: 2,\n\t\t\t\tdepends_on: \"eval:doc.file_format=='CSV'\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Small Text\",\n\t\t\t\tlabel: \"CSV Preview\",\n\t\t\t\tfieldname: \"csv_preview\",\n\t\t\t\tread_only: 1,\n\t\t\t\tdepends_on: \"eval:doc.file_format=='CSV'\",\n\t\t\t},\n\t\t];\n\n\t\tif (extra_fields) {\n\t\t\tfields.push(\n\t\t\t\t{\n\t\t\t\t\tfieldtype: \"Section Break\",\n\t\t\t\t\tfieldname: \"extra_fields\",\n\t\t\t\t\tcollapsible: 0,\n\t\t\t\t},\n\t\t\t\t...extra_fields\n\t\t\t);\n\t\t}\n\n\t\tconst dialog = new frappe.ui.Dialog({\n\t\t\ttitle: __(\"Export Report: {0}\", [report_name], \"Export report\"),\n\t\t\tfields: fields,\n\t\t\tprimary_action_label: __(\"Download\", null, \"Export report\"),\n\t\t\tprimary_action: callback,\n\t\t});\n\n\t\tfunction update_csv_preview(dialog) {\n\t\t\tconst is_query_report = frappe.get_route()[0] === \"query-report\";\n\t\t\tconst report = is_query_report ? frappe.query_report : cur_list;\n\t\t\tconst columns = report.columns.filter((col) => col.hidden !== 1);\n\t\t\tlet PREVIEW_DATA = [\n\t\t\t\tcolumns.map((col) => __(is_query_report ? col.label : col.name)),\n\t\t\t\t...report.data\n\t\t\t\t\t.slice(0, 3)\n\t\t\t\t\t.map((row) =>\n\t\t\t\t\t\tcolumns.map((col) => row[is_query_report ? col.fieldname : col.field])\n\t\t\t\t\t),\n\t\t\t];\n\n\t\t\tdialog.set_value(\n\t\t\t\t\"csv_preview\",\n\t\t\t\tfrappe.report_utils.get_csv_preview(\n\t\t\t\t\tPREVIEW_DATA,\n\t\t\t\t\tdialog.get_value(\"csv_quoting\"),\n\t\t\t\t\tdialog.get_value(\"csv_delimiter\")\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\tdialog.fields_dict[\"file_format\"].df.onchange = () => update_csv_preview(dialog);\n\t\tdialog.fields_dict[\"csv_quoting\"].df.onchange = () => update_csv_preview(dialog);\n\t\tdialog.fields_dict[\"csv_delimiter\"].df.onchange = () => update_csv_preview(dialog);\n\n\t\treturn dialog;\n\t},\n\n\tget_csv_preview(data, quoting, delimiter) {\n\t\t// data: array of arrays\n\t\t// quoting: 0 - minimal, 1 - all, 2 - non-numeric, 3 - none\n\t\t// delimiter: any single character\n\t\tquoting = cint(quoting);\n\t\tconst QUOTING = {\n\t\t\tMinimal: 0,\n\t\t\tAll: 1,\n\t\t\tNonNumeric: 2,\n\t\t\tNone: 3,\n\t\t};\n\n\t\tif (delimiter.length > 1) {\n\t\t\tfrappe.throw(__(\"Delimiter must be a single character\"));\n\t\t}\n\n\t\tif (0 > quoting || quoting > 3) {\n\t\t\tfrappe.throw(__(\"Quoting must be between 0 and 3\"));\n\t\t}\n\n\t\treturn data\n\t\t\t.map((row) => {\n\t\t\t\treturn row\n\t\t\t\t\t.map((col) => {\n\t\t\t\t\t\tif (typeof col == \"string\" && col.includes('\"')) {\n\t\t\t\t\t\t\tcol = col.replace(/\"/g, '\"\"');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tswitch (quoting) {\n\t\t\t\t\t\t\tcase QUOTING.Minimal:\n\t\t\t\t\t\t\t\treturn typeof col === \"string\" && col.includes(delimiter)\n\t\t\t\t\t\t\t\t\t? `\"${col}\"`\n\t\t\t\t\t\t\t\t\t: `${col}`;\n\t\t\t\t\t\t\tcase QUOTING.All:\n\t\t\t\t\t\t\t\treturn `\"${col}\"`;\n\t\t\t\t\t\t\tcase QUOTING.NonNumeric:\n\t\t\t\t\t\t\t\treturn isNaN(col) ? `\"${col}\"` : `${col}`;\n\t\t\t\t\t\t\tcase QUOTING.None:\n\t\t\t\t\t\t\t\treturn `${col}`;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.join(delimiter);\n\t\t\t})\n\t\t\t.join(\"\\n\");\n\t},\n};\n"],
  "mappings": "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",
  "names": ["e", "t", "n", "o", "i", "r", "a", "l", "s", "c", "u", "d", "h", "f", "p", "g", "m", "v", "b", "$", "T", "O", "x", "w", "A", "y", "E", "D", "C", "S", "_", "$", "event", "module", "Symbol", "Set", "col", "row", "name", "rowIndex", "it", "colIndex", "exports", "o", "e", "n", "isNumber", "HyperList", "config", "render", "selector", "key", "DataTable", "DataTable", "value", "df", "totals", "import_frappe_datatable", "DataTable", "column", "fieldname", "value", "field", "values", "dialog"]
}
