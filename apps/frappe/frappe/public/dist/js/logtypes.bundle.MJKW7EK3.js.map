{
  "version": 3,
  "sources": ["../../../../../apps/frappe/frappe/public/js/frappe/logtypes.js"],
  "sourcesContent": ["// Copyright (c) 2022, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\n// Common utility functions for logging doctypes.\n\nfrappe.provide(\"frappe.utils.logtypes\");\n\nfrappe.utils.logtypes.show_log_retention_message = (doctype) => {\n\tif (!frappe.model.can_write(\"Log Settings\")) {\n\t\treturn;\n\t}\n\n\tconst add_sidebar_message = (message) => {\n\t\tlet sidebar_entry = $('<ul class=\"list-unstyled sidebar-menu\"></ul>').appendTo(\n\t\t\tcur_list.page.sidebar\n\t\t);\n\t\t$(`<div>${message}</div>`).appendTo(sidebar_entry);\n\t};\n\n\tconst log_settings_link = `<a href='/app/log-settings'>${__(\"Log Settings\")}</a>`;\n\tconst cta = __(\"You can change the retention policy from {0}.\", [log_settings_link]);\n\tlet message = __(\"{0} records are not automatically deleted.\", [__(doctype)]);\n\n\tfrappe.db\n\t\t.get_value(\"Logs To Clear\", { ref_doctype: doctype }, \"days\", null, \"Log Settings\")\n\t\t.then((r) => {\n\t\t\tif (!r.exc && r.message && r.message.days) {\n\t\t\t\tmessage = __(\"{0} records are retained for {1} days.\", [\n\t\t\t\t\t__(doctype),\n\t\t\t\t\tr.message.days,\n\t\t\t\t]);\n\t\t\t}\n\t\t\tadd_sidebar_message(`${message} ${cta}`);\n\t\t});\n};\n"],
  "mappings": ";;AAKA,SAAO,QAAQ,uBAAuB;AAEtC,SAAO,MAAM,SAAS,6BAA6B,CAAC,YAAY;AAC/D,QAAI,CAAC,OAAO,MAAM,UAAU,cAAc,GAAG;AAC5C;AAAA,IACD;AAEA,UAAM,sBAAsB,CAACA,aAAY;AACxC,UAAI,gBAAgB,EAAE,8CAA8C,EAAE;AAAA,QACrE,SAAS,KAAK;AAAA,MACf;AACA,QAAE,QAAQA,gBAAe,EAAE,SAAS,aAAa;AAAA,IAClD;AAEA,UAAM,oBAAoB,+BAA+B,GAAG,cAAc;AAC1E,UAAM,MAAM,GAAG,iDAAiD,CAAC,iBAAiB,CAAC;AACnF,QAAI,UAAU,GAAG,8CAA8C,CAAC,GAAG,OAAO,CAAC,CAAC;AAE5E,WAAO,GACL,UAAU,iBAAiB,EAAE,aAAa,QAAQ,GAAG,QAAQ,MAAM,cAAc,EACjF,KAAK,CAAC,MAAM;AACZ,UAAI,CAAC,EAAE,OAAO,EAAE,WAAW,EAAE,QAAQ,MAAM;AAC1C,kBAAU,GAAG,0CAA0C;AAAA,UACtD,GAAG,OAAO;AAAA,UACV,EAAE,QAAQ;AAAA,QACX,CAAC;AAAA,MACF;AACA,0BAAoB,GAAG,WAAW,KAAK;AAAA,IACxC,CAAC;AAAA,EACH;",
  "names": ["message"]
}
