{
  "version": 3,
  "sources": ["../../../../../apps/erpnext/erpnext/public/js/bom_configurator/bom_configurator.bundle.js"],
  "sourcesContent": ["class BOMConfigurator {\n\tconstructor({ wrapper, page, frm, bom_configurator }) {\n\t\tthis.$wrapper = $(wrapper);\n\t\tthis.page = page;\n\t\tthis.bom_configurator = bom_configurator;\n\t\tthis.frm = frm;\n\n\t\tthis.make();\n\t\tthis.prepare_layout();\n\t\tthis.bind_events();\n\t}\n\n\tadd_boms() {\n\t\tthis.frm.call({\n\t\t\tmethod: \"add_boms\",\n\t\t\tfreeze: true,\n\t\t\tdoc: this.frm.doc,\n\t\t});\n\t}\n\n\tmake() {\n\t\tlet options = {\n\t\t\t...this.tree_options(),\n\t\t\t...this.tree_methods(),\n\t\t};\n\n\t\tfrappe.views.trees[\"BOM Configurator\"] = new frappe.views.TreeView(options);\n\t\tthis.tree_view = frappe.views.trees[\"BOM Configurator\"];\n\t}\n\n\tbind_events() {\n\t\tfrappe.views.trees[\"BOM Configurator\"].events = {\n\t\t\tfrm: this.frm,\n\t\t\tadd_item: this.add_item,\n\t\t\tadd_sub_assembly: this.add_sub_assembly,\n\t\t\tget_sub_assembly_modal_fields: this.get_sub_assembly_modal_fields,\n\t\t\tconvert_to_sub_assembly: this.convert_to_sub_assembly,\n\t\t\tdelete_node: this.delete_node,\n\t\t\tedit_qty: this.edit_qty,\n\t\t\tload_tree: this.load_tree,\n\t\t\tset_default_qty: this.set_default_qty,\n\t\t}\n\t}\n\n\ttree_options() {\n\t\treturn {\n\t\t\tparent: this.$wrapper.get(0),\n\t\t\tbody: this.$wrapper.get(0),\n\t\t\tdoctype: 'BOM Configurator',\n\t\t\tpage: this.page,\n\t\t\texpandable: true,\n\t\t\ttitle: __(\"Configure Product Assembly\"),\n\t\t\tbreadcrumb: \"Manufacturing\",\n\t\t\tget_tree_nodes: \"erpnext.manufacturing.doctype.bom_creator.bom_creator.get_children\",\n\t\t\troot_label: this.frm.doc.item_code,\n\t\t\tdisable_add_node: true,\n\t\t\tget_tree_root: false,\n\t\t\tshow_expand_all: false,\n\t\t\textend_toolbar: false,\n\t\t\tdo_not_make_page: true,\n\t\t\tdo_not_setup_menu: true,\n\t\t}\n\t}\n\n\ttree_methods() {\n\t\tlet frm_obj = this;\n\t\tlet view = frappe.views.trees[\"BOM Configurator\"];\n\n\t\treturn {\n\t\t\tonload: function(me) {\n\t\t\t\tme.args[\"parent_id\"] = frm_obj.frm.doc.name;\n\t\t\t\tme.args[\"parent\"] = frm_obj.frm.doc.item_code;\n\t\t\t\tme.parent = frm_obj.$wrapper.get(0);\n\t\t\t\tme.body = frm_obj.$wrapper.get(0);\n\t\t\t\tme.make_tree();\n\t\t\t},\n\t\t\tonrender(node) {\n\t\t\t\tconst qty = node.data.qty || frm_obj.frm.doc.qty;\n\t\t\t\tconst uom = node.data.uom || frm_obj.frm.doc.uom;\n\t\t\t\tconst docname = node.data.name || frm_obj.frm.doc.name;\n\t\t\t\tlet amount = node.data.amount;\n\t\t\t\tif (node.data.value === frm_obj.frm.doc.item_code) {\n\t\t\t\t\tamount = frm_obj.frm.doc.raw_material_cost;\n\t\t\t\t}\n\n\t\t\t\tamount = frappe.format(amount, { fieldtype: \"Currency\", currency: frm_obj.frm.doc.currency });\n\n\t\t\t\t$(`\n\t\t\t\t\t<div class=\"pill small pull-right bom-qty-pill\"\n\t\t\t\t\t\tstyle=\"background-color: var(--bg-white);\n\t\t\t\t\t\t\tcolor: var(--text-on-gray);\n\t\t\t\t\t\t\tfont-weight:450;\n\t\t\t\t\t\t\tmargin-right: 40px;\n\t\t\t\t\t\t\tdisplay: inline-flex;\n\t\t\t\t\t\t\tmin-width: 128px;\n\t\t\t\t\t\t\tborder: 1px solid var(--bg-gray);\n\t\t\t\t\t\t\">\n\t\t\t\t\t\t\t<div style=\"padding-right:5px\" data-bom-qty-docname=\"${docname}\">${qty} ${uom}</div>\n\t\t\t\t\t\t\t<div class=\"fg-item-amt\" style=\"padding-left:12px; border-left:1px solid var(--bg-gray)\">\n\t\t\t\t\t\t\t\t${amount}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t`).insertBefore(node.$ul);\n\t\t\t},\n\t\t\ttoolbar: this.frm?.doc.docstatus === 0 ? [\n\t\t\t\t{\n\t\t\t\t\tlabel:__(frappe.utils.icon('edit', 'sm') + \" Qty\"),\n\t\t\t\t\tclick: function(node) {\n\t\t\t\t\t\tlet view = frappe.views.trees[\"BOM Configurator\"];\n\t\t\t\t\t\tview.events.edit_qty(node, view);\n\t\t\t\t\t},\n\t\t\t\t\tbtnClass: \"hidden-xs\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel:__(frappe.utils.icon('add', 'sm') + \" Raw Material\"),\n\t\t\t\t\tclick: function(node) {\n\t\t\t\t\t\tlet view = frappe.views.trees[\"BOM Configurator\"];\n\t\t\t\t\t\tview.events.add_item(node, view);\n\t\t\t\t\t},\n\t\t\t\t\tcondition: function(node) {\n\t\t\t\t\t\treturn node.expandable;\n\t\t\t\t\t},\n\t\t\t\t\tbtnClass: \"hidden-xs\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel:__(frappe.utils.icon('add', 'sm') + \" Sub Assembly\"),\n\t\t\t\t\tclick: function(node) {\n\t\t\t\t\t\tlet view = frappe.views.trees[\"BOM Configurator\"];\n\t\t\t\t\t\tview.events.add_sub_assembly(node, view);\n\t\t\t\t\t},\n\t\t\t\t\tcondition: function(node) {\n\t\t\t\t\t\treturn node.expandable;\n\t\t\t\t\t},\n\t\t\t\t\tbtnClass: \"hidden-xs\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel:__(\"Expand All\"),\n\t\t\t\t\tclick: function(node) {\n\t\t\t\t\t\tlet view = frappe.views.trees[\"BOM Configurator\"];\n\n\t\t\t\t\t\tif (!node.expanded) {\n\t\t\t\t\t\t\tview.tree.load_children(node, true);\n\t\t\t\t\t\t\t$(node.parent[0]).find(\".tree-children\").show();\n\t\t\t\t\t\t\tnode.$toolbar.find(\".expand-all-btn\").html(\"Collapse All\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnode.$tree_link.trigger(\"click\");\n\t\t\t\t\t\t\tnode.$toolbar.find(\".expand-all-btn\").html(\"Expand All\");\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tcondition: function(node) {\n\t\t\t\t\t\treturn node.expandable && node.is_root;\n\t\t\t\t\t},\n\t\t\t\t\tbtnClass: \"hidden-xs expand-all-btn\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel:__(frappe.utils.icon('move', 'sm') + \" Sub Assembly\"),\n\t\t\t\t\tclick: function(node) {\n\t\t\t\t\t\tlet view = frappe.views.trees[\"BOM Configurator\"];\n\t\t\t\t\t\tview.events.convert_to_sub_assembly(node, view);\n\t\t\t\t\t},\n\t\t\t\t\tcondition: function(node) {\n\t\t\t\t\t\treturn !node.expandable;\n\t\t\t\t\t},\n\t\t\t\t\tbtnClass: \"hidden-xs\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel:__(frappe.utils.icon('delete', 'sm') + __(\" Item\")),\n\t\t\t\t\tclick: function(node) {\n\t\t\t\t\t\tlet view = frappe.views.trees[\"BOM Configurator\"];\n\t\t\t\t\t\tview.events.delete_node(node, view);\n\t\t\t\t\t},\n\t\t\t\t\tcondition: function(node) {\n\t\t\t\t\t\treturn !node.is_root;\n\t\t\t\t\t},\n\t\t\t\t\tbtnClass: \"hidden-xs\"\n\t\t\t\t},\n\t\t\t] : [{\n\t\t\t\tlabel:__(\"Expand All\"),\n\t\t\t\tclick: function(node) {\n\t\t\t\t\tlet view = frappe.views.trees[\"BOM Configurator\"];\n\n\t\t\t\t\tif (!node.expanded) {\n\t\t\t\t\t\tview.tree.load_children(node, true);\n\t\t\t\t\t\t$(node.parent[0]).find(\".tree-children\").show();\n\t\t\t\t\t\tnode.$toolbar.find(\".expand-all-btn\").html(\"Collapse All\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnode.$tree_link.trigger(\"click\");\n\t\t\t\t\t\tnode.$toolbar.find(\".expand-all-btn\").html(\"Expand All\");\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcondition: function(node) {\n\t\t\t\t\treturn node.expandable && node.is_root;\n\t\t\t\t},\n\t\t\t\tbtnClass: \"hidden-xs expand-all-btn\"\n\t\t\t}],\n\t\t}\n\t}\n\n\tadd_item(node, view) {\n\t\tfrappe.prompt([\n\t\t\t{ label: __(\"Item\"), fieldname: \"item_code\", fieldtype: \"Link\", options: \"Item\", reqd: 1 },\n\t\t\t{ label: __(\"Qty\"), fieldname: \"qty\", default: 1.0, fieldtype: \"Float\", reqd: 1 },\n\t\t],\n\t\t(data) => {\n\t\t\tif (!node.data.parent_id) {\n\t\t\t\tnode.data.parent_id = this.frm.doc.name;\n\t\t\t}\n\n\t\t\tfrappe.call({\n\t\t\t\tmethod: \"erpnext.manufacturing.doctype.bom_creator.bom_creator.add_item\",\n\t\t\t\targs: {\n\t\t\t\t\tparent: node.data.parent_id,\n\t\t\t\t\tfg_item: node.data.value,\n\t\t\t\t\titem_code: data.item_code,\n\t\t\t\t\tfg_reference_id: node.data.name || this.frm.doc.name,\n\t\t\t\t\tqty: data.qty,\n\t\t\t\t},\n\t\t\t\tcallback: (r) => {\n\t\t\t\t\tview.events.load_tree(r, node);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t__(\"Add Item\"),\n\t\t__(\"Add\"));\n\t}\n\n\tadd_sub_assembly(node, view) {\n\t\tlet dialog = new frappe.ui.Dialog({\n\t\t\tfields: view.events.get_sub_assembly_modal_fields(),\n\t\t\ttitle: __(\"Add Sub Assembly\"),\n\t\t});\n\n\t\tdialog.show();\n\t\tview.events.set_default_qty(dialog);\n\n\t\tdialog.set_primary_action(__(\"Add\"), () => {\n\t\t\tlet bom_item = dialog.get_values();\n\n\t\t\tif (!node.data?.parent_id) {\n\t\t\t\tnode.data.parent_id = this.frm.doc.name;\n\t\t\t}\n\n\t\t\tfrappe.call({\n\t\t\t\tmethod: \"erpnext.manufacturing.doctype.bom_creator.bom_creator.add_sub_assembly\",\n\t\t\t\targs: {\n\t\t\t\t\tparent: node.data.parent_id,\n\t\t\t\t\tfg_item: node.data.value,\n\t\t\t\t\tfg_reference_id: node.data.name || this.frm.doc.name,\n\t\t\t\t\tbom_item: bom_item,\n\t\t\t\t},\n\t\t\t\tcallback: (r) => {\n\t\t\t\t\tview.events.load_tree(r, node);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tdialog.hide();\n\t\t});\n\n\t}\n\n\tget_sub_assembly_modal_fields(read_only=false) {\n\t\treturn [\n\t\t\t{ label: __(\"Sub Assembly Item\"), fieldname: \"item_code\", fieldtype: \"Link\", options: \"Item\", reqd: 1, read_only: read_only },\n\t\t\t{ fieldtype: \"Column Break\" },\n\t\t\t{ label: __(\"Qty\"), fieldname: \"qty\", default: 1.0, fieldtype: \"Float\", reqd: 1, read_only: read_only },\n\t\t\t{ fieldtype: \"Section Break\" },\n\t\t\t{ label: __(\"Raw Materials\"), fieldname: \"items\", fieldtype: \"Table\", reqd: 1,\n\t\t\t\tfields: [\n\t\t\t\t\t{ label: __(\"Item\"), fieldname: \"item_code\", fieldtype: \"Link\", options: \"Item\", reqd: 1, in_list_view: 1 },\n\t\t\t\t\t{ label: __(\"Qty\"), fieldname: \"qty\", default: 1.0, fieldtype: \"Float\", reqd: 1, in_list_view: 1 },\n\t\t\t\t]\n\t\t\t},\n\t\t]\n\t}\n\n\tconvert_to_sub_assembly(node, view) {\n\t\tlet dialog = new frappe.ui.Dialog({\n\t\t\tfields: view.events.get_sub_assembly_modal_fields(true),\n\t\t\ttitle: __(\"Add Sub Assembly\"),\n\t\t});\n\n\t\tdialog.set_values({\n\t\t\titem_code: node.data.value,\n\t\t\tqty: node.data.qty,\n\t\t});\n\n\t\tdialog.show();\n\t\tview.events.set_default_qty(dialog);\n\n\t\tdialog.set_primary_action(__(\"Add\"), () => {\n\t\t\tlet bom_item = dialog.get_values();\n\n\t\t\tfrappe.call({\n\t\t\t\tmethod: \"erpnext.manufacturing.doctype.bom_creator.bom_creator.add_sub_assembly\",\n\t\t\t\targs: {\n\t\t\t\t\tparent: node.data.parent_id,\n\t\t\t\t\tfg_item: node.data.value,\n\t\t\t\t\tbom_item: bom_item,\n\t\t\t\t\tfg_reference_id: node.data.name || this.frm.doc.name,\n\t\t\t\t\tconvert_to_sub_assembly: true,\n\t\t\t\t},\n\t\t\t\tcallback: (r) => {\n\t\t\t\t\tnode.expandable = true;\n\t\t\t\t\tview.events.load_tree(r, node);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tdialog.hide();\n\t\t});\n\t}\n\n\tset_default_qty(dialog) {\n\t\tdialog.fields_dict.items.grid.fields_map.item_code.onchange = function (event) {\n\t\t\tif (event) {\n\t\t\t\tlet name = $(event.currentTarget).closest('.grid-row').attr(\"data-name\")\n\t\t\t\tlet item_row = dialog.fields_dict.items.grid.grid_rows_by_docname[name].doc;\n\t\t\t\titem_row.qty = 1;\n\t\t\t\tdialog.fields_dict.items.grid.refresh()\n\t\t\t}\n\t\t}\n\t}\n\n\tdelete_node(node, view) {\n\t\tfrappe.confirm(__(\"Are you sure you want to delete this Item?\"), () => {\n\t\t\tfrappe.call({\n\t\t\t\tmethod: \"erpnext.manufacturing.doctype.bom_creator.bom_creator.delete_node\",\n\t\t\t\targs: {\n\t\t\t\t\tparent: node.data.parent_id,\n\t\t\t\t\tfg_item: node.data.value,\n\t\t\t\t\tdoctype: node.data.doctype,\n\t\t\t\t\tdocname: node.data.name,\n\t\t\t\t},\n\t\t\t\tcallback: (r) => {\n\t\t\t\t\tview.events.load_tree(r, node.parent_node);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tedit_qty(node, view) {\n\t\tlet qty = node.data.qty || this.frm.doc.qty;\n\t\tfrappe.prompt([\n\t\t\t{ label: __(\"Qty\"), fieldname: \"qty\", default: qty, fieldtype: \"Float\", reqd: 1 },\n\t\t],\n\t\t(data) => {\n\t\t\tlet doctype = node.data.doctype || this.frm.doc.doctype;\n\t\t\tlet docname = node.data.name || this.frm.doc.name;\n\n\t\t\tfrappe.call({\n\t\t\t\tmethod: \"erpnext.manufacturing.doctype.bom_creator.bom_creator.edit_qty\",\n\t\t\t\targs: {\n\t\t\t\t\tdoctype: doctype,\n\t\t\t\t\tdocname: docname,\n\t\t\t\t\tqty: data.qty,\n\t\t\t\t\tparent: node.data.parent_id,\n\t\t\t\t},\n\t\t\t\tcallback: (r) => {\n\t\t\t\t\tnode.data.qty = data.qty;\n\t\t\t\t\tlet uom = node.data.uom || this.frm.doc.uom;\n\t\t\t\t\t$(node.parent.get(0)).find(`[data-bom-qty-docname='${docname}']`).html(data.qty + \" \" + uom);\n\t\t\t\t\tview.events.load_tree(r, node);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t__(\"Edit Qty\"),\n\t\t__(\"Update\"));\n\t}\n\n\tprepare_layout() {\n\t\tlet main_div = $(this.page)[0];\n\n\t\tmain_div.style.marginBottom = \"15px\";\n\t\t$(main_div).find(\".tree-children\")[0].style.minHeight = \"370px\";\n\t\t$(main_div).find(\".tree-children\")[0].style.maxHeight = \"370px\";\n\t\t$(main_div).find(\".tree-children\")[0].style.overflowY = \"auto\";\n\t}\n\n\tload_tree(response, node) {\n\t\tlet item_row = \"\";\n\t\tlet parent_dom = \"\"\n\t\tlet total_amount = response.message.raw_material_cost;\n\n\t\tfrappe.views.trees[\"BOM Configurator\"].tree.load_children(node);\n\n\t\twhile (node) {\n\t\t\titem_row = response.message.items.filter(item => item.name === node.data.name);\n\n\t\t\tif (item_row?.length) {\n\t\t\t\tnode.data.amount = item_row[0].amount;\n\t\t\t\ttotal_amount = node.data.amount\n\t\t\t} else {\n\t\t\t\ttotal_amount = response.message.raw_material_cost;\n\t\t\t}\n\n\t\t\tparent_dom = $(node.parent.get(0));\n\t\t\ttotal_amount = frappe.format(\n\t\t\t\ttotal_amount, {\n\t\t\t\t\tfieldtype: \"Currency\",\n\t\t\t\t\tcurrency: this.frm.doc.currency\n\t\t\t\t}\n\t\t\t);\n\n\t\t\t$($(parent_dom).find(\".fg-item-amt\")[0]).html(total_amount);\n\t\t\tnode = node.parent_node;\n\n\t\t}\n\n\t}\n}\n\nfrappe.ui.BOMConfigurator = BOMConfigurator;"],
  "mappings": "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",
  "names": ["view"]
}
