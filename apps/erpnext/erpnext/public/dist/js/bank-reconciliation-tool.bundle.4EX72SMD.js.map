{
  "version": 3,
  "sources": ["../../../../../apps/erpnext/erpnext/public/js/bank_reconciliation_tool/data_table_manager.js", "../../../../../apps/erpnext/erpnext/public/js/bank_reconciliation_tool/number_card.js", "../../../../../apps/erpnext/erpnext/public/js/bank_reconciliation_tool/dialog_manager.js"],
  "sourcesContent": ["frappe.provide(\"erpnext.accounts.bank_reconciliation\");\n\nerpnext.accounts.bank_reconciliation.DataTableManager = class DataTableManager {\n\tconstructor(opts) {\n\t\tObject.assign(this, opts);\n\t\tthis.dialog_manager = new erpnext.accounts.bank_reconciliation.DialogManager(\n\t\t\tthis.company,\n\t\t\tthis.bank_account,\n\t\t\tthis.bank_statement_from_date,\n\t\t\tthis.bank_statement_to_date,\n\t\t\tthis.filter_by_reference_date,\n\t\t\tthis.from_reference_date,\n\t\t\tthis.to_reference_date\n\t\t);\n\t\tthis.make_dt();\n\t}\n\n\tmake_dt() {\n\t\tvar me = this;\n\t\tfrappe.call({\n\t\t\tmethod:\n\t\t\t\t\"erpnext.accounts.doctype.bank_reconciliation_tool.bank_reconciliation_tool.get_bank_transactions\",\n\t\t\targs: {\n\t\t\t\tbank_account: this.bank_account,\n\t\t\t\tfrom_date: this.bank_statement_from_date,\n\t\t\t\tto_date: this.bank_statement_to_date\n\t\t\t},\n\t\t\tcallback: function (response) {\n\t\t\t\tme.format_data(response.message);\n\t\t\t\tme.get_dt_columns();\n\t\t\t\tme.get_datatable();\n\t\t\t\tme.set_listeners();\n\t\t\t},\n\t\t});\n\t}\n\n\tget_dt_columns() {\n\t\tthis.columns = [\n\t\t\t{\n\t\t\t\tname: __(\"Date\"),\n\t\t\t\teditable: false,\n\t\t\t\twidth: 100,\n\t\t\t\tformat: frappe.form.formatters.Date,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: __(\"Party Type\"),\n\t\t\t\teditable: false,\n\t\t\t\twidth: 95,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: __(\"Party\"),\n\t\t\t\teditable: false,\n\t\t\t\twidth: 100,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: __(\"Description\"),\n\t\t\t\teditable: false,\n\t\t\t\twidth: 350,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: __(\"Deposit\"),\n\t\t\t\teditable: false,\n\t\t\t\twidth: 100,\n\t\t\t\tformat: (value) =>\n\t\t\t\t\t\"<span style='color:green;'>\" +\n\t\t\t\t\tformat_currency(value, this.currency) +\n\t\t\t\t\t\"</span>\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: __(\"Withdrawal\"),\n\t\t\t\teditable: false,\n\t\t\t\twidth: 100,\n\t\t\t\tformat: (value) =>\n\t\t\t\t\t\"<span style='color:red;'>\" +\n\t\t\t\t\tformat_currency(value, this.currency) +\n\t\t\t\t\t\"</span>\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: __(\"Unallocated Amount\"),\n\t\t\t\teditable: false,\n\t\t\t\twidth: 100,\n\t\t\t\tformat: (value) =>\n\t\t\t\t\t\"<span style='color:var(--blue-500);'>\" +\n\t\t\t\t\tformat_currency(value, this.currency) +\n\t\t\t\t\t\"</span>\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: __(\"Reference Number\"),\n\t\t\t\teditable: false,\n\t\t\t\twidth: 140,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: __(\"Actions\"),\n\t\t\t\teditable: false,\n\t\t\t\tsortable: false,\n\t\t\t\tfocusable: false,\n\t\t\t\tdropdown: false,\n\t\t\t\twidth: 100,\n\t\t\t},\n\t\t];\n\t}\n\n\tformat_data(transactions) {\n\t\tthis.transactions = [];\n\t\tif (transactions[0]) {\n\t\t\tthis.currency = transactions[0][\"currency\"];\n\t\t}\n\t\tthis.transaction_dt_map = {};\n\t\tlet length;\n\t\ttransactions.forEach((row) => {\n\t\t\tlength = this.transactions.push(this.format_row(row));\n\t\t\tthis.transaction_dt_map[row[\"name\"]] = length - 1;\n\t\t});\n\t}\n\n\tformat_row(row) {\n\t\treturn [\n\t\t\trow[\"date\"],\n\t\t\trow[\"party_type\"],\n\t\t\tfrappe.form.formatters.Link(row[\"party\"], {options: row[\"party_type\"]}),\n\t\t\trow[\"description\"],\n\t\t\trow[\"deposit\"],\n\t\t\trow[\"withdrawal\"],\n\t\t\trow[\"unallocated_amount\"],\n\t\t\trow[\"reference_number\"],\n\t\t\t`<button class=\"btn btn-primary btn-xs center\" data-name=\"${row[\"name\"]}\">${__(\"Actions\")}</button>`\n\t\t];\n\t}\n\n\tget_datatable() {\n\t\tconst datatable_options = {\n\t\t\tcolumns: this.columns,\n\t\t\tdata: this.transactions,\n\t\t\tdynamicRowHeight: true,\n\t\t\tcheckboxColumn: false,\n\t\t\tinlineFilters: true,\n\t\t};\n\t\tthis.datatable = new frappe.DataTable(\n\t\t\tthis.$reconciliation_tool_dt.get(0),\n\t\t\tdatatable_options\n\t\t);\n\t\t$(`.${this.datatable.style.scopeClass} .dt-scrollable`).css(\n\t\t\t\"max-height\",\n\t\t\t\"calc(100vh - 400px)\"\n\t\t);\n\n\t\tif (this.transactions.length > 0) {\n\t\t\tthis.$reconciliation_tool_dt.show();\n\t\t\tthis.$no_bank_transactions.hide();\n\t\t} else {\n\t\t\tthis.$reconciliation_tool_dt.hide();\n\t\t\tthis.$no_bank_transactions.show();\n\t\t}\n\t}\n\n\tset_listeners() {\n\t\tvar me = this;\n\t\t$(`.${this.datatable.style.scopeClass} .dt-scrollable`).on(\n\t\t\t\"click\",\n\t\t\t`.btn`,\n\t\t\tfunction () {\n\t\t\t\tme.dialog_manager.show_dialog(\n\t\t\t\t\t$(this).attr(\"data-name\"),\n\t\t\t\t\t(bank_transaction) => me.update_dt_cards(bank_transaction)\n\t\t\t\t);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t);\n\t}\n\n\tupdate_dt_cards(bank_transaction) {\n\t\tconst transaction_index = this.transaction_dt_map[\n\t\t\tbank_transaction.name\n\t\t];\n\t\tif (bank_transaction.unallocated_amount > 0) {\n\t\t\tthis.transactions[transaction_index] = this.format_row(\n\t\t\t\tbank_transaction\n\t\t\t);\n\t\t} else {\n\t\t\tthis.transactions.splice(transaction_index, 1);\n\t\t\tfor (const [k, v] of Object.entries(this.transaction_dt_map)) {\n\t\t\t\tif (v > transaction_index) this.transaction_dt_map[k] = v - 1;\n\t\t\t}\n\t\t}\n\t\tthis.datatable.refresh(this.transactions, this.columns);\n\n\t\tif (this.transactions.length == 0) {\n\t\t\tthis.$reconciliation_tool_dt.hide();\n\t\t\tthis.$no_bank_transactions.show();\n\t\t}\n\n\t\t// this.make_dt();\n\t\tthis.get_cleared_balance().then(() => {\n\t\t\tthis.cards_manager.$cards[1].set_value(\n\t\t\t\tformat_currency(this.cleared_balance),\n\t\t\t\tthis.currency\n\t\t\t);\n\t\t\tthis.cards_manager.$cards[2].set_value(\n\t\t\t\tformat_currency(\n\t\t\t\t\tthis.bank_statement_closing_balance - this.cleared_balance\n\t\t\t\t),\n\t\t\t\tthis.currency\n\t\t\t);\n\t\t\tthis.cards_manager.$cards[2].set_value_color(\n\t\t\t\tthis.bank_statement_closing_balance - this.cleared_balance == 0\n\t\t\t\t\t? \"text-success\"\n\t\t\t\t\t: \"text-danger\"\n\t\t\t);\n\t\t});\n\t}\n\n\tget_cleared_balance() {\n\t\tif (this.bank_account && this.bank_statement_to_date) {\n\t\t\treturn frappe.call({\n\t\t\t\tmethod:\n\t\t\t\t\t\"erpnext.accounts.doctype.bank_reconciliation_tool.bank_reconciliation_tool.get_account_balance\",\n\t\t\t\targs: {\n\t\t\t\t\tbank_account: this.bank_account,\n\t\t\t\t\ttill_date: this.bank_statement_to_date,\n\t\t\t\t},\n\t\t\t\tcallback: (response) =>\n\t\t\t\t\t(this.cleared_balance = response.message),\n\t\t\t});\n\t\t}\n\t}\n};\n", "frappe.provide(\"erpnext.accounts.bank_reconciliation\");\n\nerpnext.accounts.bank_reconciliation.NumberCardManager = class NumberCardManager {\n\tconstructor(opts) {\n\t\tObject.assign(this, opts);\n\t\tthis.make_cards();\n\t}\n\n\tmake_cards() {\n\t\tthis.$reconciliation_tool_cards.empty();\n\t\tthis.$cards = [];\n\t\tthis.$summary = $(`<div class=\"report-summary\"></div>`)\n\t\t\t.hide()\n\t\t\t.appendTo(this.$reconciliation_tool_cards);\n\t\tvar chart_data = [\n\t\t\t{\n\t\t\t\tvalue: this.bank_statement_closing_balance,\n\t\t\t\tlabel: __(\"Closing Balance as per Bank Statement\"),\n\t\t\t\tdatatype: \"Currency\",\n\t\t\t\tcurrency: this.currency,\n\t\t\t},\n\t\t\t{\n\t\t\t\tvalue: this.cleared_balance,\n\t\t\t\tlabel: __(\"Closing Balance as per ERP\"),\n\t\t\t\tdatatype: \"Currency\",\n\t\t\t\tcurrency: this.currency,\n\t\t\t},\n\t\t\t{\n\t\t\t\tvalue:\n\t\t\t\t\tthis.bank_statement_closing_balance - this.cleared_balance,\n\t\t\t\tlabel: __(\"Difference\"),\n\t\t\t\tdatatype: \"Currency\",\n\t\t\t\tcurrency: this.currency,\n\t\t\t},\n\t\t];\n\n\t\tchart_data.forEach((summary) => {\n\t\t\tlet number_card = new erpnext.accounts.NumberCard(summary);\n\t\t\tthis.$cards.push(number_card);\n\n\t\t\tnumber_card.$card.appendTo(this.$summary);\n\t\t});\n\t\tthis.$cards[2].set_value_color(\n\t\t\tthis.bank_statement_closing_balance - this.cleared_balance == 0\n\t\t\t\t? \"text-success\"\n\t\t\t\t: \"text-danger\"\n\t\t);\n\t\tthis.$summary.css({\"border-bottom\": \"0px\", \"margin-left\": \"0px\", \"margin-right\": \"0px\"});\n\t\tthis.$summary.show();\n\t}\n};\n\nerpnext.accounts.NumberCard = class NumberCard {\n\tconstructor(options) {\n\t\tthis.$card = frappe.utils.build_summary_item(options);\n\t}\n\n\tset_value(value) {\n\t\tthis.$card.find(\"div\").text(value);\n\t}\n\n\tset_value_color(color) {\n\t\tthis.$card\n\t\t\t.find(\"div\")\n\t\t\t.removeClass(\"text-danger text-success\")\n\t\t\t.addClass(`${color}`);\n\t}\n\n\tset_indicator(color) {\n\t\tthis.$card\n\t\t\t.find(\"span\")\n\t\t\t.removeClass(\"indicator red green\")\n\t\t\t.addClass(`indicator ${color}`);\n\t}\n};\n", "frappe.provide(\"erpnext.accounts.bank_reconciliation\");\n\nerpnext.accounts.bank_reconciliation.DialogManager = class DialogManager {\n\tconstructor(company, bank_account, bank_statement_from_date, bank_statement_to_date, filter_by_reference_date, from_reference_date, to_reference_date) {\n\t\tthis.bank_account = bank_account;\n\t\tthis.company = company;\n\t\tthis.make_dialog();\n\t\tthis.bank_statement_from_date = bank_statement_from_date;\n\t\tthis.bank_statement_to_date = bank_statement_to_date;\n\t\tthis.filter_by_reference_date = filter_by_reference_date;\n\t\tthis.from_reference_date = from_reference_date;\n\t\tthis.to_reference_date = to_reference_date;\n\t}\n\tshow_dialog(bank_transaction_name, update_dt_cards) {\n\t\tthis.bank_transaction_name = bank_transaction_name;\n\t\tthis.update_dt_cards = update_dt_cards;\n\t\tfrappe.call({\n\t\t\tmethod: \"frappe.client.get_value\",\n\t\t\targs: {\n\t\t\t\tdoctype: \"Bank Transaction\",\n\t\t\t\tfilters: { name: this.bank_transaction_name },\n\t\t\t\tfieldname: [\n\t\t\t\t\t\"date\",\n\t\t\t\t\t\"deposit\",\n\t\t\t\t\t\"withdrawal\",\n\t\t\t\t\t\"currency\",\n\t\t\t\t\t\"description\",\n\t\t\t\t\t\"name\",\n\t\t\t\t\t\"bank_account\",\n\t\t\t\t\t\"company\",\n\t\t\t\t\t\"reference_number\",\n\t\t\t\t\t\"party_type\",\n\t\t\t\t\t\"party\",\n\t\t\t\t\t\"unallocated_amount\",\n\t\t\t\t\t\"allocated_amount\",\n\t\t\t\t\t\"transaction_type\",\n\t\t\t\t],\n\t\t\t},\n\t\t\tcallback: (r) => {\n\t\t\t\tif (r.message) {\n\t\t\t\t\tthis.bank_transaction = r.message;\n\t\t\t\t\tr.message.payment_entry = 1;\n\t\t\t\t\tr.message.journal_entry = 1;\n\t\t\t\t\tthis.dialog.set_values(r.message);\n\t\t\t\t\tthis.copy_data_to_voucher();\n\t\t\t\t\tthis.dialog.show();\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\t}\n\n\tcopy_data_to_voucher() {\n\t\tlet copied = {\n\t\t\treference_number: this.bank_transaction.reference_number || this.bank_transaction.description,\n\t\t\tposting_date: this.bank_transaction.date,\n\t\t\treference_date: this.bank_transaction.date,\n\t\t\tmode_of_payment: this.bank_transaction.transaction_type,\n\t\t};\n\t\tthis.dialog.set_values(copied);\n\t}\n\n\tget_linked_vouchers(document_types) {\n\t\tfrappe.call({\n\t\t\tmethod:\n\t\t\t\t\"erpnext.accounts.doctype.bank_reconciliation_tool.bank_reconciliation_tool.get_linked_payments\",\n\t\t\targs: {\n\t\t\t\tbank_transaction_name: this.bank_transaction_name,\n\t\t\t\tdocument_types: document_types,\n\t\t\t\tfrom_date: this.bank_statement_from_date,\n\t\t\t\tto_date: this.bank_statement_to_date,\n\t\t\t\tfilter_by_reference_date: this.filter_by_reference_date,\n\t\t\t\tfrom_reference_date:this.from_reference_date,\n\t\t\t\tto_reference_date:this.to_reference_date\n\t\t\t},\n\n\t\t\tcallback: (result) => {\n\t\t\t\tconst data = result.message;\n\n\t\t\t\tif (data && data.length > 0) {\n\t\t\t\t\tconst proposals_wrapper = this.dialog.fields_dict.payment_proposals.$wrapper;\n\t\t\t\t\tproposals_wrapper.show();\n\t\t\t\t\tthis.dialog.fields_dict.no_matching_vouchers.$wrapper.hide();\n\t\t\t\t\tthis.data = data.map((row) => this.format_row(row));\n\t\t\t\t\tthis.get_dt_columns();\n\t\t\t\t\tthis.get_datatable(proposals_wrapper);\n\t\t\t\t} else {\n\t\t\t\t\tconst proposals_wrapper = this.dialog.fields_dict.payment_proposals.$wrapper;\n\t\t\t\t\tproposals_wrapper.hide();\n\t\t\t\t\tthis.dialog.fields_dict.no_matching_vouchers.$wrapper.show();\n\t\t\t\t}\n\t\t\t\tthis.dialog.show();\n\t\t\t},\n\t\t});\n\t}\n\n\tget_dt_columns() {\n\t\tthis.columns = [\n\t\t\t{\n\t\t\t\tname: __(\"Document Type\"),\n\t\t\t\teditable: false,\n\t\t\t\twidth: 125,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: __(\"Document Name\"),\n\t\t\t\teditable: false,\n\t\t\t\twidth: 1,\n\t\t\t\tformat: (value, row) => {\n\t\t\t\t\treturn frappe.form.formatters.Link(value, {options: row[2].content});\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: __(\"Reference Date\"),\n\t\t\t\teditable: false,\n\t\t\t\twidth: 120,\n\t\t\t\tformat: frappe.form.formatters.Date,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: __(\"Remaining\"),\n\t\t\t\teditable: false,\n\t\t\t\twidth: 100,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: __(\"Reference Number\"),\n\t\t\t\teditable: false,\n\t\t\t\twidth: 200,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: __(\"Party\"),\n\t\t\t\teditable: false,\n\t\t\t\twidth: 100,\n\t\t\t},\n\t\t];\n\t}\n\n\tformat_row(row) {\n\t\treturn [\n\t\t\trow[\"doctype\"],\n\t\t\trow[\"name\"],\n\t\t\trow[\"reference_date\"] || row[\"posting_date\"],\n\t\t\tformat_currency(row[\"paid_amount\"], row[\"currency\"]),\n\t\t\trow[\"reference_no\"],\n\t\t\trow[\"party\"],\n\t\t];\n\t}\n\n\tget_datatable(proposals_wrapper) {\n\t\tif (!this.datatable) {\n\t\t\tconst datatable_options = {\n\t\t\t\tcolumns: this.columns,\n\t\t\t\tdata: this.data,\n\t\t\t\tdynamicRowHeight: true,\n\t\t\t\tcheckboxColumn: true,\n\t\t\t\tinlineFilters: true,\n\t\t\t};\n\t\t\tthis.datatable = new frappe.DataTable(\n\t\t\t\tproposals_wrapper.get(0),\n\t\t\t\tdatatable_options\n\t\t\t);\n\t\t} else {\n\t\t\tthis.datatable.refresh(this.data, this.columns);\n\t\t\tthis.datatable.rowmanager.checkMap = [];\n\t\t}\n\t}\n\n\tmake_dialog() {\n\t\tconst me = this;\n\t\tme.selected_payment = null;\n\n\t\tconst fields = [\n\t\t\t{\n\t\t\t\tlabel: __(\"Action\"),\n\t\t\t\tfieldname: \"action\",\n\t\t\t\tfieldtype: \"Select\",\n\t\t\t\toptions: `Match Against Voucher\\nCreate Voucher\\nUpdate Bank Transaction`,\n\t\t\t\tdefault: \"Match Against Voucher\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldname: \"column_break_4\",\n\t\t\t\tfieldtype: \"Column Break\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Document Type\"),\n\t\t\t\tfieldname: \"document_type\",\n\t\t\t\tfieldtype: \"Select\",\n\t\t\t\toptions: `Payment Entry\\nJournal Entry`,\n\t\t\t\tdefault: \"Payment Entry\",\n\t\t\t\tdepends_on: \"eval:doc.action=='Create Voucher'\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Section Break\",\n\t\t\t\tfieldname: \"section_break_1\",\n\t\t\t\tlabel: __(\"Filters\"),\n\t\t\t\tdepends_on: \"eval:doc.action=='Match Against Voucher'\",\n\t\t\t},\n\t\t];\n\n\t\tfrappe.call({\n\t\t\tmethod: \"erpnext.accounts.doctype.bank_transaction.bank_transaction.get_doctypes_for_bank_reconciliation\",\n\t\t\tcallback: (r) => {\n\t\t\t\t$.each(r.message, (_i, entry) => {\n\t\t\t\t\tif (_i % 3 == 0) {\n\t\t\t\t\t\tfields.push({\n\t\t\t\t\t\t\tfieldtype: \"Column Break\",\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tfields.push({\n\t\t\t\t\t\tfieldtype: \"Check\",\n\t\t\t\t\t\tlabel: entry,\n\t\t\t\t\t\tfieldname: frappe.scrub(entry),\n\t\t\t\t\t\tonchange: () => this.update_options(),\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tfields.push(...this.get_voucher_fields());\n\n\t\t\t\tme.dialog = new frappe.ui.Dialog({\n\t\t\t\t\ttitle: __(\"Reconcile the Bank Transaction\"),\n\t\t\t\t\tfields: fields,\n\t\t\t\t\tsize: \"large\",\n\t\t\t\t\tprimary_action: (values) =>\n\t\t\t\t\t\tthis.reconciliation_dialog_primary_action(values),\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tget_voucher_fields() {\n\t\treturn [\n\t\t\t{\n\t\t\t\tfieldtype: \"Check\",\n\t\t\t\tlabel: \"Show Only Exact Amount\",\n\t\t\t\tfieldname: \"exact_match\",\n\t\t\t\tonchange: () => this.update_options(),\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldname: \"column_break_5\",\n\t\t\t\tfieldtype: \"Column Break\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Check\",\n\t\t\t\tlabel: \"Bank Transaction\",\n\t\t\t\tfieldname: \"bank_transaction\",\n\t\t\t\tonchange: () => this.update_options(),\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Section Break\",\n\t\t\t\tfieldname: \"section_break_1\",\n\t\t\t\tlabel: __(\"Select Vouchers to Match\"),\n\t\t\t\tdepends_on: \"eval:doc.action=='Match Against Voucher'\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"HTML\",\n\t\t\t\tfieldname: \"payment_proposals\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"HTML\",\n\t\t\t\tfieldname: \"no_matching_vouchers\",\n\t\t\t\toptions: __(\"<div class=\\\"text-muted text-center\\\">{0}</div>\", [__(\"No Matching Vouchers Found\")])\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Section Break\",\n\t\t\t\tfieldname: \"details\",\n\t\t\t\tlabel: \"Details\",\n\t\t\t\tdepends_on: \"eval:doc.action!='Match Against Voucher'\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldname: \"reference_number\",\n\t\t\t\tfieldtype: \"Data\",\n\t\t\t\tlabel: \"Reference Number\",\n\t\t\t\tmandatory_depends_on: \"eval:doc.action=='Create Voucher'\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tdefault: \"Today\",\n\t\t\t\tfieldname: \"posting_date\",\n\t\t\t\tfieldtype: \"Date\",\n\t\t\t\tlabel: \"Posting Date\",\n\t\t\t\treqd: 1,\n\t\t\t\tdepends_on: \"eval:doc.action=='Create Voucher'\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldname: \"reference_date\",\n\t\t\t\tfieldtype: \"Date\",\n\t\t\t\tlabel: \"Cheque/Reference Date\",\n\t\t\t\tmandatory_depends_on: \"eval:doc.action=='Create Voucher'\",\n\t\t\t\tdepends_on: \"eval:doc.action=='Create Voucher'\",\n\t\t\t\treqd: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldname: \"mode_of_payment\",\n\t\t\t\tfieldtype: \"Link\",\n\t\t\t\tlabel: \"Mode of Payment\",\n\t\t\t\toptions: \"Mode of Payment\",\n\t\t\t\tdepends_on: \"eval:doc.action=='Create Voucher'\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldname: \"edit_in_full_page\",\n\t\t\t\tfieldtype: \"Button\",\n\t\t\t\tlabel: \"Edit in Full Page\",\n\t\t\t\tclick: () => {\n\t\t\t\t\tthis.edit_in_full_page();\n\t\t\t\t},\n\t\t\t\tdepends_on:\n\t\t\t\t\t\"eval:doc.action=='Create Voucher'\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldname: \"column_break_7\",\n\t\t\t\tfieldtype: \"Column Break\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tdefault: \"Bank Entry\",\n\t\t\t\tfieldname: \"journal_entry_type\",\n\t\t\t\tfieldtype: \"Select\",\n\t\t\t\tlabel: \"Journal Entry Type\",\n\t\t\t\toptions:\n\t\t\t\t\t\"Journal Entry\\nInter Company Journal Entry\\nBank Entry\\nCash Entry\\nCredit Card Entry\\nDebit Note\\nCredit Note\\nContra Entry\\nExcise Entry\\nWrite Off Entry\\nOpening Entry\\nDepreciation Entry\\nExchange Rate Revaluation\\nDeferred Revenue\\nDeferred Expense\",\n\t\t\t\tdepends_on:\n\t\t\t\t\t\"eval:doc.action=='Create Voucher' &&  doc.document_type=='Journal Entry'\",\n\t\t\t\tmandatory_depends_on:\n\t\t\t\t\t\"eval:doc.action=='Create Voucher' &&  doc.document_type=='Journal Entry'\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldname: \"second_account\",\n\t\t\t\tfieldtype: \"Link\",\n\t\t\t\tlabel: \"Account\",\n\t\t\t\toptions: \"Account\",\n\t\t\t\tdepends_on:\n\t\t\t\t\t\"eval:doc.action=='Create Voucher' &&  doc.document_type=='Journal Entry'\",\n\t\t\t\tmandatory_depends_on:\n\t\t\t\t\t\"eval:doc.action=='Create Voucher' &&  doc.document_type=='Journal Entry'\",\n\t\t\t\tget_query: () => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tfilters: {\n\t\t\t\t\t\t\tis_group: 0,\n\t\t\t\t\t\t\tcompany: this.company,\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldname: \"party_type\",\n\t\t\t\tfieldtype: \"Link\",\n\t\t\t\tlabel: \"Party Type\",\n\t\t\t\toptions: \"DocType\",\n\t\t\t\tmandatory_depends_on:\n\t\t\t\t\"eval:doc.action=='Create Voucher' &&  doc.document_type=='Payment Entry'\",\n\t\t\t\tget_query: function () {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tfilters: {\n\t\t\t\t\t\t\tname: [\n\t\t\t\t\t\t\t\t\"in\",\n\t\t\t\t\t\t\t\tObject.keys(frappe.boot.party_account_types),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldname: \"party\",\n\t\t\t\tfieldtype: \"Dynamic Link\",\n\t\t\t\tlabel: \"Party\",\n\t\t\t\toptions: \"party_type\",\n\t\t\t\tmandatory_depends_on:\n\t\t\t\t\t\"eval:doc.action=='Create Voucher' && doc.document_type=='Payment Entry'\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldname: \"project\",\n\t\t\t\tfieldtype: \"Link\",\n\t\t\t\tlabel: \"Project\",\n\t\t\t\toptions: \"Project\",\n\t\t\t\tdepends_on:\n\t\t\t\t\t\"eval:doc.action=='Create Voucher' && doc.document_type=='Payment Entry'\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldname: \"cost_center\",\n\t\t\t\tfieldtype: \"Link\",\n\t\t\t\tlabel: \"Cost Center\",\n\t\t\t\toptions: \"Cost Center\",\n\t\t\t\tdepends_on:\n\t\t\t\t\t\"eval:doc.action=='Create Voucher' && doc.document_type=='Payment Entry'\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Section Break\",\n\t\t\t\tfieldname: \"details_section\",\n\t\t\t\tlabel: \"Transaction Details\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldname: \"date\",\n\t\t\t\tfieldtype: \"Date\",\n\t\t\t\tlabel: \"Date\",\n\t\t\t\tread_only: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldname: \"deposit\",\n\t\t\t\tfieldtype: \"Currency\",\n\t\t\t\tlabel: \"Deposit\",\n\t\t\t\toptions: \"account_currency\",\n\t\t\t\tread_only: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldname: \"withdrawal\",\n\t\t\t\tfieldtype: \"Currency\",\n\t\t\t\tlabel: \"Withdrawal\",\n\t\t\t\toptions: \"account_currency\",\n\t\t\t\tread_only: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldname: \"column_break_17\",\n\t\t\t\tfieldtype: \"Column Break\",\n\t\t\t\tread_only: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldname: \"description\",\n\t\t\t\tfieldtype: \"Small Text\",\n\t\t\t\tlabel: \"Description\",\n\t\t\t\tread_only: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldname: \"allocated_amount\",\n\t\t\t\tfieldtype: \"Currency\",\n\t\t\t\tlabel: \"Allocated Amount\",\n\t\t\t\toptions: \"account_currency\",\n\t\t\t\tread_only: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldname: \"unallocated_amount\",\n\t\t\t\tfieldtype: \"Currency\",\n\t\t\t\tlabel: \"Unallocated Amount\",\n\t\t\t\toptions: \"account_currency\",\n\t\t\t\tread_only: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldname: \"account_currency\",\n\t\t\t\tfieldtype: \"Link\",\n\t\t\t\tlabel: \"Currency\",\n\t\t\t\toptions: \"Currency\",\n\t\t\t\tread_only: 1,\n\t\t\t\thidden: 1,\n\t\t\t}\n\t\t];\n\t}\n\n\tget_selected_attributes() {\n\t\tlet selected_attributes = [];\n\t\tthis.dialog.$wrapper.find(\".checkbox input\").each((i, col) => {\n\t\t\tif ($(col).is(\":checked\")) {\n\t\t\t\tselected_attributes.push($(col).attr(\"data-fieldname\"));\n\t\t\t}\n\t\t});\n\n\t\treturn selected_attributes;\n\t}\n\n\tupdate_options() {\n\t\tlet selected_attributes = this.get_selected_attributes();\n\t\tthis.get_linked_vouchers(selected_attributes);\n\t}\n\n\treconciliation_dialog_primary_action(values) {\n\t\tif (values.action == \"Match Against Voucher\") this.match(values);\n\t\tif (\n\t\t\tvalues.action == \"Create Voucher\" &&\n\t\t\tvalues.document_type == \"Payment Entry\"\n\t\t)\n\t\t\tthis.add_payment_entry(values);\n\t\tif (\n\t\t\tvalues.action == \"Create Voucher\" &&\n\t\t\tvalues.document_type == \"Journal Entry\"\n\t\t)\n\t\t\tthis.add_journal_entry(values);\n\t\telse if (values.action == \"Update Bank Transaction\")\n\t\t\tthis.update_transaction(values);\n\t}\n\n\tmatch() {\n\t\tvar selected_map = this.datatable.rowmanager.checkMap;\n\t\tlet rows = [];\n\t\tselected_map.forEach((val, index) => {\n\t\t\tif (val == 1) rows.push(this.datatable.datamanager.rows[index]);\n\t\t});\n\t\tlet vouchers = [];\n\t\trows.forEach((x) => {\n\t\t\tvouchers.push({\n\t\t\t\tpayment_doctype: x[2].content,\n\t\t\t\tpayment_name: x[3].content,\n\t\t\t\tamount: x[5].content,\n\t\t\t});\n\t\t});\n\t\tfrappe.call({\n\t\t\tmethod:\n\t\t\t\t\"erpnext.accounts.doctype.bank_reconciliation_tool.bank_reconciliation_tool.reconcile_vouchers\",\n\t\t\targs: {\n\t\t\t\tbank_transaction_name: this.bank_transaction.name,\n\t\t\t\tvouchers: vouchers,\n\t\t\t},\n\t\t\tcallback: (response) => {\n\t\t\t\tconst alert_string = __(\"Bank Transaction {0} Matched\", [this.bank_transaction.name]);\n\t\t\t\tfrappe.show_alert(alert_string);\n\t\t\t\tthis.update_dt_cards(response.message);\n\t\t\t\tthis.dialog.hide();\n\t\t\t},\n\t\t});\n\t}\n\n\tadd_payment_entry(values) {\n\t\tfrappe.call({\n\t\t\tmethod:\n\t\t\t\t\"erpnext.accounts.doctype.bank_reconciliation_tool.bank_reconciliation_tool.create_payment_entry_bts\",\n\t\t\targs: {\n\t\t\t\tbank_transaction_name: this.bank_transaction.name,\n\t\t\t\treference_number: values.reference_number,\n\t\t\t\treference_date: values.reference_date,\n\t\t\t\tparty_type: values.party_type,\n\t\t\t\tparty: values.party,\n\t\t\t\tposting_date: values.posting_date,\n\t\t\t\tmode_of_payment: values.mode_of_payment,\n\t\t\t\tproject: values.project,\n\t\t\t\tcost_center: values.cost_center,\n\t\t\t},\n\t\t\tcallback: (response) => {\n\t\t\t\tconst alert_string = __(\"Bank Transaction {0} added as Payment Entry\", [this.bank_transaction.name]);\n\t\t\t\tfrappe.show_alert(alert_string);\n\t\t\t\tthis.update_dt_cards(response.message);\n\t\t\t\tthis.dialog.hide();\n\t\t\t},\n\t\t});\n\t}\n\n\tadd_journal_entry(values) {\n\t\tfrappe.call({\n\t\t\tmethod:\n\t\t\t\t\"erpnext.accounts.doctype.bank_reconciliation_tool.bank_reconciliation_tool.create_journal_entry_bts\",\n\t\t\targs: {\n\t\t\t\tbank_transaction_name: this.bank_transaction.name,\n\t\t\t\treference_number: values.reference_number,\n\t\t\t\treference_date: values.reference_date,\n\t\t\t\tparty_type: values.party_type,\n\t\t\t\tparty: values.party,\n\t\t\t\tposting_date: values.posting_date,\n\t\t\t\tmode_of_payment: values.mode_of_payment,\n\t\t\t\tentry_type: values.journal_entry_type,\n\t\t\t\tsecond_account: values.second_account,\n\t\t\t},\n\t\t\tcallback: (response) => {\n\t\t\t\tconst alert_string = __(\"Bank Transaction {0} added as Journal Entry\", [this.bank_transaction.name]);\n\t\t\t\tfrappe.show_alert(alert_string);\n\t\t\t\tthis.update_dt_cards(response.message);\n\t\t\t\tthis.dialog.hide();\n\t\t\t},\n\t\t});\n\t}\n\n\tupdate_transaction(values) {\n\t\tfrappe.call({\n\t\t\tmethod:\n\t\t\t\t\"erpnext.accounts.doctype.bank_reconciliation_tool.bank_reconciliation_tool.update_bank_transaction\",\n\t\t\targs: {\n\t\t\t\tbank_transaction_name: this.bank_transaction.name,\n\t\t\t\treference_number: values.reference_number,\n\t\t\t\tparty_type: values.party_type,\n\t\t\t\tparty: values.party,\n\t\t\t},\n\t\t\tcallback: (response) => {\n\t\t\t\tconst alert_string = __(\"Bank Transaction {0} updated\", [this.bank_transaction.name]);\n\t\t\t\tfrappe.show_alert(alert_string);\n\t\t\t\tthis.update_dt_cards(response.message);\n\t\t\t\tthis.dialog.hide();\n\t\t\t},\n\t\t});\n\t}\n\n\tedit_in_full_page() {\n\t\tconst values = this.dialog.get_values(true);\n\t\tif (values.document_type == \"Payment Entry\") {\n\t\t\tfrappe.call({\n\t\t\t\tmethod:\n\t\t\t\t\t\"erpnext.accounts.doctype.bank_reconciliation_tool.bank_reconciliation_tool.create_payment_entry_bts\",\n\t\t\t\targs: {\n\t\t\t\t\tbank_transaction_name: this.bank_transaction.name,\n\t\t\t\t\treference_number: values.reference_number,\n\t\t\t\t\treference_date: values.reference_date,\n\t\t\t\t\tparty_type: values.party_type,\n\t\t\t\t\tparty: values.party,\n\t\t\t\t\tposting_date: values.posting_date,\n\t\t\t\t\tmode_of_payment: values.mode_of_payment,\n\t\t\t\t\tproject: values.project,\n\t\t\t\t\tcost_center: values.cost_center,\n\t\t\t\t\tallow_edit: true\n\t\t\t\t},\n\t\t\t\tcallback: (r) => {\n\t\t\t\t\tconst doc = frappe.model.sync(r.message);\n\t\t\t\t\tfrappe.set_route(\"Form\", doc[0].doctype, doc[0].name);\n\t\t\t\t},\n\t\t\t});\n\t\t} else {\n\t\t\tfrappe.call({\n\t\t\t\tmethod:\n\t\t\t\t\t\"erpnext.accounts.doctype.bank_reconciliation_tool.bank_reconciliation_tool.create_journal_entry_bts\",\n\t\t\t\targs: {\n\t\t\t\t\tbank_transaction_name: this.bank_transaction.name,\n\t\t\t\t\treference_number: values.reference_number,\n\t\t\t\t\treference_date: values.reference_date,\n\t\t\t\t\tparty_type: values.party_type,\n\t\t\t\t\tparty: values.party,\n\t\t\t\t\tposting_date: values.posting_date,\n\t\t\t\t\tmode_of_payment: values.mode_of_payment,\n\t\t\t\t\tentry_type: values.journal_entry_type,\n\t\t\t\t\tsecond_account: values.second_account,\n\t\t\t\t\tallow_edit: true\n\t\t\t\t},\n\t\t\t\tcallback: (r) => {\n\t\t\t\t\tvar doc = frappe.model.sync(r.message);\n\t\t\t\t\tfrappe.set_route(\"Form\", doc[0].doctype, doc[0].name);\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t}\n\n};\n"],
  "mappings": "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",
  "names": []
}
